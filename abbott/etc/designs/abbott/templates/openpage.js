function trackomnitureInfoLinks(pagetitle,label){s.linkTrackVars="channel,hier1,eVar15,eVar24,eVar50,prop15,prop24,prop57,prop62,prop71,eVar70,eVar71",linkname=s.pageName+": "+label+" link",linkname=linkname.toLowerCase(),s.linkTrackEvents="none",s.prop57=pagetitle+":"+label,s.prop57=s.prop57.toLowerCase(),s.eVar70="D=c57",s.tl(!0,"o",linkname)}
$(function(){$(window).width()>300&&$(window).width()<640&&$(".text a, .text-full a").on("tap",function(e){var el=$(this),link=el.attr("href");window.location=link})});
jQuery(function($){$(window).width()>300&&$(window).width()<640&&$(".sectionPanelwithBg .sectionPanel section a").off().on("tap",function(e){e.preventDefault();var el=$(this),link=el.attr("href");window.location=link});var ieCheck=$("html").hasClass("ie8"),maskURL=$(".sectionPanelwithBg .svgMask svg").find("rect").attr("mask"),maskColor=$(".sectionPanelwithBg .svgMask svg").find("rect").attr("fill"),svgImgElement=!0===ieCheck?"":document.createElementNS("http://www.w3.org/2000/svg","image"),rectElement=!0===ieCheck?"":document.createElementNS("http://www.w3.org/2000/svg","rect"),sectionPanelImgChanger={flags:{img:!0},cleanUp:function(){var hovers=$(".sectionPanelwithBg").find('section[rel="changeBg"]');$.each(hovers,function(i,j){$(this).removeClass("on")})},events:function(){$(".sectionPanelwithBg").on("mouseenter",'section[rel="changeBg"]',function(e){sectionPanelImgChanger.cleanUp(),$(this).addClass("on");var currentImg=$(".sectionPanelwithBg").find('img[data-rel="'+$(this).data("rel")+'"]').attr("src");ieCheck?($.each($(".sectionPanelwithBg").find("img.bgImg"),function(i,j){$(this).hide()}),$(".sectionPanelwithBg").find('img[data-rel="'+$(this).data("rel")+'"]').show()):(svgImgElement.setAttributeNS(null,"height","100%"),svgImgElement.setAttributeNS(null,"width","100%"),svgImgElement.setAttributeNS(null,"x","0"),svgImgElement.setAttributeNS(null,"y","0"),svgImgElement.setAttributeNS("http://www.w3.org/1999/xlink","href",currentImg),svgImgElement.setAttributeNS(null,"mask",maskURL),svgImgElement.setAttributeNS(null,"visibility","visible"),1===$(".sectionPanelwithBg").find(".svgMask").find("rect").length&&$(".sectionPanelwithBg").find(".svgMask").find("rect").remove(),$(".sectionPanelwithBg").find("svg").append(svgImgElement).attr("visibility","visible"))}),$(".sectionPanelwithBg").on("mouseleave",'section[rel="changeBg"]',function(e){ieCheck?$.each($(".sectionPanelwithBg").find("img.bgImg"),function(i,j){$(this).hide()}):($(svgImgElement).remove(),rectElement.setAttributeNS(null,"height","100%"),rectElement.setAttributeNS(null,"width","100%"),rectElement.setAttributeNS(null,"x","0"),rectElement.setAttributeNS(null,"y","0"),rectElement.setAttributeNS(null,"fill",maskColor),rectElement.setAttributeNS(null,"mask",maskURL),$(".sectionPanelwithBg").find("svg").append(rectElement).attr("visibility","visible")),sectionPanelImgChanger.cleanUp()})},init:function(){if(sectionPanelImgChanger.cleanUp(),ieCheck)$.each($(".sectionPanelwithBg").find("img.bgImg"),function(i,j){$(this).hide()}),$(".sectionPanelwithBg").find('img[data-rel="'+$(".sectionPanelwithBg").find('section[rel="changeBg"]:first').data("rel")+'"]').show();else{$(".sectionPanelwithBg").find('section[rel="changeBg"]:first').addClass("on");var currentImg=$(".sectionPanelwithBg").find('img[data-rel="'+$(".sectionPanelwithBg").find('section[rel="changeBg"]:first').data("rel")+'"]').attr("src");svgImgElement.setAttributeNS(null,"height","100%"),svgImgElement.setAttributeNS(null,"width","100%"),svgImgElement.setAttributeNS(null,"x","0"),svgImgElement.setAttributeNS(null,"y","0"),svgImgElement.setAttributeNS("http://www.w3.org/1999/xlink","href",currentImg),svgImgElement.setAttributeNS(null,"mask",maskURL),svgImgElement.setAttributeNS(null,"visibility","visible"),1===$(".sectionPanelwithBg").find(".svgMask").find("rect").length&&$(".sectionPanelwithBg").find(".svgMask").find("rect").remove(),$(".sectionPanelwithBg").find("svg").append(svgImgElement).attr("visibility","visible")}}};$(window).width()>700&&sectionPanelImgChanger.init()});
var IndPanel={};IndPanel.x2={},IndPanel.x2.showTab=function(field){IndPanel.x2.manageTabs(field.findParentByType("tabpanel"),field.getValue())},IndPanel.x2.manageTabs=function(tabPanel,tab){var tabs=["selection","1","2","3"],index=tab?tabs.indexOf(tab):-1;1==index?(tabPanel.findByType("smartimage")[0].allowBlank=!1,tabPanel.findByType("smartimage")[1].allowBlank=!1,tabPanel.findByType("smartimage")[2].allowBlank=!0,tabPanel.findByType("smartimage")[3].allowBlank=!0,tabPanel.getItem("tab1").findByType("textfield")[0].allowBlank=!1,tabPanel.getItem("tab1").findByType("textfield")[1].allowBlank=!1,tabPanel.getItem("tab1").findByType("pathfield")[0].allowBlank=!1,tabPanel.getItem("tab2").findByType("textfield")[0].allowBlank=!0,tabPanel.getItem("tab2").findByType("textfield")[1].allowBlank=!0,tabPanel.getItem("tab2").findByType("pathfield")[0].allowBlank=!0,tabPanel.getItem("tab3").findByType("textfield")[0].allowBlank=!0,tabPanel.getItem("tab3").findByType("textfield")[1].allowBlank=!0,tabPanel.getItem("tab3").findByType("pathfield")[0].allowBlank=!0,tabPanel.unhideTabStripItem(1),tabPanel.unhideTabStripItem(2),tabPanel.unhideTabStripItem(3),tabPanel.hideTabStripItem(4),tabPanel.hideTabStripItem(5),tabPanel.hideTabStripItem(6),tabPanel.hideTabStripItem(7)):2==index?(tabPanel.unhideTabStripItem(1),tabPanel.unhideTabStripItem(2),tabPanel.unhideTabStripItem(3),tabPanel.unhideTabStripItem(4),tabPanel.unhideTabStripItem(5),tabPanel.hideTabStripItem(6),tabPanel.hideTabStripItem(7),tabPanel.findByType("smartimage")[0].allowBlank=!1,tabPanel.findByType("smartimage")[1].allowBlank=!1,tabPanel.findByType("smartimage")[2].allowBlank=!1,tabPanel.findByType("smartimage")[3].allowBlank=!0,tabPanel.getItem("tab1").findByType("textfield")[0].allowBlank=!1,tabPanel.getItem("tab1").findByType("textfield")[1].allowBlank=!1,tabPanel.getItem("tab1").findByType("pathfield")[0].allowBlank=!1,tabPanel.getItem("tab2").findByType("textfield")[0].allowBlank=!1,tabPanel.getItem("tab2").findByType("textfield")[1].allowBlank=!1,tabPanel.getItem("tab2").findByType("pathfield")[0].allowBlank=!1,tabPanel.getItem("tab3").findByType("textfield")[0].allowBlank=!0,tabPanel.getItem("tab3").findByType("textfield")[1].allowBlank=!0,tabPanel.getItem("tab3").findByType("pathfield")[0].allowBlank=!0):3==index&&(tabPanel.unhideTabStripItem(1),tabPanel.unhideTabStripItem(2),tabPanel.unhideTabStripItem(3),tabPanel.unhideTabStripItem(4),tabPanel.unhideTabStripItem(5),tabPanel.unhideTabStripItem(6),tabPanel.unhideTabStripItem(7),tabPanel.findByType("smartimage")[0].allowBlank=!1,tabPanel.findByType("smartimage")[1].allowBlank=!1,tabPanel.findByType("smartimage")[2].allowBlank=!1,tabPanel.findByType("smartimage")[3].allowBlank=!1,tabPanel.getItem("tab1").findByType("textfield")[0].allowBlank=!1,tabPanel.getItem("tab1").findByType("textfield")[1].allowBlank=!1,tabPanel.getItem("tab1").findByType("pathfield")[0].allowBlank=!1,tabPanel.getItem("tab2").findByType("textfield")[0].allowBlank=!1,tabPanel.getItem("tab2").findByType("textfield")[1].allowBlank=!1,tabPanel.getItem("tab2").findByType("pathfield")[0].allowBlank=!1,tabPanel.getItem("tab3").findByType("textfield")[0].allowBlank=!1,tabPanel.getItem("tab3").findByType("textfield")[1].allowBlank=!1,tabPanel.getItem("tab3").findByType("pathfield")[0].allowBlank=!1),tabPanel.doLayout()};
$(function($){function giveScreenHeight(){if($(window).width()<600){var ty=$(window).height()+80;$(".productCarSec").height(ty)}}$(".productOverlayImg").click(function(){var userAutoPlay=$(".productSlider").data("autoplay"),userDelay=$(".productSlider").data("delay"),brandMiniSlideOption={animation:"slide",animationLoop:!0,itemWidth:140,itemMargin:2,controlNav:!1,minItems:3,maxItems:3,move:1,directionNav:!0,slideshowSpeed:""!==userDelay||void 0!==userDelay?parseInt(1e3*userDelay):3e3,slideshow:""===userAutoPlay&&void 0===userAutoPlay||userAutoPlay},brandMiniSlide=$(".brandPanel .productSlider .slides>li");brandMiniSlide.length>3?(brandMiniSlide.removeClass("less3mini"),$(".brandPanel .productSlider").flexslider(brandMiniSlideOption),$(".brandPanel .productSlider").find(".flex-direction-nav").length>0&&($(".brandPanel .productSlider").find(".flex-direction-nav").find("li:first").addClass("first-arrow"),$(".brandPanel .productSlider").find(".flex-direction-nav").find("li:last").addClass("last-arrow"))):brandMiniSlide.addClass("less3mini")}),giveScreenHeight(),$(window).resize(function(event){giveScreenHeight()})});
/*
 * jQuery FlexSlider v2.2.2
 * Copyright 2012 WooThemes
 * Contributing Author: Tyler Smith
 */
;
(function ($) {

  //FlexSlider: Object Instance
  $.flexslider = function(el, options) {
    var slider = $(el);

    // making variables public
    slider.vars = $.extend({}, $.flexslider.defaults, options);

    var namespace = slider.vars.namespace,
        msGesture = window.navigator && window.navigator.msPointerEnabled && window.MSGesture,
        touch = (( "ontouchstart" in window ) || msGesture || window.DocumentTouch && document instanceof DocumentTouch) && slider.vars.touch,
        // depricating this idea, as devices are being released with both of these events
        //eventType = (touch) ? "touchend" : "click",
        eventType = "click touchend MSPointerUp",
        watchedEvent = "",
        watchedEventClearTimer,
        vertical = slider.vars.direction === "vertical",
        reverse = slider.vars.reverse,
        carousel = (slider.vars.itemWidth > 0),
        fade = slider.vars.animation === "fade",
        asNav = slider.vars.asNavFor !== "",
        methods = {},
        focused = true;

    // Store a reference to the slider object
    $.data(el, "flexslider", slider);

    // Private slider methods
    methods = {
      init: function() {
        slider.animating = false;
        // Get current slide and make sure it is a number
        slider.currentSlide = parseInt( ( slider.vars.startAt ? slider.vars.startAt : 0), 10 );
        if ( isNaN( slider.currentSlide ) ) slider.currentSlide = 0;
        slider.animatingTo = slider.currentSlide;
        slider.atEnd = (slider.currentSlide === 0 || slider.currentSlide === slider.last);
        slider.containerSelector = slider.vars.selector.substr(0,slider.vars.selector.search(' '));
        slider.slides = $(slider.vars.selector, slider);
        slider.container = $(slider.containerSelector, slider);
        slider.count = slider.slides.length;
        // SYNC:
        slider.syncExists = $(slider.vars.sync).length > 0;
        // SLIDE:
        if (slider.vars.animation === "slide") slider.vars.animation = "swing";
        slider.prop = (vertical) ? "top" : "marginLeft";
        slider.args = {};
        // SLIDESHOW:
        slider.manualPause = false;
        slider.stopped = false;
        //PAUSE WHEN INVISIBLE
        slider.started = false;
        slider.startTimeout = null;
        // TOUCH/USECSS:
        slider.transitions = !slider.vars.video && !fade && slider.vars.useCSS && (function() {
          var obj = document.createElement('div'),
              props = ['perspectiveProperty', 'WebkitPerspective', 'MozPerspective', 'OPerspective', 'msPerspective'];
          for (var i in props) {
            if ( obj.style[ props[i] ] !== undefined ) {
              slider.pfx = props[i].replace('Perspective','').toLowerCase();
              slider.prop = "-" + slider.pfx + "-transform";
              return true;
            }
          }
          return false;
        }());
        // CONTROLSCONTAINER:
        if (slider.vars.controlsContainer !== "") slider.controlsContainer = $(slider.vars.controlsContainer).length > 0 && $(slider.vars.controlsContainer);
        // MANUAL:
        if (slider.vars.manualControls !== "") slider.manualControls = $(slider.vars.manualControls).length > 0 && $(slider.vars.manualControls);

        // RANDOMIZE:
        if (slider.vars.randomize) {
          slider.slides.sort(function() { return (Math.round(Math.random())-0.5); });
          slider.container.empty().append(slider.slides);
        }

        slider.doMath();

        // INIT
        slider.setup("init");

        // CONTROLNAV:
        if (slider.vars.controlNav) methods.controlNav.setup();

        // DIRECTIONNAV:
        if (slider.vars.directionNav) methods.directionNav.setup();

        // KEYBOARD:
        if (slider.vars.keyboard && ($(slider.containerSelector).length === 1 || slider.vars.multipleKeyboard)) {
          $(document).bind('keyup', function(event) {
            var keycode = event.keyCode;
            if (!slider.animating && (keycode === 39 || keycode === 37)) {
              var target = (keycode === 39) ? slider.getTarget('next') :
                           (keycode === 37) ? slider.getTarget('prev') : false;
              slider.flexAnimate(target, slider.vars.pauseOnAction);
            }
          });
        }
        // MOUSEWHEEL:
        if (slider.vars.mousewheel) {
          slider.bind('mousewheel', function(event, delta, deltaX, deltaY) {
            event.preventDefault();
            var target = (delta < 0) ? slider.getTarget('next') : slider.getTarget('prev');
            slider.flexAnimate(target, slider.vars.pauseOnAction);
          });
        }

        // PAUSEPLAY
        if (slider.vars.pausePlay) methods.pausePlay.setup();

        //PAUSE WHEN INVISIBLE
        if (slider.vars.slideshow && slider.vars.pauseInvisible) methods.pauseInvisible.init();

        // SLIDSESHOW
        if (slider.vars.slideshow) {
          if (slider.vars.pauseOnHover) {
            slider.hover(function() {
              if (!slider.manualPlay && !slider.manualPause) slider.pause();
            }, function() {
              if (!slider.manualPause && !slider.manualPlay && !slider.stopped) slider.play();
            });
          }
          // initialize animation
          //If we're visible, or we don't use PageVisibility API
          if(!slider.vars.pauseInvisible || !methods.pauseInvisible.isHidden()) {
            (slider.vars.initDelay > 0) ? slider.startTimeout = setTimeout(slider.play, slider.vars.initDelay) : slider.play();
          }
        }

        // ASNAV:
        if (asNav) methods.asNav.setup();

        // TOUCH
        //if (touch && slider.vars.touch) methods.touch();

        // FADE&&SMOOTHHEIGHT || SLIDE:
        if (!fade || (fade && slider.vars.smoothHeight)) $(window).bind("resize orientationchange focus", methods.resize);

        slider.find("img").attr("draggable", "false");

        // API: start() Callback
        setTimeout(function(){
          slider.vars.start(slider);
        }, 200);
      },
      asNav: {
        setup: function() {
          slider.asNav = true;
          slider.animatingTo = Math.floor(slider.currentSlide/slider.move);
          slider.currentItem = slider.currentSlide;
          slider.slides.removeClass(namespace + "active-slide").eq(slider.currentItem).addClass(namespace + "active-slide");
          if(!msGesture){
              slider.slides.on(eventType, function(e){
                e.preventDefault();
                var $slide = $(this),
                    target = $slide.index();
                var posFromLeft = $slide.offset().left - $(slider).scrollLeft(); // Find position of slide relative to left of slider container
                if( posFromLeft <= 0 && $slide.hasClass( namespace + 'active-slide' ) ) {
                  slider.flexAnimate(slider.getTarget("prev"), true);
                } else if (!$(slider.vars.asNavFor).data('flexslider').animating && !$slide.hasClass(namespace + "active-slide")) {
                  slider.direction = (slider.currentItem < target) ? "next" : "prev";
                  slider.flexAnimate(target, slider.vars.pauseOnAction, false, true, true);
                }
              });
          }else{
              el._slider = slider;
              slider.slides.each(function (){
                  var that = this;
                  that._gesture = new MSGesture();
                  that._gesture.target = that;
                  that.addEventListener("MSPointerDown", function (e){
                      e.preventDefault();
                      if(e.currentTarget._gesture)
                          e.currentTarget._gesture.addPointer(e.pointerId);
                  }, false);
                  that.addEventListener("MSGestureTap", function (e){
                      e.preventDefault();
                      var $slide = $(this),
                          target = $slide.index();
                      if (!$(slider.vars.asNavFor).data('flexslider').animating && !$slide.hasClass('active')) {
                          slider.direction = (slider.currentItem < target) ? "next" : "prev";
                          slider.flexAnimate(target, slider.vars.pauseOnAction, false, true, true);
                      }
                  });
              });
          }
        }
      },
      controlNav: {
        setup: function() {
          if (!slider.manualControls) {
            methods.controlNav.setupPaging();
          } else { // MANUALCONTROLS:
            methods.controlNav.setupManual();
          }
        },
        setupPaging: function() {
          var type = (slider.vars.controlNav === "thumbnails") ? 'control-thumbs' : 'control-paging',
              j = 1,
              item,
              slide;

          slider.controlNavScaffold = $('<ol class="'+ namespace + 'control-nav ' + namespace + type + '"></ol>');

          if (slider.pagingCount > 1) {
            for (var i = 0; i < slider.pagingCount; i++) {
              slide = slider.slides.eq(i);
              item = (slider.vars.controlNav === "thumbnails") ? '<img src="' + slide.attr( 'data-thumb' ) + '"/>' : '<a>' + j + '</a>';
              if ( 'thumbnails' === slider.vars.controlNav && true === slider.vars.thumbCaptions ) {
                var captn = slide.attr( 'data-thumbcaption' );
                if ( '' != captn && undefined != captn ) item += '<span class="' + namespace + 'caption">' + captn + '</span>';
              }
              slider.controlNavScaffold.append('<li>' + item + '</li>');
              j++;
            }
          }

          // CONTROLSCONTAINER:
          (slider.controlsContainer) ? $(slider.controlsContainer).append(slider.controlNavScaffold) : slider.append(slider.controlNavScaffold);
          methods.controlNav.set();

          methods.controlNav.active();

          slider.controlNavScaffold.delegate('a, img', eventType, function(event) {
            event.preventDefault();

            if (watchedEvent === "" || watchedEvent === event.type) {
              var $this = $(this),
                  target = slider.controlNav.index($this);

              if (!$this.hasClass(namespace + 'active')) {
                slider.direction = (target > slider.currentSlide) ? "next" : "prev";
                slider.flexAnimate(target, slider.vars.pauseOnAction);
              }
            }

            // setup flags to prevent event duplication
            if (watchedEvent === "") {
              watchedEvent = event.type;
            }
            methods.setToClearWatchedEvent();

          });
        },
        setupManual: function() {
          slider.controlNav = slider.manualControls;
          methods.controlNav.active();

          slider.controlNav.bind(eventType, function(event) {
            event.preventDefault();

            if (watchedEvent === "" || watchedEvent === event.type) {
              var $this = $(this),
                  target = slider.controlNav.index($this);

              if (!$this.hasClass(namespace + 'active')) {
                (target > slider.currentSlide) ? slider.direction = "next" : slider.direction = "prev";
                slider.flexAnimate(target, slider.vars.pauseOnAction);
              }
            }

            // setup flags to prevent event duplication
            if (watchedEvent === "") {
              watchedEvent = event.type;
            }
            methods.setToClearWatchedEvent();
          });
        },
        set: function() {
          var selector = (slider.vars.controlNav === "thumbnails") ? 'img' : 'a';
          slider.controlNav = $('.' + namespace + 'control-nav li ' + selector, (slider.controlsContainer) ? slider.controlsContainer : slider);
        },
        active: function() {
          slider.controlNav.removeClass(namespace + "active").eq(slider.animatingTo).addClass(namespace + "active");
        },
        update: function(action, pos) {
          if (slider.pagingCount > 1 && action === "add") {
            slider.controlNavScaffold.append($('<li><a>' + slider.count + '</a></li>'));
          } else if (slider.pagingCount === 1) {
            slider.controlNavScaffold.find('li').remove();
          } else {
            slider.controlNav.eq(pos).closest('li').remove();
          }
          methods.controlNav.set();
          (slider.pagingCount > 1 && slider.pagingCount !== slider.controlNav.length) ? slider.update(pos, action) : methods.controlNav.active();
        }
      },
      directionNav: {
        setup: function() {
          var directionNavScaffold = $('<ul class="' + namespace + 'direction-nav"><li><a class="' + namespace + 'prev" href="#">' + slider.vars.prevText + '</a></li><li><a class="' + namespace + 'next" href="#">' + slider.vars.nextText + '</a></li></ul>');

          // CONTROLSCONTAINER:
          if (slider.controlsContainer) {
            $(slider.controlsContainer).append(directionNavScaffold);
            slider.directionNav = $('.' + namespace + 'direction-nav li a', slider.controlsContainer);
          } else {
            slider.append(directionNavScaffold);
            slider.directionNav = $('.' + namespace + 'direction-nav li a', slider);
          }

          methods.directionNav.update();

          slider.directionNav.bind(eventType, function(event) {
            event.preventDefault();
            var target;

            if (watchedEvent === "" || watchedEvent === event.type) {
              target = ($(this).hasClass(namespace + 'next')) ? slider.getTarget('next') : slider.getTarget('prev');
              slider.flexAnimate(target, slider.vars.pauseOnAction);
            }

            // setup flags to prevent event duplication
            if (watchedEvent === "") {
              watchedEvent = event.type;
            }
            methods.setToClearWatchedEvent();
          });
        },
        update: function() {
          var disabledClass = namespace + 'disabled';
          if (slider.pagingCount === 1) {
            slider.directionNav.addClass(disabledClass).attr('tabindex', '-1');
          } else if (!slider.vars.animationLoop) {
            if (slider.animatingTo === 0) {
              slider.directionNav.removeClass(disabledClass).filter('.' + namespace + "prev").addClass(disabledClass).attr('tabindex', '-1');
            } else if (slider.animatingTo === slider.last) {
              slider.directionNav.removeClass(disabledClass).filter('.' + namespace + "next").addClass(disabledClass).attr('tabindex', '-1');
            } else {
              slider.directionNav.removeClass(disabledClass).removeAttr('tabindex');
            }
          } else {
            slider.directionNav.removeClass(disabledClass).removeAttr('tabindex');
          }
        }
      },
      pausePlay: {
        setup: function() {
          var pausePlayScaffold = $('<div class="' + namespace + 'pauseplay"><a></a></div>');

          // CONTROLSCONTAINER:
          if (slider.controlsContainer) {
            slider.controlsContainer.append(pausePlayScaffold);
            slider.pausePlay = $('.' + namespace + 'pauseplay a', slider.controlsContainer);
          } else {
            slider.append(pausePlayScaffold);
            slider.pausePlay = $('.' + namespace + 'pauseplay a', slider);
          }

          methods.pausePlay.update((slider.vars.slideshow) ? namespace + 'pause' : namespace + 'play');

          slider.pausePlay.bind(eventType, function(event) {
            event.preventDefault();

            if (watchedEvent === "" || watchedEvent === event.type) {
              if ($(this).hasClass(namespace + 'pause')) {
                slider.manualPause = true;
                slider.manualPlay = false;
                slider.pause();
              } else {
                slider.manualPause = false;
                slider.manualPlay = true;
                slider.play();
              }
            }

            // setup flags to prevent event duplication
            if (watchedEvent === "") {
              watchedEvent = event.type;
            }
            methods.setToClearWatchedEvent();
          });
        },
        update: function(state) {
          (state === "play") ? slider.pausePlay.removeClass(namespace + 'pause').addClass(namespace + 'play').html(slider.vars.playText) : slider.pausePlay.removeClass(namespace + 'play').addClass(namespace + 'pause').html(slider.vars.pauseText);
        }
      },
      touch: function() {
        var startX,
          startY,
          offset,
          cwidth,
          dx,
          startT,
          scrolling = false,
          localX = 0,
          localY = 0,
          accDx = 0;

        if(!msGesture){
            el.addEventListener('touchstart', onTouchStart, false);

            function onTouchStart(e) {
              if (slider.animating) {
                e.preventDefault();
              } else if ( ( window.navigator.msPointerEnabled ) || e.touches.length === 1 ) {
                slider.pause();
                // CAROUSEL:
                cwidth = (vertical) ? slider.h : slider. w;
                startT = Number(new Date());
                // CAROUSEL:

                // Local vars for X and Y points.
                localX = e.touches[0].pageX;
                localY = e.touches[0].pageY;

                offset = (carousel && reverse && slider.animatingTo === slider.last) ? 0 :
                         (carousel && reverse) ? slider.limit - (((slider.itemW + slider.vars.itemMargin) * slider.move) * slider.animatingTo) :
                         (carousel && slider.currentSlide === slider.last) ? slider.limit :
                         (carousel) ? ((slider.itemW + slider.vars.itemMargin) * slider.move) * slider.currentSlide :
                         (reverse) ? (slider.last - slider.currentSlide + slider.cloneOffset) * cwidth : (slider.currentSlide + slider.cloneOffset) * cwidth;
                startX = (vertical) ? localY : localX;
                startY = (vertical) ? localX : localY;

                el.addEventListener('touchmove', onTouchMove, false);
                el.addEventListener('touchend', onTouchEnd, false);
              }
            }

            function onTouchMove(e) {
              // Local vars for X and Y points.

              localX = e.touches[0].pageX;
              localY = e.touches[0].pageY;

              dx = (vertical) ? startX - localY : startX - localX;
              scrolling = (vertical) ? (Math.abs(dx) < Math.abs(localX - startY)) : (Math.abs(dx) < Math.abs(localY - startY));

              var fxms = 500;

              if ( ! scrolling || Number( new Date() ) - startT > fxms ) {
                e.preventDefault();
                if (!fade && slider.transitions) {
                  if (!slider.vars.animationLoop) {
                    dx = dx/((slider.currentSlide === 0 && dx < 0 || slider.currentSlide === slider.last && dx > 0) ? (Math.abs(dx)/cwidth+2) : 1);
                  }
                  slider.setProps(offset + dx, "setTouch");
                }
              }
            }

            function onTouchEnd(e) {
              // finish the touch by undoing the touch session
              el.removeEventListener('touchmove', onTouchMove, false);

              if (slider.animatingTo === slider.currentSlide && !scrolling && !(dx === null)) {
                var updateDx = (reverse) ? -dx : dx,
                    target = (updateDx > 0) ? slider.getTarget('next') : slider.getTarget('prev');

                if (slider.canAdvance(target) && (Number(new Date()) - startT < 550 && Math.abs(updateDx) > 50 || Math.abs(updateDx) > cwidth/2)) {
                  slider.flexAnimate(target, slider.vars.pauseOnAction);
                } else {
                  if (!fade) slider.flexAnimate(slider.currentSlide, slider.vars.pauseOnAction, true);
                }
              }
              el.removeEventListener('touchend', onTouchEnd, false);

              startX = null;
              startY = null;
              dx = null;
              offset = null;
            }
        }else{
            el.style.msTouchAction = "none";
            el._gesture = new MSGesture();
            el._gesture.target = el;
            el.addEventListener("MSPointerDown", onMSPointerDown, false);
            el._slider = slider;
            el.addEventListener("MSGestureChange", onMSGestureChange, false);
            el.addEventListener("MSGestureEnd", onMSGestureEnd, false);

            function onMSPointerDown(e){
                e.stopPropagation();
                if (slider.animating) {
                    e.preventDefault();
                }else{
                    slider.pause();
                    el._gesture.addPointer(e.pointerId);
                    accDx = 0;
                    cwidth = (vertical) ? slider.h : slider. w;
                    startT = Number(new Date());
                    // CAROUSEL:

                    offset = (carousel && reverse && slider.animatingTo === slider.last) ? 0 :
                        (carousel && reverse) ? slider.limit - (((slider.itemW + slider.vars.itemMargin) * slider.move) * slider.animatingTo) :
                            (carousel && slider.currentSlide === slider.last) ? slider.limit :
                                (carousel) ? ((slider.itemW + slider.vars.itemMargin) * slider.move) * slider.currentSlide :
                                    (reverse) ? (slider.last - slider.currentSlide + slider.cloneOffset) * cwidth : (slider.currentSlide + slider.cloneOffset) * cwidth;
                }
            }

            function onMSGestureChange(e) {
                e.stopPropagation();
                var slider = e.target._slider;
                if(!slider){
                    return;
                }
                var transX = -e.translationX,
                    transY = -e.translationY;

                //Accumulate translations.
                accDx = accDx + ((vertical) ? transY : transX);
                dx = accDx;
                scrolling = (vertical) ? (Math.abs(accDx) < Math.abs(-transX)) : (Math.abs(accDx) < Math.abs(-transY));

                if(e.detail === e.MSGESTURE_FLAG_INERTIA){
                    setImmediate(function (){
                        el._gesture.stop();
                    });

                    return;
                }

                if (!scrolling || Number(new Date()) - startT > 500) {
                    e.preventDefault();
                    if (!fade && slider.transitions) {
                        if (!slider.vars.animationLoop) {
                            dx = accDx / ((slider.currentSlide === 0 && accDx < 0 || slider.currentSlide === slider.last && accDx > 0) ? (Math.abs(accDx) / cwidth + 2) : 1);
                        }
                        slider.setProps(offset + dx, "setTouch");
                    }
                }
            }

            function onMSGestureEnd(e) {
                e.stopPropagation();
                var slider = e.target._slider;
                if(!slider){
                    return;
                }
                if (slider.animatingTo === slider.currentSlide && !scrolling && !(dx === null)) {
                    var updateDx = (reverse) ? -dx : dx,
                        target = (updateDx > 0) ? slider.getTarget('next') : slider.getTarget('prev');

                    if (slider.canAdvance(target) && (Number(new Date()) - startT < 550 && Math.abs(updateDx) > 50 || Math.abs(updateDx) > cwidth/2)) {
                        slider.flexAnimate(target, slider.vars.pauseOnAction);
                    } else {
                        if (!fade) slider.flexAnimate(slider.currentSlide, slider.vars.pauseOnAction, true);
                    }
                }

                startX = null;
                startY = null;
                dx = null;
                offset = null;
                accDx = 0;
            }
        }
      },
      resize: function() {
        if (!slider.animating && slider.is(':visible')) {
          if (!carousel) slider.doMath();

          if (fade) {
            // SMOOTH HEIGHT:
            methods.smoothHeight();
          } else if (carousel) { //CAROUSEL:
            slider.slides.width(slider.computedW);
            slider.update(slider.pagingCount);
            slider.setProps();
          }
          else if (vertical) { //VERTICAL:
            slider.viewport.height(slider.h);
            slider.setProps(slider.h, "setTotal");
          } else {
            // SMOOTH HEIGHT:
            if (slider.vars.smoothHeight) methods.smoothHeight();
            slider.newSlides.width(slider.computedW);
            slider.setProps(slider.computedW, "setTotal");
          }
        }
      },
      smoothHeight: function(dur) {
        if (!vertical || fade) {
          var $obj = (fade) ? slider : slider.viewport;
          (dur) ? $obj.animate({"height": slider.slides.eq(slider.animatingTo).height()}, dur) : $obj.height(slider.slides.eq(slider.animatingTo).height());
        }
      },
      sync: function(action) {
        var $obj = $(slider.vars.sync).data("flexslider"),
            target = slider.animatingTo;

        switch (action) {
          case "animate": $obj.flexAnimate(target, slider.vars.pauseOnAction, false, true); break;
          case "play": if (!$obj.playing && !$obj.asNav) { $obj.play(); } break;
          case "pause": $obj.pause(); break;
        }
      },
      uniqueID: function($clone) {
        $clone.find( '[id]' ).each(function() {
          var $this = $(this);
          $this.attr( 'id', $this.attr( 'id' ) + '_clone' );
        });
        return $clone;
      },
      pauseInvisible: {
        visProp: null,
        init: function() {
          var prefixes = ['webkit','moz','ms','o'];

          if ('hidden' in document) return 'hidden';
          for (var i = 0; i < prefixes.length; i++) {
            if ((prefixes[i] + 'Hidden') in document)
            methods.pauseInvisible.visProp = prefixes[i] + 'Hidden';
          }
          if (methods.pauseInvisible.visProp) {
            var evtname = methods.pauseInvisible.visProp.replace(/[H|h]idden/,'') + 'visibilitychange';
            document.addEventListener(evtname, function() {
              if (methods.pauseInvisible.isHidden()) {
                if(slider.startTimeout) clearTimeout(slider.startTimeout); //If clock is ticking, stop timer and prevent from starting while invisible
                else slider.pause(); //Or just pause
              }
              else {
                if(slider.started) slider.play(); //Initiated before, just play
                else (slider.vars.initDelay > 0) ? setTimeout(slider.play, slider.vars.initDelay) : slider.play(); //Didn't init before: simply init or wait for it
              }
            });
          }
        },
        isHidden: function() {
          return document[methods.pauseInvisible.visProp] || false;
        }
      },
      setToClearWatchedEvent: function() {
        clearTimeout(watchedEventClearTimer);
        watchedEventClearTimer = setTimeout(function() {
          watchedEvent = "";
        }, 3000);
      }
    };

    // public methods
    slider.flexAnimate = function(target, pause, override, withSync, fromNav) {
      if (!slider.vars.animationLoop && target !== slider.currentSlide) {
        slider.direction = (target > slider.currentSlide) ? "next" : "prev";
      }

      if (asNav && slider.pagingCount === 1) slider.direction = (slider.currentItem < target) ? "next" : "prev";

      if (!slider.animating && (slider.canAdvance(target, fromNav) || override) && slider.is(":visible")) {
        if (asNav && withSync) {
          var master = $(slider.vars.asNavFor).data('flexslider');
          slider.atEnd = target === 0 || target === slider.count - 1;
          master.flexAnimate(target, true, false, true, fromNav);
          slider.direction = (slider.currentItem < target) ? "next" : "prev";
          master.direction = slider.direction;

          if (Math.ceil((target + 1)/slider.visible) - 1 !== slider.currentSlide && target !== 0) {
            slider.currentItem = target;
            slider.slides.removeClass(namespace + "active-slide").eq(target).addClass(namespace + "active-slide");
            target = Math.floor(target/slider.visible);
          } else {
            slider.currentItem = target;
            slider.slides.removeClass(namespace + "active-slide").eq(target).addClass(namespace + "active-slide");
            return false;
          }
        }

        slider.animating = true;
        slider.animatingTo = target;

        // SLIDESHOW:
        if (pause) slider.pause();

        // API: before() animation Callback
        slider.vars.before(slider);

        // SYNC:
        if (slider.syncExists && !fromNav) methods.sync("animate");

        // CONTROLNAV
        if (slider.vars.controlNav) methods.controlNav.active();

        // !CAROUSEL:
        // CANDIDATE: slide active class (for add/remove slide)
        if (!carousel) slider.slides.removeClass(namespace + 'active-slide').eq(target).addClass(namespace + 'active-slide');

        // INFINITE LOOP:
        // CANDIDATE: atEnd
        slider.atEnd = target === 0 || target === slider.last;

        // DIRECTIONNAV:
        if (slider.vars.directionNav) methods.directionNav.update();

        if (target === slider.last) {
          // API: end() of cycle Callback
          slider.vars.end(slider);
          // SLIDESHOW && !INFINITE LOOP:
          if (!slider.vars.animationLoop) slider.pause();
        }

        // SLIDE:
        if (!fade) {
          var dimension = (vertical) ? slider.slides.filter(':first').height() : slider.computedW,
              margin, slideString, calcNext;

          // INFINITE LOOP / REVERSE:
          if (carousel) {
            //margin = (slider.vars.itemWidth > slider.w) ? slider.vars.itemMargin * 2 : slider.vars.itemMargin;
            margin = slider.vars.itemMargin;
            calcNext = ((slider.itemW + margin) * slider.move) * slider.animatingTo;
            slideString = (calcNext > slider.limit && slider.visible !== 1) ? slider.limit : calcNext;
          } else if (slider.currentSlide === 0 && target === slider.count - 1 && slider.vars.animationLoop && slider.direction !== "next") {
            slideString = (reverse) ? (slider.count + slider.cloneOffset) * dimension : 0;
          } else if (slider.currentSlide === slider.last && target === 0 && slider.vars.animationLoop && slider.direction !== "prev") {
            slideString = (reverse) ? 0 : (slider.count + 1) * dimension;
          } else {
            slideString = (reverse) ? ((slider.count - 1) - target + slider.cloneOffset) * dimension : (target + slider.cloneOffset) * dimension;
          }
          slider.setProps(slideString, "", slider.vars.animationSpeed);
          if (slider.transitions) {
            if (!slider.vars.animationLoop || !slider.atEnd) {
              slider.animating = false;
              slider.currentSlide = slider.animatingTo;
            }
            slider.container.unbind("webkitTransitionEnd transitionend");
            slider.container.bind("webkitTransitionEnd transitionend", function() {
              slider.wrapup(dimension);
            });
          } else {
            slider.container.animate(slider.args, slider.vars.animationSpeed, slider.vars.easing, function(){
              slider.wrapup(dimension);
            });
          }
        } else { // FADE:
          if (!touch) {
            //slider.slides.eq(slider.currentSlide).fadeOut(slider.vars.animationSpeed, slider.vars.easing);
            //slider.slides.eq(target).fadeIn(slider.vars.animationSpeed, slider.vars.easing, slider.wrapup);

            slider.slides.eq(slider.currentSlide).css({"zIndex": 1}).animate({"opacity": 0}, slider.vars.animationSpeed, slider.vars.easing);
            slider.slides.eq(target).css({"zIndex": 2}).animate({"opacity": 1}, slider.vars.animationSpeed, slider.vars.easing, slider.wrapup);

          } else {
            slider.slides.eq(slider.currentSlide).css({ "opacity": 0, "zIndex": 1 });
            slider.slides.eq(target).css({ "opacity": 1, "zIndex": 2 });
            slider.wrapup(dimension);
          }
        }
        // SMOOTH HEIGHT:
        if (slider.vars.smoothHeight) methods.smoothHeight(slider.vars.animationSpeed);
      }
    };
    slider.wrapup = function(dimension) {
      // SLIDE:
      if (!fade && !carousel) {
        if (slider.currentSlide === 0 && slider.animatingTo === slider.last && slider.vars.animationLoop) {
          slider.setProps(dimension, "jumpEnd");
        } else if (slider.currentSlide === slider.last && slider.animatingTo === 0 && slider.vars.animationLoop) {
          slider.setProps(dimension, "jumpStart");
        }
      }
      slider.animating = false;
      slider.currentSlide = slider.animatingTo;
      // API: after() animation Callback
      slider.vars.after(slider);
    };

    // SLIDESHOW:
    slider.animateSlides = function() {
      if (!slider.animating && focused ) slider.flexAnimate(slider.getTarget("next"));
    };
    // SLIDESHOW:
    slider.pause = function() {
      clearInterval(slider.animatedSlides);
      slider.animatedSlides = null;
      slider.playing = false;
      // PAUSEPLAY:
      if (slider.vars.pausePlay) methods.pausePlay.update("play");
      // SYNC:
      if (slider.syncExists) methods.sync("pause");
    };
    // SLIDESHOW:
    slider.play = function() {
      if (slider.playing) clearInterval(slider.animatedSlides);
      slider.animatedSlides = slider.animatedSlides || setInterval(slider.animateSlides, slider.vars.slideshowSpeed);
      slider.started = slider.playing = true;
      // PAUSEPLAY:
      if (slider.vars.pausePlay) methods.pausePlay.update("pause");
      // SYNC:
      if (slider.syncExists) methods.sync("play");
    };
    // STOP:
    slider.stop = function () {
      slider.pause();
      slider.stopped = true;
    };
    slider.canAdvance = function(target, fromNav) {
      // ASNAV:
      var last = (asNav) ? slider.pagingCount - 1 : slider.last;
      return (fromNav) ? true :
             (asNav && slider.currentItem === slider.count - 1 && target === 0 && slider.direction === "prev") ? true :
             (asNav && slider.currentItem === 0 && target === slider.pagingCount - 1 && slider.direction !== "next") ? false :
             (target === slider.currentSlide && !asNav) ? false :
             (slider.vars.animationLoop) ? true :
             (slider.atEnd && slider.currentSlide === 0 && target === last && slider.direction !== "next") ? false :
             (slider.atEnd && slider.currentSlide === last && target === 0 && slider.direction === "next") ? false :
             true;
    };
    slider.getTarget = function(dir) {
      slider.direction = dir;
      if (dir === "next") {
        return (slider.currentSlide === slider.last) ? 0 : slider.currentSlide + 1;
      } else {
        return (slider.currentSlide === 0) ? slider.last : slider.currentSlide - 1;
      }
    };

    // SLIDE:
    slider.setProps = function(pos, special, dur) {
      var target = (function() {
        var posCheck = (pos) ? pos : ((slider.itemW + slider.vars.itemMargin) * slider.move) * slider.animatingTo,
            posCalc = (function() {
              if (carousel) {
                return (special === "setTouch") ? pos :
                       (reverse && slider.animatingTo === slider.last) ? 0 :
                       (reverse) ? slider.limit - (((slider.itemW + slider.vars.itemMargin) * slider.move) * slider.animatingTo) :
                       (slider.animatingTo === slider.last) ? slider.limit : posCheck;
              } else {
                switch (special) {
                  case "setTotal": return (reverse) ? ((slider.count - 1) - slider.currentSlide + slider.cloneOffset) * pos : (slider.currentSlide + slider.cloneOffset) * pos;
                  case "setTouch": return (reverse) ? pos : pos;
                  case "jumpEnd": return (reverse) ? pos : slider.count * pos;
                  case "jumpStart": return (reverse) ? slider.count * pos : pos;
                  default: return pos;
                }
              }
            }());

            return (posCalc * -1) + "px";
          }());

      if (slider.transitions) {
        target = (vertical) ? "translate3d(0," + target + ",0)" : "translate3d(" + target + ",0,0)";
        dur = (dur !== undefined) ? (dur/1000) + "s" : "0s";
        slider.container.css("-" + slider.pfx + "-transition-duration", dur);
         slider.container.css("transition-duration", dur);
      }

      slider.args[slider.prop] = target;
      if (slider.transitions || dur === undefined) slider.container.css(slider.args);

      slider.container.css('transform',target);
    };

    slider.setup = function(type) {
      // SLIDE:
      if (!fade) {
        var sliderOffset, arr;

        if (type === "init") {
          slider.viewport = $('<div class="' + namespace + 'viewport"></div>').css({"overflow": "hidden", "position": "relative"}).appendTo(slider).append(slider.container);
          // INFINITE LOOP:
          slider.cloneCount = 0;
          slider.cloneOffset = 0;
          // REVERSE:
          if (reverse) {
            arr = $.makeArray(slider.slides).reverse();
            slider.slides = $(arr);
            slider.container.empty().append(slider.slides);
          }
        }
        // INFINITE LOOP && !CAROUSEL:
        if (slider.vars.animationLoop && !carousel) {
          slider.cloneCount = 2;
          slider.cloneOffset = 1;
          // clear out old clones
          if (type !== "init") slider.container.find('.clone').remove();
          slider.container.append(slider.slides.first().clone().addClass('clone').attr('aria-hidden', 'true')).prepend(slider.slides.last().clone().addClass('clone').attr('aria-hidden', 'true'));
		      methods.uniqueID( slider.slides.first().clone().addClass('clone') ).appendTo( slider.container );
		      methods.uniqueID( slider.slides.last().clone().addClass('clone') ).prependTo( slider.container );
        }
        slider.newSlides = $(slider.vars.selector, slider);

        sliderOffset = (reverse) ? slider.count - 1 - slider.currentSlide + slider.cloneOffset : slider.currentSlide + slider.cloneOffset;
        // VERTICAL:
        if (vertical && !carousel) {
          slider.container.height((slider.count + slider.cloneCount) * 200 + "%").css("position", "absolute").width("100%");
          setTimeout(function(){
            slider.newSlides.css({"display": "block"});
            slider.doMath();
            slider.viewport.height(slider.h);
            slider.setProps(sliderOffset * slider.h, "init");
          }, (type === "init") ? 100 : 0);
        } else {
          slider.container.width((slider.count + slider.cloneCount) * 200 + "%");
          slider.setProps(sliderOffset * slider.computedW, "init");
          setTimeout(function(){
            slider.doMath();
            slider.newSlides.css({"width": slider.computedW, "float": "left", "display": "block"});
            // SMOOTH HEIGHT:
            if (slider.vars.smoothHeight) methods.smoothHeight();
          }, (type === "init") ? 100 : 0);
        }
      } else { // FADE:
        slider.slides.css({"width": "100%", "float": "left", "marginRight": "-100%", "position": "relative"});
        if (type === "init") {
          if (!touch) {
            //slider.slides.eq(slider.currentSlide).fadeIn(slider.vars.animationSpeed, slider.vars.easing);
            slider.slides.css({ "opacity": 0, "display": "block", "zIndex": 1 }).eq(slider.currentSlide).css({"zIndex": 2}).animate({"opacity": 1},slider.vars.animationSpeed,slider.vars.easing);
          } else {
            slider.slides.css({ "opacity": 0, "display": "block", "webkitTransition": "opacity " + slider.vars.animationSpeed / 1000 + "s ease", "zIndex": 1 }).eq(slider.currentSlide).css({ "opacity": 1, "zIndex": 2});
          }
        }
        // SMOOTH HEIGHT:
        if (slider.vars.smoothHeight) methods.smoothHeight();
      }
      // !CAROUSEL:
      // CANDIDATE: active slide
      if (!carousel) slider.slides.removeClass(namespace + "active-slide").eq(slider.currentSlide).addClass(namespace + "active-slide");

      //FlexSlider: init() Callback
      slider.vars.init(slider);
    };

    slider.doMath = function() {
      var slide = slider.slides.first(),
          slideMargin = slider.vars.itemMargin,
          minItems = slider.vars.minItems,
          maxItems = slider.vars.maxItems;

      slider.w = (slider.viewport===undefined) ? slider.width() : slider.viewport.width();
      slider.h = slide.height();
      slider.boxPadding = slide.outerWidth() - slide.width();

      // CAROUSEL:
      if (carousel) {
        slider.itemT = slider.vars.itemWidth + slideMargin;
        slider.minW = (minItems) ? minItems * slider.itemT : slider.w;
        slider.maxW = (maxItems) ? (maxItems * slider.itemT) - slideMargin : slider.w;
        slider.itemW = (slider.minW > slider.w) ? (slider.w - (slideMargin * (minItems - 1)))/minItems :
                       (slider.maxW < slider.w) ? (slider.w - (slideMargin * (maxItems - 1)))/maxItems :
                       (slider.vars.itemWidth > slider.w) ? slider.w : slider.vars.itemWidth;

        slider.visible = Math.floor(slider.w/(slider.itemW));
        slider.move = (slider.vars.move > 0 && slider.vars.move < slider.visible ) ? slider.vars.move : slider.visible;
        slider.pagingCount = Math.ceil(((slider.count - slider.visible)/slider.move) + 1);
        slider.last =  slider.pagingCount - 1;
        slider.limit = (slider.pagingCount === 1) ? 0 :
                       (slider.vars.itemWidth > slider.w) ? (slider.itemW * (slider.count - 1)) + (slideMargin * (slider.count - 1)) : ((slider.itemW + slideMargin) * slider.count) - slider.w - slideMargin;
      } else {
        slider.itemW = slider.w;
        slider.pagingCount = slider.count;
        slider.last = slider.count - 1;
      }
      slider.computedW = slider.itemW - slider.boxPadding;
    };

    slider.update = function(pos, action) {
      slider.doMath();

      // update currentSlide and slider.animatingTo if necessary
      if (!carousel) {
        if (pos < slider.currentSlide) {
          slider.currentSlide += 1;
        } else if (pos <= slider.currentSlide && pos !== 0) {
          slider.currentSlide -= 1;
        }
        slider.animatingTo = slider.currentSlide;
      }

      // update controlNav
      if (slider.vars.controlNav && !slider.manualControls) {
        if ((action === "add" && !carousel) || slider.pagingCount > slider.controlNav.length) {
          methods.controlNav.update("add");
        } else if ((action === "remove" && !carousel) || slider.pagingCount < slider.controlNav.length) {
          if (carousel && slider.currentSlide > slider.last) {
            slider.currentSlide -= 1;
            slider.animatingTo -= 1;
          }
          methods.controlNav.update("remove", slider.last);
        }
      }
      // update directionNav
      if (slider.vars.directionNav) methods.directionNav.update();

    };

    slider.addSlide = function(obj, pos) {
      var $obj = $(obj);

      slider.count += 1;
      slider.last = slider.count - 1;

      // append new slide
      if (vertical && reverse) {
        (pos !== undefined) ? slider.slides.eq(slider.count - pos).after($obj) : slider.container.prepend($obj);
      } else {
        (pos !== undefined) ? slider.slides.eq(pos).before($obj) : slider.container.append($obj);
      }

      // update currentSlide, animatingTo, controlNav, and directionNav
      slider.update(pos, "add");

      // update slider.slides
      slider.slides = $(slider.vars.selector + ':not(.clone)', slider);
      // re-setup the slider to accomdate new slide
      slider.setup();

      //FlexSlider: added() Callback
      slider.vars.added(slider);
    };
    slider.removeSlide = function(obj) {
      var pos = (isNaN(obj)) ? slider.slides.index($(obj)) : obj;

      // update count
      slider.count -= 1;
      slider.last = slider.count - 1;

      // remove slide
      if (isNaN(obj)) {
        $(obj, slider.slides).remove();
      } else {
        (vertical && reverse) ? slider.slides.eq(slider.last).remove() : slider.slides.eq(obj).remove();
      }

      // update currentSlide, animatingTo, controlNav, and directionNav
      slider.doMath();
      slider.update(pos, "remove");

      // update slider.slides
      slider.slides = $(slider.vars.selector + ':not(.clone)', slider);
      // re-setup the slider to accomdate new slide
      slider.setup();

      // FlexSlider: removed() Callback
      slider.vars.removed(slider);
    };

    //FlexSlider: Initialize
    methods.init();
  };

  // Ensure the slider isn't focussed if the window loses focus.
  $( window ).blur( function ( e ) {
    focused = false;
  }).focus( function ( e ) {
    focused = true;
  });

  //FlexSlider: Default Settings
  $.flexslider.defaults = {
    namespace: "flex-",             //{NEW} String: Prefix string attached to the class of every element generated by the plugin
    selector: ".slides > li",       //{NEW} Selector: Must match a simple pattern. '{container} > {slide}' -- Ignore pattern at your own peril
    animation: "fade",              //String: Select your animation type, "fade" or "slide"
    easing: "swing",                //{NEW} String: Determines the easing method used in jQuery transitions. jQuery easing plugin is supported!
    direction: "horizontal",        //String: Select the sliding direction, "horizontal" or "vertical"
    reverse: false,                 //{NEW} Boolean: Reverse the animation direction
    animationLoop: true,            //Boolean: Should the animation loop? If false, directionNav will received "disable" classes at either end
    smoothHeight: false,            //{NEW} Boolean: Allow height of the slider to animate smoothly in horizontal mode
    startAt: 0,                     //Integer: The slide that the slider should start on. Array notation (0 = first slide)
    slideshow: true,                //Boolean: Animate slider automatically
    slideshowSpeed: 7000,           //Integer: Set the speed of the slideshow cycling, in milliseconds
    animationSpeed: 600,            //Integer: Set the speed of animations, in milliseconds
    initDelay: 0,                   //{NEW} Integer: Set an initialization delay, in milliseconds
    randomize: false,               //Boolean: Randomize slide order
    thumbCaptions: false,           //Boolean: Whether or not to put captions on thumbnails when using the "thumbnails" controlNav.

    // Usability features
    pauseOnAction: true,            //Boolean: Pause the slideshow when interacting with control elements, highly recommended.
    pauseOnHover: false,            //Boolean: Pause the slideshow when hovering over slider, then resume when no longer hovering
    pauseInvisible: true,   		//{NEW} Boolean: Pause the slideshow when tab is invisible, resume when visible. Provides better UX, lower CPU usage.
    useCSS: true,                   //{NEW} Boolean: Slider will use CSS3 transitions if available
    touch: true,                    //{NEW} Boolean: Allow touch swipe navigation of the slider on touch-enabled devices
    video: false,                   //{NEW} Boolean: If using video in the slider, will prevent CSS3 3D Transforms to avoid graphical glitches

    // Primary Controls
    controlNav: true,               //Boolean: Create navigation for paging control of each clide? Note: Leave true for manualControls usage
    directionNav: true,             //Boolean: Create navigation for previous/next navigation? (true/false)
    prevText: "Previous",           //String: Set the text for the "previous" directionNav item
    nextText: "Next",               //String: Set the text for the "next" directionNav item

    // Secondary Navigation
    keyboard: true,                 //Boolean: Allow slider navigating via keyboard left/right keys
    multipleKeyboard: false,        //{NEW} Boolean: Allow keyboard navigation to affect multiple sliders. Default behavior cuts out keyboard navigation with more than one slider present.
    mousewheel: false,              //{UPDATED} Boolean: Requires jquery.mousewheel.js (https://github.com/brandonaaron/jquery-mousewheel) - Allows slider navigating via mousewheel
    pausePlay: false,               //Boolean: Create pause/play dynamic element
    pauseText: "Pause",             //String: Set the text for the "pause" pausePlay item
    playText: "Play",               //String: Set the text for the "play" pausePlay item

    // Special properties
    controlsContainer: "",          //{UPDATED} jQuery Object/Selector: Declare which container the navigation elements should be appended too. Default container is the FlexSlider element. Example use would be $(".flexslider-container"). Property is ignored if given element is not found.
    manualControls: "",             //{UPDATED} jQuery Object/Selector: Declare custom control navigation. Examples would be $(".flex-control-nav li") or "#tabs-nav li img", etc. The number of elements in your controlNav should match the number of slides/tabs.
    sync: "",                       //{NEW} Selector: Mirror the actions performed on this slider with another slider. Use with care.
    asNavFor: "",                   //{NEW} Selector: Internal property exposed for turning the slider into a thumbnail navigation for another slider

    // Carousel Options
    itemWidth: 0,                   //{NEW} Integer: Box-model width of individual carousel items, including horizontal borders and padding.
    itemMargin: 0,                  //{NEW} Integer: Margin between carousel items.
    minItems: 1,                    //{NEW} Integer: Minimum number of carousel items that should be visible. Items will resize fluidly when below this.
    maxItems: 0,                    //{NEW} Integer: Maxmimum number of carousel items that should be visible. Items will resize fluidly when above this limit.
    move: 0,                        //{NEW} Integer: Number of carousel items that should move on animation. If 0, slider will move all visible items.
    allowOneSlide: true,           //{NEW} Boolean: Whether or not to allow a slider comprised of a single slide

    // Callback API
    start: function(){},            //Callback: function(slider) - Fires when the slider loads the first slide
    before: function(){},           //Callback: function(slider) - Fires asynchronously with each slider animation
    after: function(){},            //Callback: function(slider) - Fires after each slider animation completes
    end: function(){},              //Callback: function(slider) - Fires when the slider reaches the last slide (asynchronous)
    added: function(){},            //{NEW} Callback: function(slider) - Fires after a slide is added
    removed: function(){},           //{NEW} Callback: function(slider) - Fires after a slide is removed
    init: function() {}             //{NEW} Callback: function(slider) - Fires after the slider is initially setup
  };

  //FlexSlider: Plugin Function
  $.fn.flexslider = function(options) {
    if (options === undefined) options = {};

    if (typeof options === "object") {
      return this.each(function() {
        var $this = $(this),
            selector = (options.selector) ? options.selector : ".slides > li",
            $slides = $this.find(selector);

      if ( ( $slides.length === 1 && options.allowOneSlide === true ) || $slides.length === 0 ) {
          $slides.fadeIn(400);
          if (options.start) options.start($this);
        } else if ($this.data('flexslider') === undefined) {
          new $.flexslider(this, options);
        }
      });
    } else {
      // Helper strings to quickly perform functions on the slider
      var $slider = $(this).data('flexslider');
      switch (options) {
        case "play": $slider.play(); break;
        case "pause": $slider.pause(); break;
        case "stop": $slider.stop(); break;
        case "next": $slider.flexAnimate($slider.getTarget("next"), true); break;
        case "prev":
        case "previous": $slider.flexAnimate($slider.getTarget("prev"), true); break;
        default: if (typeof options === "number") $slider.flexAnimate(options, true);
      }
    }
  };
})(jQuery);

jQuery(function($){var userAutoPlay=$(".product-carousel .productSlider").data("autoplay"),userDelay=$(".product-carousel .productSlider").data("delay"),sliderOptions={animation:"slide",animationLoop:!0,itemWidth:236,itemMargin:3,controlNav:!1,minItems:4,maxItems:4,move:1,startAt:0,directionNav:!0,slideshowSpeed:""!==userDelay||void 0!==userDelay?parseInt(1e3*userDelay):3e3,slideshow:""===userAutoPlay&&void 0===userAutoPlay||userAutoPlay},totalSlides=$(".product-carousel .productSlider").find(".slides > li").length,productPanelMobile={init:function(){$("a.panelsLoadMore1").hide();var totalPanels=$(".product-carousel .productSlider").find(".slides > li").length,currentTotalPanels=totalPanels;currentTotalPanels>4?($("a.panelsLoadMore1").show(),currentTotalPanels-=4):$("a.panelsLoadMore1").hide(),$("html").hasClass("ie8")?($("a.panelsLoadMore1").hide(),$(".product-carousel .product-carouselContent").attr("style","height: auto !important")):$(".product-carousel .product-carouselContent").attr("style","max-height: 991px !important"),$("a.panelsLoadMore1").off().on("click",function(e){if(e.preventDefault(),currentTotalPanels>4){currentTotalPanels-=4;var existingHeight=$(".product-carousel .product-carouselContent").outerHeight(),modifiedHeight=existingHeight+940;$(".product-carousel .product-carouselContent").attr("style","height: "+modifiedHeight+"px !important")}else $(".product-carousel .product-carouselContent").attr("style","height: auto !important"),$(this).hide()})}},flexdestroy=function(selector){var el=$(selector),elClean=el.clone();elClean.find(".flex-viewport").children().unwrap(),elClean.removeClass("flexslider").find(".clone, .flex-direction-nav, .flex-control-nav").remove().end().find("*").removeAttr("style").removeClass(function(index,css){return(String(css).match(/\bflex\S+/g)||[]).join(" ")}),elClean.insertBefore(el),el.remove()},productImagesPanel={init:function(){if($(window).width()>767&&totalSlides>4)$(".product-carousel .productSlider").flexslider(sliderOptions),$(".product-carousel").find(".productSlider > .flex-direction-nav").length>0&&($(".product-carousel").find(".productSlider > .flex-direction-nav").find("li:first").addClass("first-arrow"),$(".product-carousel").find(".productSlider > .flex-direction-nav").find("li:last").addClass("last-arrow"));else{if($(window).width()>767&&totalSlides<4)return;productPanelMobile.init()}}},productOverlay={init:function(oId,oThm,oSs){if($(window).width()>767){$(".product-carousel").append('<div class="popupFill '+oThm+'" rel="popFiller">'+$(oId).html()+"</div>"),$('div[rel="popFiller"]').addClass($(oId).attr("class").split(" ")[1]).append('<a href="#" class="closeBtn">CLOSE</a>');var mId=$('div[rel="popFiller"]').find("mask:first").attr("id");$('div[rel="popFiller"]').find("mask:first").attr("id",mId+"_"+oId),$('div[rel="popFiller"]').find("rect:first").attr("style"," ").attr("style","mask: url(#"+mId+"_"+oId+")");var miniTotalSlides=$(".productSlider .miniProductSlider").find("."+oSs).length,miniSliderOptions={selector:"."+oSs,animation:"slide",animationLoop:!0,itemWidth:135,itemMargin:5,controlNav:!1,minItems:3,maxItems:3,move:1,startAt:0,directionNav:!0,slideShow:!1};miniTotalSlides>3?($(".product-carousel .miniProductSlider").flexslider(miniSliderOptions),$(".product-carousel .miniProductSlider").find("."+oSs).removeClass("lessThan3Prod"),$(".product-carousel").find(".miniProductSlider > .flex-direction-nav").length>0&&($(".product-carousel").find(".miniProductSlider > .flex-direction-nav").find("li:first").addClass("first-arrow"),$(".product-carousel").find(".miniProductSlider > .flex-direction-nav").find("li:last").addClass("last-arrow"))):$(".product-carousel .miniProductSlider").find("."+oSs).addClass("lessThan3Prod"),$("html").hasClass("ie8")&&abbott.xLinkApi.ie8Fallback($('div[rel="popFiller"]').find(".applyMask:first")),$('div[rel="popFiller"]').fadeIn()}else{$(".miniProductSlider").hide(),$("body").append('<div class="popupFill '+oThm+'" rel="popFiller" style="z-index:9999;top:0px;width:'+$(window).width()+"px; height:"+($(window).height()+115)+'px;overflow:hidden;overflow-y:scroll;">'+$(oId).html()+"</div>"),$('div[rel="popFiller"]').append('<a href="#" class="closeBtn">CLOSE</a>');var mId0=$('div[rel="popFiller"]').find("mask:first").attr("id");$('div[rel="popFiller"]').find("mask:first").attr("id",mId0+"_m_"+oId),$('div[rel="popFiller"]').find("rect:first").attr("style"," ").attr("style","mask: url(#"+mId0+"_m_"+oId+")"),$('div[rel="popFiller"]').fadeIn(),$("html, body").animate({scrollTop:0},1),$("html, body").attr("style","height:"+$(window).height()+"px;overflow:hidden;")}$("a.closeBtn").on("click",function(e){e.preventDefault(),$("body").attr("style",""),$(".product-carousel .labelSec").show(),$("html, body").animate({scrollTop:$(".product-carousel").position().top},1),$('div[rel="popFiller"]').fadeOut(),$('div[rel="popFiller"]').remove()})}},productPanelEvents={init:function(){$(window.document).on("mouseenter",".product-carousel a",function(e){e.preventDefault(),$(this).parent().addClass("on")}),$(window.document).on("mouseleave",".product-carousel a",function(e){e.preventDefault(),$(this).parent().removeClass("on")}),$(window.document).on("click",'.product-carousel .productSlider .slides li a[rel="popupFill"]',function(){var popFillId=$(this).attr("href"),theme=$(popFillId).data("themeclass"),slideSelector=$(popFillId).find("ul").attr("class")+" > li";if(productOverlay.init(popFillId,theme,slideSelector),$(window).width()>767&&($("html").hasClass("ie9")||$("html").hasClass("ie10")||$("html").hasClass("ie11"))){var maskComponents=$("body").find("[data-mask]");$.each(maskComponents,function(i,j){"none"!==$(maskComponents[i]).data("mask")&&abbott.xLinkApi.responsiveMaskIE910(maskComponents[i])})}})}},lessPanelsFix=function(){var panelUL=".product-carousel ul.slides";$(panelUL).hasClass("threeItemsOnly")||$(panelUL).hasClass("oneItemsOnly");$(panelUL).find(".blanks").remove(),$(panelUL).hasClass("twoItemsOnly")&&($(panelUL).prepend('<li class="blanks on2" style="background:transparent"></li>'),$(panelUL).append('<li class="blanks last-product on2" style="background:transparent"></li>'))},lessPanelsFixFlag=0;productPanelEvents.init(),productImagesPanel.init(),$(window).width()>767&&lessPanelsFix(),$(window).resize(function(){if($(window).width()<768){var panelUL=".product-carousel ul.slides";$(panelUL).hasClass("threeItemsOnly")||$(panelUL).hasClass("oneItemsOnly");$(panelUL).hasClass("twoItemsOnly")&&$(panelUL).find(".blanks").remove(),flexdestroy(".product-carousel .productSlider"),($("html").hasClass("win")||$("html").hasClass("mac"))&&productPanelMobile.init()}else if(0===lessPanelsFixFlag&&(lessPanelsFix(),lessPanelsFixFlag=1),$("a.panelsLoadMore1").off("click"),$("a.panelsLoadMore1").hide(),totalSlides>4)flexdestroy(".product-carousel .productSlider"),$(".product-carousel .productSlider").flexslider(sliderOptions),$(".product-carousel").find(".productSlider > .flex-direction-nav").length>0&&($(".product-carousel").find(".productSlider > .flex-direction-nav").find("li:first").addClass("first-arrow"),$(".product-carousel").find(".productSlider > .flex-direction-nav").find("li:last").addClass("last-arrow"));else if($(window).width()>767&&totalSlides<4)return}),"undefined"!=typeof s&&s&&"undefined"!=typeof enableTracking&&enableTracking&&(s.linkTrackVars="channel,hier1,eVar15,eVar24,eVar50,eVar70,eVar75,prop15,prop24,prop57,prop62,prop71,eVar71",s.linkTrackEvents="none",s.prop57="carousel",s.eVar70="D=c57",$(".flex-next").click(function(e){s.linkName=s.pageName+": carousel: right arrow",s.tl(!0,"o",s.linkName)}),$(".flex-prev").click(function(e){s.linkName=s.pageName+": carousel: left arrow",s.tl(!0,"o",s.linkName)}))});
!function(MODULE,$,undefined){MODULE.Form=function(){function _subModule(){var formPassed=!0,flagPassed=!0;return validateInquiryForm={init:function(){$("#enquiryForm").submit(function(event){var invalidfFlag=!1,formhasErrors=!1,inputtext=$('.form_fill_content input[type="text"]');$(inputtext).each(function(){var str=$.trim($(this).val());if(0==$(this).val().length)$(this).removeClass("validstate").addClass("errorstate"),formhasErrors=!0;else if(""!=str){var regx=/^[A-Za-z0-9 _]+$/;regx.test(str)||$(this).hasClass("address")?$(this).removeClass("errorstate").addClass("validstate"):($(this).removeClass("validstate").addClass("errorstate"),invalidfFlag=!0)}else $(this).removeClass("errorstate").addClass("validstate")});var emailfield=$('.form_fill_content input[type="email"]');$(emailfield).each(function(){var pattern=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i;0==emailfield.val().length?($(this).removeClass("validstate").addClass("errorstate"),$(".error-email").css("visibility","hidden"),$(".error-email").css("display","none"),formhasErrors=!0):0==pattern.test($(this).val())?($(this).removeClass("validstate").addClass("errorstate"),$(".error-email").css("visibility","visible"),$(".error-email").css("display","block"),formhasErrors=!0):($(this).removeClass("errorstate").addClass("validstate"),$(".error-email").css("visibility","hidden"),$(".error-email").css("display","none"))});var tel=$('.form_fill_content input[type="tel"]');$(tel).each(function(){var str=$.trim($(this).val());if(0==$(this).val().length)$(this).removeClass("validstate").addClass("errorstate"),formhasErrors=!0;else if(""!=str){var regx=/^[A-Za-z0-9 _]+$/;regx.test(str)?$(this).removeClass("errorstate").addClass("validstate"):($(this).removeClass("validstate").addClass("errorstate"),invalidfFlag=!0)}else $(this).removeClass("errorstate").addClass("validstate")});var textarea=$(".form_fill_content textarea");$(textarea).each(function(){var str=$.trim($(this).val());if(0==$(this).val().length)$(this).removeClass("validstate").addClass("errortextarea"),formhasErrors=!0;else if(""!=str){var regx=/^[A-Za-z0-9 _]+$/;regx.test(str)?$(this).removeClass("errortextarea").addClass("validstate"):($(this).removeClass("validstate").addClass("errortextarea"),invalidfFlag=!0)}else $(this).removeClass("errortextarea").addClass("validstate")}),formhasErrors?($(".error-message").css("visibility","visible"),formPassed=!1,event.preventDefault()):($(".error-message").css("visibility","hidden"),formPassed=!0),invalidfFlag?($(".invalid-characters").css("visibility","visible"),$(".invalid-characters").css("display","block"),flagPassed=!1,event.preventDefault()):($(".invalid-characters").css("visibility","hidden"),$(".invalid-characters").css("display","none"),flagPassed=!0,enquiryFormAnalytics.init(event))})}},enquiryFormAnalytics={init:function(event){if(formPassed&&flagPassed){event.preventDefault();var options={url:$("#enquiryForm").attr("action"),type:"POST",data:$("#enquiryForm").serialize(),success:function(){$(".form_fill").css("visibility","hidden"),$("#thankyou").css("display","block"),$("#thankyou").css("visibility","visible"),$("html, body").animate({scrollTop:0},"slow")},error:function(){$(".form_fill").css("visibility","hidden"),$("#submit-error").css("visibility","visible"),$("#submit-error").focus(),$("html, body").animate({scrollTop:0},"slow")},complete:function(){if("undefined"!=typeof s&&s&&"undefined"!=typeof enableTracking&&enableTracking){s.linkTrackVars="channel,hier1,eVar15,eVar24,eVar50,eVar60,eVar61,eVar62,eVar70,prop15,prop24,prop52,prop57,prop62,prop63,prop71,eVar71,events",s.linkTrackEvents="event38,event43";var linkname=s.pageName+": submit button";s.linkName=linkname,s.prop52="event: investor inquery",s.prop57="contact us",s.prop63="contact us",s.prop60="D=c63",s.prop61="D=c64",s.prop62="D=pageName",s.eVar60="D=c63",s.eVar62="D=c52",s.eVar70="D=c57",s.events="event38,event43",s.tl(this,"o",linkname)}}};$.ajax(options)}$(".mail_address").click(function(){s.linkTrackVars="channel,hier1,eVar15,eVar24,eVar50,eVar70,prop15,prop24,prop52,prop57,prop62,prop71,eVar71",s.linkTrackEvents="none";var linkname=s.pageName+": email link ";s.linkName=linkname,s.prop52="event: investor inquery",s.prop57="email us",s.eVar70="D=c57",s.tl(this,"o",linkname)})}},this.init=function(){$(document).ready(function(){return validateInquiryForm.init(),this})},this.init()}return new _subModule}()}(window.abbott=window.abbott||{},jQuery);
/*
* jQuery Form Plugin; v20131228
* http://jquery.malsup.com/form/
* Copyright (c) 2013 M. Alsup; Dual licensed: MIT/GPL
* https://github.com/malsup/form#copyright-and-license
*/
;!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):a("undefined"!=typeof jQuery?jQuery:window.Zepto)}(function(a){"use strict";function b(b){var c=b.data;b.isDefaultPrevented()||(b.preventDefault(),a(b.target).ajaxSubmit(c))}function c(b){var c=b.target,d=a(c);if(!d.is("[type=submit],[type=image]")){var e=d.closest("[type=submit]");if(0===e.length)return;c=e[0]}var f=this;if(f.clk=c,"image"==c.type)if(void 0!==b.offsetX)f.clk_x=b.offsetX,f.clk_y=b.offsetY;else if("function"==typeof a.fn.offset){var g=d.offset();f.clk_x=b.pageX-g.left,f.clk_y=b.pageY-g.top}else f.clk_x=b.pageX-c.offsetLeft,f.clk_y=b.pageY-c.offsetTop;setTimeout(function(){f.clk=f.clk_x=f.clk_y=null},100)}function d(){if(a.fn.ajaxSubmit.debug){var b="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(b):window.opera&&window.opera.postError&&window.opera.postError(b)}}var e={};e.fileapi=void 0!==a("<input type='file'/>").get(0).files,e.formdata=void 0!==window.FormData;var f=!!a.fn.prop;a.fn.attr2=function(){if(!f)return this.attr.apply(this,arguments);var a=this.prop.apply(this,arguments);return a&&a.jquery||"string"==typeof a?a:this.attr.apply(this,arguments)},a.fn.ajaxSubmit=function(b){function c(c){var d,e,f=a.param(c,b.traditional).split("&"),g=f.length,h=[];for(d=0;g>d;d++)f[d]=f[d].replace(/\+/g," "),e=f[d].split("="),h.push([decodeURIComponent(e[0]),decodeURIComponent(e[1])]);return h}function g(d){for(var e=new FormData,f=0;f<d.length;f++)e.append(d[f].name,d[f].value);if(b.extraData){var g=c(b.extraData);for(f=0;f<g.length;f++)g[f]&&e.append(g[f][0],g[f][1])}b.data=null;var h=a.extend(!0,{},a.ajaxSettings,b,{contentType:!1,processData:!1,cache:!1,type:i||"POST"});b.uploadProgress&&(h.xhr=function(){var c=a.ajaxSettings.xhr();return c.upload&&c.upload.addEventListener("progress",function(a){var c=0,d=a.loaded||a.position,e=a.total;a.lengthComputable&&(c=Math.ceil(d/e*100)),b.uploadProgress(a,d,e,c)},!1),c}),h.data=null;var j=h.beforeSend;return h.beforeSend=function(a,c){c.data=b.formData?b.formData:e,j&&j.call(this,a,c)},a.ajax(h)}function h(c){function e(a){var b=null;try{a.contentWindow&&(b=a.contentWindow.document)}catch(c){d("cannot get iframe.contentWindow document: "+c)}if(b)return b;try{b=a.contentDocument?a.contentDocument:a.document}catch(c){d("cannot get iframe.contentDocument: "+c),b=a.document}return b}function g(){function b(){try{var a=e(r).readyState;d("state = "+a),a&&"uninitialized"==a.toLowerCase()&&setTimeout(b,50)}catch(c){d("Server abort: ",c," (",c.name,")"),h(A),w&&clearTimeout(w),w=void 0}}var c=l.attr2("target"),f=l.attr2("action"),g="multipart/form-data",j=l.attr("enctype")||l.attr("encoding")||g;x.setAttribute("target",o),(!i||/post/i.test(i))&&x.setAttribute("method","POST"),f!=m.url&&x.setAttribute("action",m.url),m.skipEncodingOverride||i&&!/post/i.test(i)||l.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),m.timeout&&(w=setTimeout(function(){v=!0,h(z)},m.timeout));var k=[];try{if(m.extraData)for(var n in m.extraData)m.extraData.hasOwnProperty(n)&&(a.isPlainObject(m.extraData[n])&&m.extraData[n].hasOwnProperty("name")&&m.extraData[n].hasOwnProperty("value")?k.push(a('<input type="hidden" name="'+m.extraData[n].name+'">').val(m.extraData[n].value).appendTo(x)[0]):k.push(a('<input type="hidden" name="'+n+'">').val(m.extraData[n]).appendTo(x)[0]));m.iframeTarget||q.appendTo("body"),r.attachEvent?r.attachEvent("onload",h):r.addEventListener("load",h,!1),setTimeout(b,15);try{x.submit()}catch(p){var s=document.createElement("form").submit;s.apply(x)}}finally{x.setAttribute("action",f),x.setAttribute("enctype",j),c?x.setAttribute("target",c):l.removeAttr("target"),a(k).remove()}}function h(b){if(!s.aborted&&!F){if(E=e(r),E||(d("cannot access response document"),b=A),b===z&&s)return s.abort("timeout"),y.reject(s,"timeout"),void 0;if(b==A&&s)return s.abort("server abort"),y.reject(s,"error","server abort"),void 0;if(E&&E.location.href!=m.iframeSrc||v){r.detachEvent?r.detachEvent("onload",h):r.removeEventListener("load",h,!1);var c,f="success";try{if(v)throw"timeout";var g="xml"==m.dataType||E.XMLDocument||a.isXMLDoc(E);if(d("isXml="+g),!g&&window.opera&&(null===E.body||!E.body.innerHTML)&&--G)return d("requeing onLoad callback, DOM not available"),setTimeout(h,250),void 0;var i=E.body?E.body:E.documentElement;s.responseText=i?i.innerHTML:null,s.responseXML=E.XMLDocument?E.XMLDocument:E,g&&(m.dataType="xml"),s.getResponseHeader=function(a){var b={"content-type":m.dataType};return b[a.toLowerCase()]},i&&(s.status=Number(i.getAttribute("status"))||s.status,s.statusText=i.getAttribute("statusText")||s.statusText);var j=(m.dataType||"").toLowerCase(),k=/(json|script|text)/.test(j);if(k||m.textarea){var l=E.getElementsByTagName("textarea")[0];if(l)s.responseText=l.value,s.status=Number(l.getAttribute("status"))||s.status,s.statusText=l.getAttribute("statusText")||s.statusText;else if(k){var o=E.getElementsByTagName("pre")[0],p=E.getElementsByTagName("body")[0];o?s.responseText=o.textContent?o.textContent:o.innerText:p&&(s.responseText=p.textContent?p.textContent:p.innerText)}}else"xml"==j&&!s.responseXML&&s.responseText&&(s.responseXML=H(s.responseText));try{D=J(s,j,m)}catch(t){f="parsererror",s.error=c=t||f}}catch(t){d("error caught: ",t),f="error",s.error=c=t||f}s.aborted&&(d("upload aborted"),f=null),s.status&&(f=s.status>=200&&s.status<300||304===s.status?"success":"error"),"success"===f?(m.success&&m.success.call(m.context,D,"success",s),y.resolve(s.responseText,"success",s),n&&a.event.trigger("ajaxSuccess",[s,m])):f&&(void 0===c&&(c=s.statusText),m.error&&m.error.call(m.context,s,f,c),y.reject(s,"error",c),n&&a.event.trigger("ajaxError",[s,m,c])),n&&a.event.trigger("ajaxComplete",[s,m]),n&&!--a.active&&a.event.trigger("ajaxStop"),m.complete&&m.complete.call(m.context,s,f),F=!0,m.timeout&&clearTimeout(w),setTimeout(function(){m.iframeTarget?q.attr("src",m.iframeSrc):q.remove(),s.responseXML=null},100)}}}var j,k,m,n,o,q,r,s,t,u,v,w,x=l[0],y=a.Deferred();if(y.abort=function(a){s.abort(a)},c)for(k=0;k<p.length;k++)j=a(p[k]),f?j.prop("disabled",!1):j.removeAttr("disabled");if(m=a.extend(!0,{},a.ajaxSettings,b),m.context=m.context||m,o="jqFormIO"+(new Date).getTime(),m.iframeTarget?(q=a(m.iframeTarget),u=q.attr2("name"),u?o=u:q.attr2("name",o)):(q=a('<iframe name="'+o+'" src="'+m.iframeSrc+'" />'),q.css({position:"absolute",top:"-1000px",left:"-1000px"})),r=q[0],s={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(b){var c="timeout"===b?"timeout":"aborted";d("aborting upload... "+c),this.aborted=1;try{r.contentWindow.document.execCommand&&r.contentWindow.document.execCommand("Stop")}catch(e){}q.attr("src",m.iframeSrc),s.error=c,m.error&&m.error.call(m.context,s,c,b),n&&a.event.trigger("ajaxError",[s,m,c]),m.complete&&m.complete.call(m.context,s,c)}},n=m.global,n&&0===a.active++&&a.event.trigger("ajaxStart"),n&&a.event.trigger("ajaxSend",[s,m]),m.beforeSend&&m.beforeSend.call(m.context,s,m)===!1)return m.global&&a.active--,y.reject(),y;if(s.aborted)return y.reject(),y;t=x.clk,t&&(u=t.name,u&&!t.disabled&&(m.extraData=m.extraData||{},m.extraData[u]=t.value,"image"==t.type&&(m.extraData[u+".x"]=x.clk_x,m.extraData[u+".y"]=x.clk_y)));var z=1,A=2,B=a("meta[name=csrf-token]").attr("content"),C=a("meta[name=csrf-param]").attr("content");C&&B&&(m.extraData=m.extraData||{},m.extraData[C]=B),m.forceSync?g():setTimeout(g,10);var D,E,F,G=50,H=a.parseXML||function(a,b){return window.ActiveXObject?(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)):b=(new DOMParser).parseFromString(a,"text/xml"),b&&b.documentElement&&"parsererror"!=b.documentElement.nodeName?b:null},I=a.parseJSON||function(a){return window.eval("("+a+")")},J=function(b,c,d){var e=b.getResponseHeader("content-type")||"",f="xml"===c||!c&&e.indexOf("xml")>=0,g=f?b.responseXML:b.responseText;return f&&"parsererror"===g.documentElement.nodeName&&a.error&&a.error("parsererror"),d&&d.dataFilter&&(g=d.dataFilter(g,c)),"string"==typeof g&&("json"===c||!c&&e.indexOf("json")>=0?g=I(g):("script"===c||!c&&e.indexOf("javascript")>=0)&&a.globalEval(g)),g};return y}if(!this.length)return d("ajaxSubmit: skipping submit process - no element selected"),this;var i,j,k,l=this;"function"==typeof b?b={success:b}:void 0===b&&(b={}),i=b.type||this.attr2("method"),j=b.url||this.attr2("action"),k="string"==typeof j?a.trim(j):"",k=k||window.location.href||"",k&&(k=(k.match(/^([^#]+)/)||[])[1]),b=a.extend(!0,{url:k,success:a.ajaxSettings.success,type:i||a.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},b);var m={};if(this.trigger("form-pre-serialize",[this,b,m]),m.veto)return d("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(b.beforeSerialize&&b.beforeSerialize(this,b)===!1)return d("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var n=b.traditional;void 0===n&&(n=a.ajaxSettings.traditional);var o,p=[],q=this.formToArray(b.semantic,p);if(b.data&&(b.extraData=b.data,o=a.param(b.data,n)),b.beforeSubmit&&b.beforeSubmit(q,this,b)===!1)return d("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[q,this,b,m]),m.veto)return d("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var r=a.param(q,n);o&&(r=r?r+"&"+o:o),"GET"==b.type.toUpperCase()?(b.url+=(b.url.indexOf("?")>=0?"&":"?")+r,b.data=null):b.data=r;var s=[];if(b.resetForm&&s.push(function(){l.resetForm()}),b.clearForm&&s.push(function(){l.clearForm(b.includeHidden)}),!b.dataType&&b.target){var t=b.success||function(){};s.push(function(c){var d=b.replaceTarget?"replaceWith":"html";a(b.target)[d](c).each(t,arguments)})}else b.success&&s.push(b.success);if(b.success=function(a,c,d){for(var e=b.context||this,f=0,g=s.length;g>f;f++)s[f].apply(e,[a,c,d||l,l])},b.error){var u=b.error;b.error=function(a,c,d){var e=b.context||this;u.apply(e,[a,c,d,l])}}if(b.complete){var v=b.complete;b.complete=function(a,c){var d=b.context||this;v.apply(d,[a,c,l])}}var w=a("input[type=file]:enabled",this).filter(function(){return""!==a(this).val()}),x=w.length>0,y="multipart/form-data",z=l.attr("enctype")==y||l.attr("encoding")==y,A=e.fileapi&&e.formdata;d("fileAPI :"+A);var B,C=(x||z)&&!A;b.iframe!==!1&&(b.iframe||C)?b.closeKeepAlive?a.get(b.closeKeepAlive,function(){B=h(q)}):B=h(q):B=(x||z)&&A?g(q):a.ajax(b),l.removeData("jqxhr").data("jqxhr",B);for(var D=0;D<p.length;D++)p[D]=null;return this.trigger("form-submit-notify",[this,b]),this},a.fn.ajaxForm=function(e){if(e=e||{},e.delegation=e.delegation&&a.isFunction(a.fn.on),!e.delegation&&0===this.length){var f={s:this.selector,c:this.context};return!a.isReady&&f.s?(d("DOM not ready, queuing ajaxForm"),a(function(){a(f.s,f.c).ajaxForm(e)}),this):(d("terminating; zero elements found by selector"+(a.isReady?"":" (DOM not ready)")),this)}return e.delegation?(a(document).off("submit.form-plugin",this.selector,b).off("click.form-plugin",this.selector,c).on("submit.form-plugin",this.selector,e,b).on("click.form-plugin",this.selector,e,c),this):this.ajaxFormUnbind().bind("submit.form-plugin",e,b).bind("click.form-plugin",e,c)},a.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},a.fn.formToArray=function(b,c){var d=[];if(0===this.length)return d;var f,g=this[0],h=this.attr("id"),i=b?g.getElementsByTagName("*"):g.elements;if(i&&(i=a(i).get()),h&&(f=a(":input[form="+h+"]").get(),f.length&&(i=(i||[]).concat(f))),!i||!i.length)return d;var j,k,l,m,n,o,p;for(j=0,o=i.length;o>j;j++)if(n=i[j],l=n.name,l&&!n.disabled)if(b&&g.clk&&"image"==n.type)g.clk==n&&(d.push({name:l,value:a(n).val(),type:n.type}),d.push({name:l+".x",value:g.clk_x},{name:l+".y",value:g.clk_y}));else if(m=a.fieldValue(n,!0),m&&m.constructor==Array)for(c&&c.push(n),k=0,p=m.length;p>k;k++)d.push({name:l,value:m[k]});else if(e.fileapi&&"file"==n.type){c&&c.push(n);var q=n.files;if(q.length)for(k=0;k<q.length;k++)d.push({name:l,value:q[k],type:n.type});else d.push({name:l,value:"",type:n.type})}else null!==m&&"undefined"!=typeof m&&(c&&c.push(n),d.push({name:l,value:m,type:n.type,required:n.required}));if(!b&&g.clk){var r=a(g.clk),s=r[0];l=s.name,l&&!s.disabled&&"image"==s.type&&(d.push({name:l,value:r.val()}),d.push({name:l+".x",value:g.clk_x},{name:l+".y",value:g.clk_y}))}return d},a.fn.formSerialize=function(b){return a.param(this.formToArray(b))},a.fn.fieldSerialize=function(b){var c=[];return this.each(function(){var d=this.name;if(d){var e=a.fieldValue(this,b);if(e&&e.constructor==Array)for(var f=0,g=e.length;g>f;f++)c.push({name:d,value:e[f]});else null!==e&&"undefined"!=typeof e&&c.push({name:this.name,value:e})}}),a.param(c)},a.fn.fieldValue=function(b){for(var c=[],d=0,e=this.length;e>d;d++){var f=this[d],g=a.fieldValue(f,b);null===g||"undefined"==typeof g||g.constructor==Array&&!g.length||(g.constructor==Array?a.merge(c,g):c.push(g))}return c},a.fieldValue=function(b,c){var d=b.name,e=b.type,f=b.tagName.toLowerCase();if(void 0===c&&(c=!0),c&&(!d||b.disabled||"reset"==e||"button"==e||("checkbox"==e||"radio"==e)&&!b.checked||("submit"==e||"image"==e)&&b.form&&b.form.clk!=b||"select"==f&&-1==b.selectedIndex))return null;if("select"==f){var g=b.selectedIndex;if(0>g)return null;for(var h=[],i=b.options,j="select-one"==e,k=j?g+1:i.length,l=j?g:0;k>l;l++){var m=i[l];if(m.selected){var n=m.value;if(n||(n=m.attributes&&m.attributes.value&&!m.attributes.value.specified?m.text:m.value),j)return n;h.push(n)}}return h}return a(b).val()},a.fn.clearForm=function(b){return this.each(function(){a("input,select,textarea",this).clearFields(b)})},a.fn.clearFields=a.fn.clearInputs=function(b){var c=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var d=this.type,e=this.tagName.toLowerCase();c.test(d)||"textarea"==e?this.value="":"checkbox"==d||"radio"==d?this.checked=!1:"select"==e?this.selectedIndex=-1:"file"==d?/MSIE/.test(navigator.userAgent)?a(this).replaceWith(a(this).clone(!0)):a(this).val(""):b&&(b===!0&&/hidden/.test(d)||"string"==typeof b&&a(this).is(b))&&(this.value="")})},a.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},a.fn.enable=function(a){return void 0===a&&(a=!0),this.each(function(){this.disabled=!a})},a.fn.selected=function(b){return void 0===b&&(b=!0),this.each(function(){var c=this.type;if("checkbox"==c||"radio"==c)this.checked=b;else if("option"==this.tagName.toLowerCase()){var d=a(this).parent("select");b&&d[0]&&"select-one"==d[0].type&&d.find("option").selected(!1),this.selected=b}})},a.fn.ajaxSubmit.debug=!1});
/*
 * debouncedresize: special jQuery event that happens once after a window resize
 *
 * latest version and complete README available on Github:
 * https://github.com/louisremi/jquery-smartresize
 *
 * Copyright 2012 @louis_remi
 * Licensed under the MIT license.
 *
 * This saved you an hour of work? 
 * Send me music http://www.amazon.co.uk/wishlist/HNTU0468LQON
 */
(function() {

var $event = $.event,
	$special,
	resizeTimeout;

$special = $event.special.debouncedresize = {
	setup: function() {
		$( this ).on( "resize", $special.handler );
	},
	teardown: function() {
		$( this ).off( "resize", $special.handler );
	},
	handler: function( event, execAsap ) {
		// Save the context
		var context = this,
			args = arguments,
			dispatch = function() {
				// set correct event type
				event.type = "debouncedresize";
				$event.dispatch.apply( context, args );
			};

		if ( resizeTimeout ) {
			clearTimeout( resizeTimeout );
		}

		execAsap ?
			dispatch() :
			resizeTimeout = setTimeout( dispatch, $special.threshold );
	},
	threshold: 150
};

})();
window.matchMedia=window.matchMedia||function(doc,undefined){"use strict";var bool,docElem=doc.documentElement,refNode=docElem.firstElementChild||docElem.firstChild,fakeBody=doc.createElement("body"),div=doc.createElement("div");return div.id="mq-test-1",div.style.cssText="position:absolute;top:-100em",fakeBody.style.background="none",fakeBody.appendChild(div),function(q){return div.innerHTML='&shy;<style media="'+q+'"> #mq-test-1 { width: 42px; }</style>',docElem.insertBefore(fakeBody,refNode),bool=42===div.offsetWidth,docElem.removeChild(fakeBody),{matches:bool,media:q}}}(document);
jQuery(document).ready(function($){$(window).width()>=280&&$(window).width()<=767&&$(".panels").removeClass("panelHoverProp");var userAutoPlay=$(".panel-carousel").data("autoplay"),userDelay=$(".panel-carousel").data("delay"),panelRotationDesktopHTML="",royalSliderOptions={arrowsNav:!0,controlNavigation:"none",arrowsNavAutoHide:!1,loop:!0,sliderDrag:!1,sliderTouch:!1,navigateByClick:!1,fadeinLoadedSlide:!0,autoPlay:{enabled:""===userAutoPlay&&void 0===userAutoPlay||userAutoPlay,pauseOnHover:!0,delay:""!==userDelay||void 0!==userDelay?parseInt(1e3*userDelay):3e3}},panelRotationMobile={init:function(){var totalPanels=$(".panel-carousel").find(".innerPanelSec > a").length,currentTotalPanels=totalPanels;$("a.panelsLoadMore").hide(),currentTotalPanels>4?($("a.panelsLoadMore").show(),currentTotalPanels-=4):$("a.panelsLoadMore").hide(),$("html").hasClass("ie8")?($("a.panelsLoadMore").hide(),$(".panel-carousel.royalSlider").attr("style","height: auto !important")):$(".panelRotation .innerPanelSec").attr("style","height: auto"),$("a.panelsLoadMore").on("click",function(e){if(e.preventDefault(),currentTotalPanels>4){currentTotalPanels-=4;$(".panel-carousel.royalSlider").outerHeight()}else $(".panel-carousel.royalSlider").attr("style","height:auto !important"),$(this).hide()})},royalSliderDestroy:function(){if($(".panelRotation"))if($("section.panelRotation .rsOverflow").length>0&&$("section.panelRotation .rsContainer").length>0&&$("section.panelRotation .rsSlide").length>0){var sliderHTML="";$(".panel-carousel.royalSlider .rsSlide").each(function(){sliderHTML+=$(this).html()}),panelRotationDesktopHTML=$("section.panelRotation > .panel-carousel.royalSlider").children().detach(),$("section.panelRotation > .panel-carousel.royalSlider").html(sliderHTML)}else $("a.panelsLoadMore").off("click"),$("section.panelRotation > .panel-carousel.royalSlider").removeAttr("style")}};({init:function(){$(window).width()>767?$(".panel-carousel.royalSlider").royalSlider(royalSliderOptions):panelRotationMobile.init()}}).init(),$(window).resize(function(){$(window).width()<768?(panelRotationMobile.royalSliderDestroy(),panelRotationMobile.init()):(panelRotationMobile.royalSliderDestroy(),$("a.panelsLoadMore").hide(),$("section.panelRotation > .panel-carousel.royalSlider").html(panelRotationDesktopHTML),setTimeout(function(){$(".panel-carousel.royalSlider").royalSlider(royalSliderOptions)},1e3))})});
function curvy_sec(a){$(a).each(function(){var get_height=$(".custom_height").height(100);$(window).width()<450?$(this).css("margin-top","0px"):$(this).css("margin-top","-"+get_height+"px")}),$(".bxslider .hero_car_sec .mobileSvgMask.curve").each(function(){var winH=$(window).width();if(winH<450){var mTop=winH/7.384615384615385;$(this).css("margin-top","-"+mTop+"px")}})}function reset_text(isresize){$(".image-section").each(function(){isresize&&($(this).parent().find(".content span").hide(),$(this).parent().find(".content span").fadeIn())})}var Abbott=Abbott||{};Abbott.Events={ResponsiveImg:function(e){var obj=$(e),check_width=$(window).width();check_width>1024&&(obj.find(".image-section .resolution").removeClass("active"),obj.find('.image-section .resolution[data-res="769-1024"]').addClass("active")),check_width>768&&check_width<=1024&&(obj.find(".image-section .resolution").removeClass("active"),obj.find('.image-section .resolution[data-res="641-768"]').addClass("active")),check_width>480&&check_width<=768?(obj.find(".image-section .resolution").removeClass("active"),obj.find('.image-section .resolution[data-res="481-640"]').addClass("active")):check_width>319&&check_width<=480&&(obj.find(".image-section .resolution").removeClass("active"),obj.find('.image-section .resolution[data-res="320-480"]').addClass("active")),setTimeout(function(){var get_height=$(".curve-section .custom_height").height();$(".curve-section").css("margin-top","0px"),$(".curve-section").css("margin-top",-1*get_height+"px")},100)},flicker:function(){$(".hero-panel").each(function(){function apply_speed(a){$(".bxslider li").length<2?$(".bxslider").bxSlider({auto:!1,autoControls:!1,speed:a,controls:!1,infiniteLoop:!1,touchEnabled:!1,oneToOneTouch:!1,preloadImages:"all",onSliderLoad:function(){$(".loader-container").hide(),$(".bx-viewport").css("visibility",""),$(".bx-viewport .bxslider li").css("visibility",""),$(".content span").css("visibility","")},onSlideBefore:function($slideElement,oldIndex,newIndex){},onSlideAfter:function($slideElement,oldIndex,newIndex){$slideElement.find(".content span").hide(),$slideElement.find(".content span").fadeIn(800)}}):$(".bxslider").bxSlider({auto:!1,autoControls:!0,speed:a,preloadImages:"all",onSliderLoad:function(){$(".loader-container").hide(),$(".bx-viewport").css("visibility",""),$(".bx-viewport .bxslider li").css("visibility",""),$(".content span").css("visibility","")},onSlideBefore:function($slideElement,oldIndex,newIndex){},onSlideAfter:function($slideElement,oldIndex,newIndex){$slideElement.find(".content span").hide(),$slideElement.find(".content span").fadeIn(800)}})}var get_speed=$(this).attr("data-delay");apply_speed(0!=get_speed&&""!=get_speed?get_speed:500)})}},$(".pageHeader").on("pageinit",function(){wheig,headh}),$(window).resize(function(){Abbott.Events.ResponsiveImg(".hero-panel"),setTimeout(function(){curvy_sec(".sectionPanelwithBg"),reset_text(!0)},500)}),$(window).load(function(){$(".content span").css("visibility","hidden"),$(".bx-viewport").css("visibility","hidden"),Abbott.Events.ResponsiveImg(".hero-panel"),Abbott.Events.flicker(),setTimeout(function(){curvy_sec(".sectionPanelwithBg"),reset_text(!1)},500)});
var Ejst={};Ejst.x2={},Ejst.x2.showTab=function(field){Ejst.x2.manageTabs(field.findParentByType("tabpanel"),field.getValue())},Ejst.x2.manageTabs=function(tabPanel,tab){var tabs=["selection","tab1","tab2","tab3"],index=tab?tabs.indexOf(tab):-1;if(1==index){tabPanel.getItem("vid").findByType("textfield")[0].allowBlank=!0,tabPanel.getItem("img").findByType("textfield")[0].allowBlank=!1;tabPanel.unhideTabStripItem(1),tabPanel.unhideTabStripItem(2),tabPanel.hideTabStripItem(3),tabPanel.hideTabStripItem(4)}else if(2==index){tabPanel.getItem("vid").findByType("textfield")[0].allowBlank=!1,tabPanel.getItem("img").findByType("textfield")[0].allowBlank=!0;tabPanel.unhideTabStripItem(3),tabPanel.unhideTabStripItem(1),tabPanel.hideTabStripItem(2),tabPanel.hideTabStripItem(4)}else if(3==index){tabPanel.getItem("vid").findByType("textfield")[0].allowBlank=!0,tabPanel.getItem("img").findByType("textfield")[0].allowBlank=!0;tabPanel.hideTabStripItem(3),tabPanel.hideTabStripItem(1),tabPanel.hideTabStripItem(2),tabPanel.unhideTabStripItem(4)}tabPanel.doLayout()};
function trackHeroPanelButtonClickAnalytics(buttontext,templateName){if("/apps/abbott/templates/homepage"!==templateName){var linkname=s.pageName+": "+buttontext.toLowerCase()+" click";s.linkTrackVars="channel,hier1,prop15,prop24,prop57,prop62,prop71,eVar15,eVar24,eVar50,eVar70,eVar71",s.prop57=buttontext.toLowerCase()+" click",s.eVar70="D=c57",s.tl(!0,"o",linkname)}}!function(MODULE,$,undefined){MODULE.carousel=function(){function _subModule(){return carouselAnalytics={init:function(){$(".royalSlider").click(function(e){var targetElem=e.target;$(targetElem).hasClass("rsArrowIcn")?(e.preventDefault(),e.stopPropagation(),$(targetElem).parent().hasClass("rsArrowLeft")?("leadtogether"==channel?s.linkTrackVars="channel,hier1,eVar15,eVar24,eVar50,eVar70,eVar75,prop15,prop24,prop57,prop61,prop62,prop71,eVar71":s.linkTrackVars="channel,hier1,eVar15,eVar24,eVar50,eVar70,eVar75,prop15,prop24,prop57,prop62,prop71,eVar71",s.linkTrackEvents="none",s.prop57="carousel",s.linkName=s.pageName+": hero: carousel: left arrow",s.channel=channel,s.hier1=hier,s.eVar70="D=c57",s.tl(!0,"o",s.linkName)):$(targetElem).parent().hasClass("rsArrowRight")&&("leadtogether"==channel?s.linkTrackVars="channel,hier1,eVar15,eVar24,eVar50,eVar70,eVar75,prop15,prop24,prop57,prop61,prop62,prop71,eVar71":s.linkTrackVars="channel,hier1,eVar15,eVar24,eVar50,eVar70,prop15,prop24,prop57,prop62,prop71,eVar71",s.linkTrackEvents="none",s.prop57="carousel",s.linkName=s.pageName+": hero: carousel: right arrow",s.channel=channel,s.hier1=hier,s.eVar70="D=c57",s.tl(!0,"o",s.linkName))):($(targetElem).is("A")||$(targetElem).is(":button"))&&($(targetElem).hasClass("playButton")||(s.linkTrackVars="channel,hier1,eVar15,eVar24,eVar50,eVar70,prop15,prop24,prop57,prop60,prop62,prop71,eVar71",s.linkTrackEvents="none",s.prop57=absPageName+": hero",s.prop60=absPageNameWithSpace+": hero: click",s.linkName=s.pageName+": hero : click",s.channel=channel,s.hier1=hier,s.eVar70="D=c57",s.tl(!0,"o",s.linkName)))}),$(".royalSlider").mouseenter(function(e){var targetElem=e.target;$(targetElem).parent().parent().parent().hasClass("hero_car_sec")&&"4"==$(targetElem).parent().parent().parent().attr("data-slideno")&&(s.linkTrackVars="channel,hier1,eVar15,eVar24,eVar50,eVar70,prop15,prop24,prop57,prop60,prop62,prop71,eVar71",s.linkTrackEvents="none",s.prop57=absPageName+": strip",s.prop60=absPageNameWithSpace+": strip "+$(targetElem).parent().parent().parent().attr("data-slideno")+" hover",s.linkName=s.pageName+": strip "+$(targetElem).parent().parent().parent().attr("data-slideno")+" hover",s.channel=channel,s.hier1=hier,s.eVar70="D=c57",s.tl(!0,"o",s.linkName))})}},this.init=function(){$(document).ready(function(){if("undefined"!=typeof s&&s&&"undefined"!=typeof enableTracking&&enableTracking)return window.location.pathname.indexOf("homepage.html")>-1&&carouselAnalytics.init(),this})},this.init()}return new _subModule}()}(window.abbott=window.abbott||{},jQuery);
$(function(){$(".deluxeAccordian").accordion({active:0,collapsible:!0,heightStyle:"content",icons:{header:"ui-icon-plus"}}),$(".regularAccordian").accordion({active:!1,collapsible:!0,heightStyle:"content",icons:{header:"ui-icon-plus"}}),$("h2.ui-accordion-icons").click(function(){if("undefined"!=typeof s&&s&&"undefined"!=typeof enableTracking&&enableTracking){s.linkTrackVars="channel,hier1,eVar15,eVar24,eVar50,eVar70,eVar71,prop15,prop24,prop57,prop62,prop71",s.linkTrackEvents="none";var linkname=s.pageName+": expand: "+$(this).text().toLowerCase();eVar70="D=c57",s.prop57="expand content",s.tl(!0,"o",linkname)}})});
!function(MODULE,$,undefined){MODULE.contactus=function(){function SubModule(){var contactusValidation={init:function(){$("input, textarea").placeholder(),$("input:reset").click(function(){$('input[type!="button"][type!="submit"][type!="reset"][type!="hidden"], select, textarea').val("").blur().removeClass("errorstate errorstate-inp"),$("#emptyError, #emailError, #verificationError, #privacy, #zipError, #phoneError").removeClass("dispBlock"),$("html").hasClass("ie9")&&window.location.reload()})},validation:function(){$(".contactForm").submit(function(event){var mandError=!1,formPhoneError=!1,formBrazilZipError=!1,emailFields=$('input[type="email"]'),emailPattern=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,us_phone=/^(\d{3})[- ]?(\d{3})[- ]?(\d{4})$/,brazil_phone=/^(\d{2})[- ]?(\d{4,5})[- ]?(\d{4})$/,brazil_zip=/^(\d{5})[- ]?(\d{3})$/,inputText=$(".contact_firstName,.contact_lastName,.contact_email,.contact_verify_email"),emailInput=emailFields.eq(0),verifyEmailInput=emailFields.eq(1),selected=($('input[type="tel"]'),$(".contact_country").find("option:selected")),countrySel=selected.attr("data-countryName");country=countrySel.toLowerCase().replace("/^s+|s+$/g",""),emailInput.each(function(){0==emailPattern.test($(this).val())?($(this).addClass("errorstate errorstate-inp"),$("#emailError").addClass("dispBlock"),mandError=!0):($(this).removeClass("errorstate errorstate-inp"),$("#emailError").removeClass("dispBlock"))}),emailInput.val().toLowerCase()==verifyEmailInput.val().toLowerCase()?(verifyEmailInput.removeClass("errorstate errorstate-inp"),$("#verificationError").removeClass("dispBlock")):($("#verificationError").addClass("dispBlock"),verifyEmailInput.addClass("errorstate errorstate-inp"),mandError=!0),"pt-br"==$("html").attr("lang")?($(".contact_verify_email").each(function(){0==$(this).val().length?($(this).addClass("errorstate"),mandError=!0):$(this).removeClass("errorstate")}),$(".contact_firstName").each(function(){0==$(this).val().length?($(this).addClass("errorstate"),mandError=!0):$(this).removeClass("errorstate")}),$(".contact_lastName").each(function(){0==$(this).val().length?($(this).addClass("errorstate"),mandError=!0):$(this).removeClass("errorstate")}),$(".contact_phone").each(function(){"brazil"==country&&""!==$(this).val()&&0==brazil_phone.test($(this).val())?($(this).addClass("errorstate"),$("#phoneError").addClass("dispBlock"),formPhoneError=!0):"brazil"!==country&&""!==$(this).val()&&$(this).val().length<8?($(this).addClass("errorstate"),formPhoneError=!0):(formPhoneError=!1,$(this).removeClass("errorstate"),$("#phoneError").removeClass("dispBlock"))}),$("select[name='subject']").each(function(){0==$("select[name='subject']")[0].selectedIndex?($(this).addClass("errorstate"),mandError=!0):$(this).removeClass("errorstate")}),$(".contact_zip").each(function(){"brazil"==country&&""!==$(this).val()&&0==brazil_zip.test($(this).val())?($(this).addClass("errorstate"),$("#zipError").addClass("dispBlock"),formBrazilZipError=!0):(formBrazilZipError=!1,$(this).removeClass("errorstate"),$("#zipError").removeClass("dispBlock"))}),$("#optinTemp").length&&($("#optinTemp").is(":checked")?$("#optin").val("yes"):$("#optin").val("no"))):"en-us"==$("html").attr("lang")?($(".contact_phone").each(function(){"united states"!=country&&"unitedstates"!=country||0!=us_phone.test($(this).val())?"united states"!==country&&"unitedstates"!==country&&$(this).val().length<8?($(this).addClass("errorstate"),$("#phoneError").addClass("dispBlock"),formPhoneError=!0,mandError=!0):(formPhoneError=!1,$(this).removeClass("errorstate"),$("#phoneError").removeClass("dispBlock")):($(this).addClass("errorstate"),$("#phoneError").addClass("dispBlock"),formPhoneError=!0,mandError=!0)}),$(inputText).each(function(){0==$(this).val().length?($(this).addClass("errorstate"),mandError=!0):$(this).removeClass("errorstate")})):($(".contact_phone").each(function(){$(this).val().length<8?($(this).addClass("errorstate"),mandError=!0,formPhoneError=!0):(formPhoneError=!1,$(this).removeClass("errorstate"))}),$(inputText).each(function(){0==$(this).val().length?($(this).addClass("errorstate"),mandError=!0):$(this).removeClass("errorstate")})),"true"==privacyPolicyCheck&&($("#checkPrivacy").is(":checked")?$("#privacy").removeClass("dispBlock"):($("#privacy").addClass("dispBlock"),mandError=!0)),formPhoneError?(event.preventDefault(),$("#phoneError").addClass("dispBlock")):$("#phoneError").removeClass("dispBlock"),formBrazilZipError?(event.preventDefault(),$("#zipError").addClass("dispBlock")):$("#zipError").removeClass("dispBlock"),mandError?(event.preventDefault(),$("#emptyError").addClass("dispBlock")):$("#emptyError").removeClass("dispBlock")})}};return this.init=function(){$(document).ready(function(){return contactusValidation.init(),contactusValidation.validation(),this})},this.init()}return new SubModule}()}(window.abbott=window.abbott||{},jQuery),$(document).ready(function(){var e=$("#data"),referrer=document.referrer;""===referrer&&(referrer=$("#referr"),referrer=referrer.text()),e.val(referrer),$("select").each(function(){$(this).find("option").first().attr("selected","selected")})}),jQuery.fn.ForceNumericOnly=function(){return this.each(function(){$(this).keydown(function(e){var key=e.charCode||e.keyCode||0;return 8==key||9==key||13==key||32==key||46==key||110==key||173==key||189==key||190==key||key>=35&&key<=40||key>=48&&key<=57||key>=96&&key<=105})})},$(".contact_phone").ForceNumericOnly();
$(document).ready(function(){$(window).width()>300&&$(window).width()<767&&$(".hero_navigation_panel a").off().on("tap",function(e){e.preventDefault();var el=$(this),link=el.attr("href");window.location=link})});
!function(MODULE,$,undefined){MODULE.Form=function(){function _subModule(){return countryAccordian={init:function(){$(".flagSec h2").click(function(){var parentContainer=$(this).parent().find(".flags:first"),bgCheck=$(this).hasClass("bgimage");childContainer=$(this).parent().siblings().children().next(),childSign=$(this).parent().siblings().children(),parentContainer.slideToggle(),childContainer.slideUp(),childSign.addClass("bgimage").removeClass("gsl-grey-minus"),bgCheck?($(this).removeClass("bgimage"),$(this).addClass("gsl-grey-minus")):($(this).removeClass("gsl-grey-minus"),$(this).addClass("bgimage"))})}},this.init=function(){$(document).ready(function(){if(document.documentElement.clientWidth<767)return countryAccordian.init(),this})},this.init()}return new _subModule}()}(window.abbott=window.abbott||{},jQuery);
jQuery(document).ready(function($){$(window).width()>300&&$(window).width()<767&&$(window.document).off().on("tap",".accordionCarSec a.cta, .accordionCarSec a.cta_more",function(e){e.preventDefault();var el=$(this),link=el.attr("href");window.location=link});var slideHTMLbackup=$("#featured").html(),slideFlag=0,userAutoPlay=$(".accordian-carousel").data("autoplay"),userDelay=$(".accordian-carousel").data("delay"),accordianCont=".accordian-carousel .accordian-content",totalSlides=$("#featured > li").length,mSlideHTML=function(){var totalSlideData=[],slideLis=$("#featured > li");return $.each(slideLis,function(i,j){$(slideLis[i]).attr("data-slideno",i+1),totalSlideData[i]=slideLis[i]}),totalSlideData}(),updateHeight=function(){return $(window).width()<="1024"?updatedHeight="420":$(window).width()<="767"?updatedHeight="388":updatedHeight="700"},icons=$(".accordian-carousel li"),deskAcc={easing:null,timeout:""!==userDelay||void 0!==userDelay?parseInt(1e3*userDelay):4e3,auto:""===userAutoPlay&&void 0===userAutoPlay||userAutoPlay,width:$(window).width(),tabWidth:50,height:updateHeight,speed:350,slideClass:"slider",animationStart:function(){$("#featured").find("li.slider-open span.icon").addClass("noIcon")},animationComplete:function(){$("#featured").find("li.slider-closed span.icon").removeClass("noIcon")}},mobAcc={easing:null,timeout:""!==userDelay||void 0!==userDelay?parseInt(1e3*userDelay):4e3,auto:""===userAutoPlay&&void 0===userAutoPlay||userAutoPlay,width:$(window).width(),tabWidth:25,height:updateHeight,speed:350,slideClass:"slider",startingSlide:0,animationStart:function(){$("#featured").find("li.slider-open span.icon").addClass("noIcon"),setTimeout(function(){var ix=$("#featured").data();mobileAccordian.switchSlides(ix.current)},200)},animationComplete:function(){$("#featured").find("li.slider-closed span.icon").removeClass("noIcon")}},mobileAccordian={init:function(){mobAcc.width=$(window).width();var slideLis=$("#featured > li");totalSlides>3&&($.each(slideLis,function(i,j){i>2&&$(slideLis[i]).remove()}),$("#featured").zAccordion(mobAcc),$(".accordian-carousel li:first").find("span.icon").removeClass("noIcon").addClass("noIcon"),$(accordianCont).show(),window.picturefill())},switchSlides:function(i){var currentSlide=$("#featured > li").eq(i).data("slideno");if(currentSlide>=3&&currentSlide<totalSlides&&currentSlide!==slideFlag){slideFlag=currentSlide,$("#featured").zAccordion("destroy");var slideLis=$("#featured > li");$("#featured > li").length;slideFlag=currentSlide,$.each(slideLis,function(i,j){if(0===i)return void $(this).remove()}),$("#featured").append(mSlideHTML[currentSlide]),window.picturefill(),$("#featured").zAccordion($.extend(mobAcc,{startingSlide:"1"})),resetIcons(),$("#featured").find("li.slider-closed span.icon").removeClass("noIcon"),$("#featured").find("li.slider-open span.icon").addClass("noIcon"),$(accordianCont).show()}else if(currentSlide>3&&currentSlide===totalSlides-1&&currentSlide===slideFlag)slideFlag=currentSlide-1;else if(currentSlide>=3&&currentSlide<totalSlides-1&&currentSlide===slideFlag){$("#featured").zAccordion("destroy");var slideLis=$("#featured > li");$("#featured > li").length;slideFlag=currentSlide-1,$.each(slideLis,function(i,j){if(2===i)return void $(this).remove()}),$("#featured").prepend(mSlideHTML[currentSlide-2]),window.picturefill(),$("#featured").zAccordion(mobAcc),resetIcons(),$("#featured").find("li.slider-closed span.icon").removeClass("noIcon"),$("#featured").find("li.slider-open span.icon").addClass("noIcon"),$(accordianCont).show()}else if(2===currentSlide&&currentSlide===slideFlag){$("#featured").zAccordion("destroy");var slideLis=$("#featured > li");$("#featured > li").length;slideFlag=0,$.each(slideLis,function(i,j){if(2===i)return void $(this).remove()}),$("#featured").prepend(mSlideHTML[currentSlide-2]),window.picturefill(),$("#featured").zAccordion($.extend(mobAcc,{startingSlide:"1"})),resetIcons(),$("#featured").find("li.slider-closed span.icon").removeClass("noIcon"),$("#featured").find("li.slider-open span.icon").addClass("noIcon"),$(accordianCont).show()}else if(2===currentSlide&&3===slideFlag){$("#featured").zAccordion("destroy");var slideLis=$("#featured > li");$("#featured > li").length;slideFlag=0,$.each(slideLis,function(i,j){if(2===i)return void $(this).remove()}),$("#featured").prepend(mSlideHTML[currentSlide-2]),window.picturefill(),$("#featured").zAccordion($.extend(mobAcc,{startingSlide:"1"})),resetIcons(),$("#featured").find("li.slider-closed span.icon").removeClass("noIcon"),$("#featured").find("li.slider-open span.icon").addClass("noIcon"),$(accordianCont).show()}}},resetIcons=function(){$.each(icons,function(i,j){0===i?$(this).find("span.icon").removeClass("noIcon").addClass("noIcon"):$(this).find("span.icon").removeClass("noIcon")})};resetIcons(),$(window).width()>767?($("#featured").zAccordion("destroy"),deskAcc.width=$("#page").width(),$(window).width()>=768&&$(window).width()<=1024?deskAcc.tabWidth=30:$(window).width()>1024&&(deskAcc.tabWidth=50),$("#featured").zAccordion(deskAcc),$(accordianCont).show()):(mobileAccordian.init(),$(accordianCont).show()),$(window).resize(function(){$(window).width()>767?($("#featured").zAccordion("destroy"),$("#featured").html(slideHTMLbackup),window.picturefill(),deskAcc.width=$("#page").width(),$(window).width()>=768&&$(window).width()<=1024?deskAcc.tabWidth=30:$(window).width()>1024&&(deskAcc.tabWidth=50),resetIcons(),$("#featured").zAccordion(deskAcc),$(accordianCont).show()):($("#featured").zAccordion("destroy"),$("#featured").html(mSlideHTML),mobileAccordian.init(),$(accordianCont).show())})});
/*
	jQuery zAccordion Plugin v2.0.0
	Copyright (c) 2010 - 2011 Nate Armagost, http://www.armagost.com/zaccordion
	Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
	The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/
(function(a){a.fn.zAccordion=function(e){var d={timeout:6000,width:null,slideWidth:null,tabWidth:null,height:null,startingSlide:0,slideClass:null,easing:null,speed:1200,auto:true,trigger:"click",pause:true,invert:false,animationStart:function(){},animationComplete:function(){},afterBuild:function(){}},c={displayError:function(f){if(window.console){/*console.log("zAccordion: "+f+".")*/}},findChildElements:function(f){if(f.children().get(0)===undefined){return false}else{return true}},getNext:function(g,h){var f=h+1;if(f>=g){f=0}return f},fixHeight:function(f){if((f.height===null)&&(f.slideHeight!==undefined)){f.height=f.slideHeight;return true}else{if((f.height!==null)&&(f.slideHeight===undefined)){return true}else{if((f.height===null)&&(f.slideHeight===undefined)){return false}}}},getUnits:function(f){if(f!==null){if(f.toString().indexOf("%")>-1){return"%"}else{if(f.toString().indexOf("px")>-1){return"px"}else{return"px"}}}},toInteger:function(f){if(f!==null){return parseInt(f,10)}},sizeAccordion:function(f,g){if((g.width===undefined)&&(g.slideWidth===undefined)&&(g.tabWidth===undefined)){c.displayError("width must be defined");return false}else{if((g.width!==undefined)&&(g.slideWidth===undefined)&&(g.tabWidth===undefined)){if((g.width>100)&&(g.widthUnits==="%")){c.displayError("width cannot be over 100%");return false}else{g.slideWidthUnits=g.widthUnits;g.tabWidthUnits=g.widthUnits;if(g.widthUnits==="%"){g.tabWidth=100/(f.children().size()+1);g.slideWidth=100-((f.children().size()-1)*g.tabWidth)}else{g.tabWidth=g.width/(f.children().size()+1);g.slideWidth=g.width-((f.children().size()-1)*g.tabWidth)}return true}}else{if((g.width===undefined)&&(g.slideWidth!==undefined)&&(g.tabWidth===undefined)){c.displayError("width must be defined");return false}else{if((g.width===undefined)&&(g.slideWidth===undefined)&&(g.tabWidth!==undefined)){c.displayError("width must be defined");return false}else{if((g.width!==undefined)&&(g.slideWidth===undefined)&&(g.tabWidth!==undefined)){if(g.widthUnits!==g.tabWidthUnits){c.displayError("Units do not match");return false}else{if((g.width>100)&&(g.widthUnits==="%")){c.displayError("width cannot be over 100%");return false}else{if((((f.children().size()*g.tabWidth)>100)&&(g.widthUnits==="%"))||(((f.children().size()*g.tabWidth)>g.width)&&(g.widthUnits==="px"))){c.displayError("tabWidth too large for accordion");return false}else{g.slideWidthUnits=g.widthUnits;if(g.widthUnits==="%"){g.slideWidth=100-((f.children().size()-1)*g.tabWidth)}else{g.slideWidth=g.width-((f.children().size()-1)*g.tabWidth)}return true}}}}else{if((g.width!==undefined)&&(g.slideWidth!==undefined)&&(g.tabWidth===undefined)){if(g.widthUnits!==g.slideWidthUnits){c.displayError("Units do not match");return false}else{if((g.width>100)&&(g.widthUnits==="%")){c.displayError("width cannot be over 100%");return false}else{if(g.slideWidth>=g.width){c.displayError("slideWidth cannot be greater than or equal to width");return false}else{if((((f.children().size()*g.slideWidth)<100)&&(g.widthUnits==="%"))||(((f.children().size()*g.slideWidth)<g.width)&&(g.widthUnits==="px"))){c.displayError("slideWidth too small for accordion");return false}else{g.tabWidthUnits=g.widthUnits;if(g.widthUnits==="%"){g.tabWidth=(100-g.slideWidth)/(f.children().size()-1)}else{g.tabWidth=(g.width-g.slideWidth)/(f.children().size()-1)}return true}}}}}else{if((g.width===undefined)&&(g.slideWidth!==undefined)&&(g.tabWidth!==undefined)){c.displayError("width must be defined");return false}else{if((g.width!==undefined)&&(g.slideWidth!==undefined)&&(g.tabWidth!==undefined)){c.displayError("At maximum two of three attributes (width, slideWidth, and tabWidth) should be defined");return false}}}}}}}}},timer:function(k){var l=k.data("next")+1;if(k.data("pause")&&k.data("inside")&&k.data("auto")){try{clearTimeout(k.data("interval"))}catch(j){}}else{if(k.data("pause")&&!k.data("inside")&&k.data("auto")){try{clearTimeout(k.data("interval"))}catch(i){}k.data("interval",setTimeout(function(){k.children(k.children().get(0).tagName+":nth-child("+l+")").trigger(k.data("trigger"))},k.data("timeout")))}else{if(!k.data("pause")&&k.data("auto")){try{clearTimeout(k.data("interval"))}catch(h){}k.data("interval",setTimeout(function(){k.children(k.children().get(0).tagName+":nth-child("+l+")").trigger(k.data("trigger"))},k.data("timeout")))}}}}},b={init:function(h){var i,g=["slideWidth","tabWidth","startingSlide","slideClass","animationStart","animationComplete","afterBuild"];for(i=0;i<g.length;i+=1){if(a(this).data(g[i].toLowerCase())!==undefined){a(this).data(g[i],a(this).data(g[i].toLowerCase()));a(this).removeData(g[i].toLowerCase())}}h=a.extend(d,h,a(this).data());if(this.length<=0){c.displayError("selector does not exist");return false}else{if(!c.fixHeight(h)){c.displayError("height must be defined");return false}else{if(!c.findChildElements(this)){c.displayError("No child elements available");return false}else{if(h.speed>h.timeout){c.displayError("Speed cannot be greater than timeout");return false}else{h.heightUnits=c.getUnits(h.height);h.height=c.toInteger(h.height);h.widthUnits=c.getUnits(h.width);h.width=c.toInteger(h.width);h.slideWidthUnits=c.getUnits(h.slideWidth);h.slideWidth=c.toInteger(h.slideWidth);h.tabWidthUnits=c.getUnits(h.tabWidth);h.tabWidth=c.toInteger(h.tabWidth);if(h.slideClass!==null){h.slideOpenClass=h.slideClass+"-open";h.slideClosedClass=h.slideClass+"-closed";h.slidePreviousClass=h.slideClass+"-previous"}if(!c.sizeAccordion(this,h)){return false}else{return this.each(function(){var q=h,p=a(this),j=[],k,f,n,l,m=-1;k=q.slideWidth-q.tabWidth;f=p.get(0).tagName;n=p.children().get(0).tagName;l=p.children().size();p.data(a.extend({},{auto:q.auto,interval:null,timeout:q.timeout,trigger:q.trigger,current:q.startingSlide,previous:m,next:c.getNext(l,q.startingSlide),slideClass:q.slideClass,inside:false,pause:q.pause}));if(q.heightUnits==="%"){q.height=(p.parent().get(0).tagName==="BODY")?q.height*0.01*a(window).height():q.height*0.01*p.parent().height();q.heightUnits="px"}p.children().each(function(s){var r,o,t;o=q.invert?o=((l-1)*q.tabWidth)-(s*q.tabWidth):s*q.tabWidth;j[s]=o;r=q.invert?((l-1)-s)*10:s*10;if(q.slideClass!==null){a(this).addClass(q.slideClass)}a(this).css({top:0,"z-index":r,margin:0,padding:0,"float":"left",display:"block",position:"absolute",overflow:"hidden",width:q.slideWidth+q.widthUnits,height:q.height+q.heightUnits});if(q.invert){a(this).css({right:o+q.widthUnits,"float":"right"})}else{a(this).css({left:o+q.widthUnits,"float":"left"})}if(s===(q.startingSlide)){a(this).css("cursor","default");if(q.slideClass!==null){a(this).addClass(q.slideOpenClass)}}else{a(this).css("cursor","pointer");if(q.slideClass!==null){a(this).addClass(q.slideClosedClass)}if((s>(q.startingSlide))&&(!q.invert)){t=s+1;p.children(n+":nth-child("+t+")").css({left:j[t-1]+k+q.widthUnits})}else{if((s<(q.startingSlide))&&(q.invert)){t=s+1;p.children(n+":nth-child("+t+")").css({right:j[t-1]+k+q.widthUnits})}}}});p.css({display:"block",height:q.height+q.heightUnits,width:q.width+q.widthUnits,padding:0,position:"relative",overflow:"hidden"});if((f==="UL")||(f==="OL")){p.css({"list-style":"none"})}p.hover(function(){p.data("inside",true);if(p.data("pause")){try{clearTimeout(p.data("interval"))}catch(o){}}},function(){p.data("inside",false);if(p.data("auto")&&p.data("pause")){c.timer(p)}});p.children().bind(q.trigger,function(){if(a(this).index()!==p.data("current")){var r,o,s,t;s=m+1;t=p.data("current")+1;if((s!==0)&&(q.slideClass!==null)){p.children(n+":nth-child("+s+")").removeClass(q.slidePreviousClass)}p.children(n+":nth-child("+t+")");if(q.slideClass!==null){p.children(n+":nth-child("+t+")").addClass(q.slidePreviousClass)}m=p.data("current");p.data("previous",p.data("current"));s=m;s+=1;p.data("current",a(this).index());t=p.data("current");t+=1;p.children().css("cursor","pointer");a(this).css("cursor","default");if(q.slideClass!==null){p.children().addClass(q.slideClosedClass).removeClass(q.slideOpenClass);a(this).addClass(q.slideOpenClass).removeClass(q.slideClosedClass)}p.data("next",c.getNext(l,a(this).index()));c.timer(p);q.animationStart();if(q.invert){p.children(n+":nth-child("+t+")").stop().animate({right:j[p.data("current")]+q.widthUnits},q.speed,q.easing,q.animationComplete)}else{p.children(n+":nth-child("+t+")").stop().animate({left:j[p.data("current")]+q.widthUnits},q.speed,q.easing,q.animationComplete)}for(r=0;r<l;r+=1){o=r+1;if(r<p.data("current")){if(q.invert){p.children(n+":nth-child("+o+")").stop().animate({right:q.width-(o*q.tabWidth)+q.widthUnits},q.speed,q.easing)}else{p.children(n+":nth-child("+o+")").stop().animate({left:j[r]+q.widthUnits},q.speed,q.easing)}}if(r>p.data("current")){if(q.invert){p.children(n+":nth-child("+o+")").stop().animate({right:(l-o)*q.tabWidth+q.widthUnits},q.speed,q.easing)}else{p.children(n+":nth-child("+o+")").stop().animate({left:j[r]+k+q.widthUnits},q.speed,q.easing)}}}return false}});if(p.data("auto")){c.timer(p)}q.afterBuild()})}}}}}},stop:function(){if(a(this).data("auto")){clearTimeout(a(this).data("interval"));a(this).data("auto",false)}},start:function(){if(!a(this).data("auto")){var f=a(this).data("next")+1;a(this).data("auto",true);a(this).children(a(this).children().get(0).tagName+":nth-child("+f+")").trigger(a(this).data("trigger"))}},trigger:function(f){if((f>=a(this).children().size())||(f<0)){f=0}f+=1;a(this).children(a(this).children().get(0).tagName+":nth-child("+f+")").trigger(a(this).data("trigger"))},destroy:function(i){var f,g,h=a(this).data("slideClass");if(i!==undefined){f=(i.removeStyleAttr!==undefined)?i.removeStyleAttr:true;g=(i.removeClasses!==undefined)?i.removeClasses:false}clearTimeout(a(this).data("interval"));a(this).children().stop().unbind(a(this).data("trigger"));a(this).unbind("mouseenter mouseleave mouseover mouseout");if(f){a(this).removeAttr("style");a(this).children().removeAttr("style")}if(g){a(this).children().removeClass(h);a(this).children().removeClass(h+"-open");a(this).children().removeClass(h+"-closed");a(this).children().removeClass(h+"-previous")}a(this).removeData()}};if(b[e]){return b[e].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof e==="object"||!e){return b.init.apply(this,arguments)}else{a.error("zAccordion: "+e+" does not exist.")}}}}(jQuery));
/*!
 * Moving Boxes v2.3.4 minified
 * by Chris Coyier 
 * http://css-tricks.com/moving-boxes/
 */
;(function(e){e.movingBoxes=function(i,k){var c,a=this;a.$el=e(i).addClass("mb-slider");a.el=i;a.$el.data("movingBoxes",a);a.init=function(){a.options=c=e.extend({},e.movingBoxes.defaultOptions,k);a.$el.wrap('<div class="movingBoxes mb-wrapper"><div class="mb-scroll" /></div>');a.$window=a.$el.parent();a.$wrap=a.$window.parent().prepend('<a class="mb-scrollButtons mb-left"></a>').append('<a class="mb-scrollButtons mb-right"></a><div class="mb-left-shadow"></div><div class="mb-right-shadow"></div>'); a.$panels=a.$el.children().addClass("mb-panel");a.runTime=e(".mb-slider").index(a.$el)+1;a.regex=RegExp("slider"+a.runTime+"=(\\d+)","i");a.initialized=!1;a.currentlyMoving=!1;a.curPanel=c.initAnimation?1:a.getHash()||c.startPanel;a.width=c.width?parseInt(c.width,10):a.$el.width();a.pWidth=c.panelWidth?2>=c.panelWidth?c.panelWidth*a.width:c.panelWidth:a.$panels.eq(0).width();a.$left=a.$wrap.find(".mb-left").click(function(){a.goBack();return!1});a.$right=a.$wrap.find(".mb-right").click(function(){a.goForward(); return!1});a.update({},!1);a.setWrap(a.curPanel);a.$el.delegate(".mb-panel","click",function(b){e(this).hasClass(c.currentPanel)||(b.preventDefault(),a.change(a.$panels.index(e(this))+a.adj,{},!0))});a.$wrap.click(function(){a.$wrap.hasClass("mb-active-slider")||a.active()});a.$panels.delegate("a","focus",function(b){b.preventDefault();b=a.$panels.index(e(this).closest(".mb-panel"))+a.adj;b!==a.curPanel&&a.change(b,{},!0)});e(document).keyup(function(b){if(!b.target.tagName.match("TEXTAREA|INPUT|SELECT"))switch(b.which){case 39:case 32:a.$wrap.is(".mb-active-slider")&& a.goForward();break;case 37:a.$wrap.is(".mb-active-slider")&&a.goBack()}});e.each(["preinit","initialized","initChange","beforeAnimation","completed"],function(b,f){e.isFunction(c[f])&&a.$el.bind(f+".movingBoxes",c[f])});a.$el.trigger("preinit.movingBoxes",[a,a.curPanel])};a.update=function(b,f){a.$el.children(".cloned").remove();a.$panels=a.$el.children();a.adj=c.wrap&&1<a.$panels.length?0:1;a.width=c.width?parseInt(c.width,10):a.width;a.$wrap.css("width",a.width);c.wrap&&1<a.$panels.length&&(a.$el.prepend(a.$panels.filter(":last").clone().addClass("cloned")), a.$el.append(a.$panels.filter(":first").clone().addClass("cloned")),a.$el.find(".cloned").each(function(){e(this).find("a,input,textarea,select,button,area").removeAttr("name").attr("disabled","disabled");e(this).find("[id]").andSelf().removeAttr("id")}));a.$panels=a.$el.children().addClass("mb-panel").each(function(){0===e(this).find(".mb-inside").length&&e(this).wrapInner('<div class="mb-inside" />')});a.totalPanels=a.$panels.filter(":not(.cloned)").length;1>=a.totalPanels&&(a.curPanel=1);a.setSizes(f); a.buildNav();a.change(a.curPanel,b,f);a.imagesLoaded(function(){a.setSizes(!1);a.setWrap(a.curPanel);a.initialized||setTimeout(function(){a.initialized=!0;a.change(a.getHash()||c.startPanel,{},!1);a.$el.trigger("initialized.movingBoxes",[a,a.curPanel])},2*c.speed)})};a.setSizes=function(b){a.padding=parseInt(a.$panels.css("padding-left"),10)+parseInt(a.$panels.css("margin-left"),10);a.curWidth=c.panelWidth?2>=c.panelWidth?c.panelWidth*a.width:c.panelWidth:a.pWidth;a.regWidth=a.curWidth*c.reducedSize; a.$panels.css({width:a.curWidth,fontSize:"1em"});a.$panels.eq(a.curPanel-a.adj).addClass(c.currentPanel);a.heights=a.$panels.css("height","auto").map(function(a,b){return e(b).outerHeight(!0)}).get();a.returnToNormal(a.curPanel,0);a.growBigger(a.curPanel,0,b);a.updateArrows(a.curPanel);a.$el.css({position:"absolute",width:(a.curWidth+2*a.padding)*a.$panels.length+(a.width-a.curWidth)/2,height:Math.max.apply(this,a.heights)+10,"padding-left":(a.width-a.curWidth)/2});a.$window.css({height:c.fixedHeight? Math.max.apply(this,a.heights):a.heights[a.curPanel-a.adj]})};a.buildNav=function(){a.$nav?a.$nav.find(".mb-links").empty():a.$nav=e('<div class="mb-controls"><span class="mb-links"></span></div>').appendTo(a.$wrap);if(c.buildNav&&1<a.totalPanels){var b,f,d="",h;a.$panels.filter(":not(.cloned)").each(function(j){f=j+1;d='<a class="mb-link mb-panel'+f+'" href="#"></a>';h=e(d);e.isFunction(c.navFormatter)?(b=c.navFormatter(f,e(this)),"string"===typeof b?h.html(b):h=e("<a/>",b)):h.html(f);h.appendTo(a.$nav.find(".mb-links")).addClass("mb-link mb-panel"+ f).data("index",f)});a.$nav.find("a.mb-link").bind("click",function(){a.change(e(this).data("index"));return!1})}};a.returnToNormal=function(b,f){var d=a.$panels.not(":eq("+(b-a.adj)+")").removeClass(c.currentPanel);1===c.reducedSize?d.css({width:a.regWidth}):d.stop(!0,!1).animate({width:a.regWidth,fontSize:c.reducedSize+"em"},0===f?0:c.speed)};a.growBigger=function(b,f,d){var e=a.$panels.eq(b-a.adj);1===c.reducedSize?(e.css({width:a.curWidth}),setTimeout(function(){a.completed(b,d)},0===f?0:c.speed)): e.stop(!0,!1).animate({width:a.curWidth,fontSize:"1em"},0===f?0:c.speed,function(){a.completed(b,d)})};a.setWrap=function(b){1<=a.totalPanels&&(a.growBigger(b,0,!1),b=a.$panels.eq(b-a.adj).position().left-(a.width-a.curWidth)/2+a.padding,a.$window.scrollLeft(b))};a.completed=function(b,f){var d=a.$panels.eq(b-a.adj);d.hasClass("cloned")||d.addClass(c.currentPanel);!1!==f&&a.$el.trigger("completed.movingBoxes",[a,b])};a.goForward=function(b){a.initialized&&a.change(a.curPanel+1,b)};a.goBack=function(b){a.initialized&& a.change(a.curPanel-1,b)};a.change=function(b,f,d){if(1>a.totalPanels)"function"===typeof f&&f(a);else{var h,j,g=!1,d=!1!==d,b=e(""+b).length||b instanceof e&&e(b).length?e(b).closest(".mb-panel").index()+a.adj:parseInt(b,10);a.initialized&&d&&(a.$wrap.hasClass("mb-active-slider")||a.active(),a.$el.trigger("initChange.movingBoxes",[a,b]));c.wrap&&(b>a.totalPanels?(g=!0,b=1,a.returnToNormal(0,0),a.setWrap(0)):0===b&&(g=!1,b=a.totalPanels,a.setWrap(b+1)));b<a.adj&&(b=c.wrap?a.totalPanels:1);b>a.totalPanels- a.adj&&(b=c.wrap?1:a.totalPanels);if(a.curPanel!==b&&(!a.currentlyMoving||!a.initialized)){a.currentlyMoving=!c.stopAnimation;a.$curPanel=a.$panels.eq(b-a.adj);j=a.$curPanel.position().left-(a.width-a.curWidth)/2+a.padding;if(a.initialized&&(b>a.curPanel||g))j-=a.curWidth-a.regWidth;h=c.fixedHeight?{scrollLeft:j}:{scrollLeft:j,height:a.heights[b-a.adj]};a.curPanel=b;a.initialized&&d&&a.$el.trigger("beforeAnimation.movingBoxes",[a,b]);c.delayBeforeAnimate?setTimeout(function(){a.animateBoxes(b,h,d, f)},parseInt(c.delayBeforeAnimate,10)||0):a.animateBoxes(b,h,d,f)}else a.endAnimation()}};a.animateBoxes=function(b,f,d,e){a.$window.scrollTop(0).stop(!0,!1).animate(f,{queue:!1,duration:c.speed,easing:c.easing,complete:function(){a.initialized&&a.$window.scrollTop(0);a.currentlyMoving=!1;"function"===typeof e&&e(a)}});a.returnToNormal(b);a.growBigger(b,c.speed,d);a.updateArrows(b);c.hashTags&&a.initialized&&a.setHash(b);a.endAnimation()};a.endAnimation=function(){c.buildNav&&a.$nav.length&&a.$nav.find("a.mb-link").removeClass(c.currentPanel).eq(a.curPanel- 1).addClass(c.currentPanel)};a.updateArrows=function(b){a.$left.toggleClass(c.disabled,!c.wrap&&b===a.adj||1>=a.totalPanels);a.$right.toggleClass(c.disabled,!c.wrap&&b===a.totalPanels||1>=a.totalPanels)};a.getHash=function(){var b=window.location.hash,f=b.indexOf("&"),d=b.match(a.regex);null===d&&!/^#&/.test(b)&&!/#!?\//.test(b)?(b=b.substring(0,0<=f?f:b.length),d=e(b).length&&e(b).closest(".mb-slider")[0]===a.el?e(b).closest(".mb-panel").index()+a.adj:null):null!==d&&(d=c.hashTags?parseInt(d[1], 10):null);return d>a.totalPanels?null:d};a.setHash=function(b){var c="slider"+a.runTime+"=",d=window.location.hash;"undefined"!==typeof d&&(window.location.hash=0<d.indexOf(c)?d.replace(a.regex,c+b):d+"&"+c+b)};a.active=function(){e(".mb-active-slider").removeClass("mb-active-slider");a.$wrap.addClass("mb-active-slider")};a.currentPanel=function(b,c){"undefined"!==typeof b&&a.change(b,c);return a.curPanel};a.imagesLoaded=function(b,c){var d,h,j=!0,g=c?e(c):a.$panels.find("img"),i=g.length,c=c||[]; for(d=0;d<i;d++)"IMG"===g[d].tagName&&(h="fileSize"in g[d]&&0>g[d].fileSize&&10<g[d].count?!0:g[d].complete,j=j&&h&&0!==g[d].height,!1===h&&(c.push(g[d]),g[d].count=(g[d].count||0)+1));j?"function"===typeof b&&b():setTimeout(function(){a.imagesLoaded(b,c)},200)};a.init()};e.movingBoxes.defaultOptions={startPanel:1,reducedSize:0.8,fixedHeight:!1,initAnimation:!0,stopAnimation:!1,hashTags:!0,wrap:!1,buildNav:!1,navFormatter:null,easing:"swing",speed:500,delayBeforeAnimate:0,currentPanel:"current",tooltipClass:"tooltip", disabled:"disabled",preinit:null,initialized:null,initChange:null,beforeAnimation:null,completed:null};e.fn.movingBoxes=function(i,k,c){var a;return this.each(function(){a=e(this).data("movingBoxes");(typeof i).match("object|undefined")?a&&i instanceof e&&i.length?a.change(i,k,c):a?a.update(k,c):new e.movingBoxes(this,i):a&&a.change(i,k,c)})};e.fn.getMovingBoxes=function(){return this.data("movingBoxes")}})(jQuery);

/*!
* MediaElement.js
* HTML5 <video> and <audio> shim and player
* http://mediaelementjs.com/
*
* Creates a JavaScript object that mimics HTML5 MediaElement API
* for browsers that don't understand HTML5 or can't play the provided codec
* Can play MP4 (H.264), Ogg, WebM, FLV, WMV, WMA, ACC, and MP3
*
* Copyright 2010-2013, John Dyer (http://j.hn)
* License: MIT
*
*/var mejs=mejs||{};mejs.version="2.13.2";mejs.meIndex=0;
mejs.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/rtmp","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mpeg","video/youtube","video/x-youtube"]}],youtube:[{version:null,types:["video/youtube","video/x-youtube","audio/youtube","audio/x-youtube"]}],vimeo:[{version:null,types:["video/vimeo",
"video/x-vimeo"]}]};
mejs.Utility={encodeUrl:function(a){return encodeURIComponent(a)},escapeHTML:function(a){return a.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(a){var b=document.createElement("div");b.innerHTML='<a href="'+this.escapeHTML(a)+'">x</a>';return b.firstChild.href},getScriptPath:function(a){for(var b=0,c,d="",e="",g,f,h=document.getElementsByTagName("script"),l=h.length,j=a.length;b<l;b++){g=h[b].src;c=g.lastIndexOf("/");if(c>-1){f=g.substring(c+
1);g=g.substring(0,c+1)}else{f=g;g=""}for(c=0;c<j;c++){e=a[c];e=f.indexOf(e);if(e>-1){d=g;break}}if(d!=="")break}return d},secondsToTimeCode:function(a,b,c,d){if(typeof c=="undefined")c=false;else if(typeof d=="undefined")d=25;var e=Math.floor(a/3600)%24,g=Math.floor(a/60)%60,f=Math.floor(a%60);a=Math.floor((a%1*d).toFixed(3));return(b||e>0?(e<10?"0"+e:e)+":":"")+(g<10?"0"+g:g)+":"+(f<10?"0"+f:f)+(c?":"+(a<10?"0"+a:a):"")},timeCodeToSeconds:function(a,b,c,d){if(typeof c=="undefined")c=false;else if(typeof d==
"undefined")d=25;a=a.split(":");b=parseInt(a[0],10);var e=parseInt(a[1],10),g=parseInt(a[2],10),f=0,h=0;if(c)f=parseInt(a[3])/d;return h=b*3600+e*60+g+f},convertSMPTEtoSeconds:function(a){if(typeof a!="string")return false;a=a.replace(",",".");var b=0,c=a.indexOf(".")!=-1?a.split(".")[1].length:0,d=1;a=a.split(":").reverse();for(var e=0;e<a.length;e++){d=1;if(e>0)d=Math.pow(60,e);b+=Number(a[e])*d}return Number(b.toFixed(c))},removeSwf:function(a){var b=document.getElementById(a);if(b&&/object|embed/i.test(b.nodeName))if(mejs.MediaFeatures.isIE){b.style.display=
"none";(function(){b.readyState==4?mejs.Utility.removeObjectInIE(a):setTimeout(arguments.callee,10)})()}else b.parentNode.removeChild(b)},removeObjectInIE:function(a){if(a=document.getElementById(a)){for(var b in a)if(typeof a[b]=="function")a[b]=null;a.parentNode.removeChild(a)}}};
mejs.PluginDetector={hasPluginVersion:function(a,b){var c=this.plugins[a];b[1]=b[1]||0;b[2]=b[2]||0;return c[0]>b[0]||c[0]==b[0]&&c[1]>b[1]||c[0]==b[0]&&c[1]==b[1]&&c[2]>=b[2]?true:false},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(a,b,c,d,e){this.plugins[a]=this.detectPlugin(b,c,d,e)},detectPlugin:function(a,b,c,d){var e=[0,0,0],g;if(typeof this.nav.plugins!="undefined"&&typeof this.nav.plugins[a]=="object"){if((c=this.nav.plugins[a].description)&&
!(typeof this.nav.mimeTypes!="undefined"&&this.nav.mimeTypes[b]&&!this.nav.mimeTypes[b].enabledPlugin)){e=c.replace(a,"").replace(/^\s+/,"").replace(/\sr/gi,".").split(".");for(a=0;a<e.length;a++)e[a]=parseInt(e[a].match(/\d+/),10)}}else if(typeof window.ActiveXObject!="undefined")try{if(g=new ActiveXObject(c))e=d(g)}catch(f){}return e}};
mejs.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(a){var b=[];if(a=a.GetVariable("$version")){a=a.split(" ")[1].split(",");b=[parseInt(a[0],10),parseInt(a[1],10),parseInt(a[2],10)]}return b});
mejs.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(a){var b=[0,0,0,0],c=function(d,e,g,f){for(;d.isVersionSupported(e[0]+"."+e[1]+"."+e[2]+"."+e[3]);)e[g]+=f;e[g]-=f};c(a,b,0,1);c(a,b,1,1);c(a,b,2,1E4);c(a,b,2,1E3);c(a,b,2,100);c(a,b,2,10);c(a,b,2,1);c(a,b,3,1);return b});
mejs.MediaFeatures={init:function(){var a=this,b=document,c=mejs.PluginDetector.nav,d=mejs.PluginDetector.ua.toLowerCase(),e,g=["source","track","audio","video"];a.isiPad=d.match(/ipad/i)!==null;a.isiPhone=d.match(/iphone/i)!==null;a.isiOS=a.isiPhone||a.isiPad;a.isAndroid=d.match(/android/i)!==null;a.isBustedAndroid=d.match(/android 2\.[12]/)!==null;a.isBustedNativeHTTPS=location.protocol==="https:"&&(d.match(/android [12]\./)!==null||d.match(/macintosh.* version.* safari/)!==null);a.isIE=c.appName.toLowerCase().indexOf("microsoft")!=
-1||c.appName.toLowerCase().match(/trident/gi)!==null;a.isChrome=d.match(/chrome/gi)!==null;a.isFirefox=d.match(/firefox/gi)!==null;a.isWebkit=d.match(/webkit/gi)!==null;a.isGecko=d.match(/gecko/gi)!==null&&!a.isWebkit&&!a.isIE;a.isOpera=d.match(/opera/gi)!==null;a.hasTouch="ontouchstart"in window;a.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect;for(c=0;c<g.length;c++)e=document.createElement(g[c]);a.supportsMediaTag=typeof e.canPlayType!==
"undefined"||a.isBustedAndroid;try{e.canPlayType("video/mp4")}catch(f){a.supportsMediaTag=false}a.hasSemiNativeFullScreen=typeof e.webkitEnterFullscreen!=="undefined";a.hasNativeFullscreen=typeof e.requestFullscreen!=="undefined";a.hasWebkitNativeFullScreen=typeof e.webkitRequestFullScreen!=="undefined";a.hasMozNativeFullScreen=typeof e.mozRequestFullScreen!=="undefined";a.hasMsNativeFullScreen=typeof e.msRequestFullscreen!=="undefined";a.hasTrueNativeFullScreen=a.hasWebkitNativeFullScreen||a.hasMozNativeFullScreen||
a.hasMsNativeFullScreen;a.nativeFullScreenEnabled=a.hasTrueNativeFullScreen;if(a.hasMozNativeFullScreen)a.nativeFullScreenEnabled=document.mozFullScreenEnabled;else if(a.hasMsNativeFullScreen)a.nativeFullScreenEnabled=document.msFullscreenEnabled;if(a.isChrome)a.hasSemiNativeFullScreen=false;if(a.hasTrueNativeFullScreen){a.fullScreenEventName="";if(a.hasWebkitNativeFullScreen)a.fullScreenEventName="webkitfullscreenchange";else if(a.hasMozNativeFullScreen)a.fullScreenEventName="mozfullscreenchange";
else if(a.hasMsNativeFullScreen)a.fullScreenEventName="MSFullscreenChange";a.isFullScreen=function(){if(e.mozRequestFullScreen)return b.mozFullScreen;else if(e.webkitRequestFullScreen)return b.webkitIsFullScreen;else if(e.hasMsNativeFullScreen)return b.msFullscreenElement!==null};a.requestFullScreen=function(h){if(a.hasWebkitNativeFullScreen)h.webkitRequestFullScreen();else if(a.hasMozNativeFullScreen)h.mozRequestFullScreen();else a.hasMsNativeFullScreen&&h.msRequestFullscreen()};a.cancelFullScreen=
function(){if(a.hasWebkitNativeFullScreen)document.webkitCancelFullScreen();else if(a.hasMozNativeFullScreen)document.mozCancelFullScreen();else a.hasMsNativeFullScreen&&document.msExitFullscreen()}}if(a.hasSemiNativeFullScreen&&d.match(/mac os x 10_5/i)){a.hasNativeFullScreen=false;a.hasSemiNativeFullScreen=false}}};mejs.MediaFeatures.init();
mejs.HtmlMediaElement={pluginType:"native",isFullScreen:false,setCurrentTime:function(a){this.currentTime=a},setMuted:function(a){this.muted=a},setVolume:function(a){this.volume=a},stop:function(){this.pause()},setSrc:function(a){for(var b=this.getElementsByTagName("source");b.length>0;)this.removeChild(b[0]);if(typeof a=="string")this.src=a;else{var c;for(b=0;b<a.length;b++){c=a[b];if(this.canPlayType(c.type)){this.src=c.src;break}}}},setVideoSize:function(a,b){this.width=a;this.height=b}};
mejs.PluginMediaElement=function(a,b,c){this.id=a;this.pluginType=b;this.src=c;this.events={};this.attributes={}};
mejs.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:false,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:true,ended:false,seeking:false,duration:0,error:null,tagName:"",muted:false,volume:1,currentTime:0,play:function(){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.playVideo():this.pluginApi.playMedia();this.paused=false}},load:function(){if(this.pluginApi!=null){this.pluginType!="youtube"&&this.pluginApi.loadMedia();this.paused=
false}},pause:function(){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.pauseVideo():this.pluginApi.pauseMedia();this.paused=true}},stop:function(){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.stopVideo():this.pluginApi.stopMedia();this.paused=true}},canPlayType:function(a){var b,c,d,e=mejs.plugins[this.pluginType];for(b=0;b<e.length;b++){d=e[b];if(mejs.PluginDetector.hasPluginVersion(this.pluginType,d.version))for(c=0;c<d.types.length;c++)if(a==d.types[c])return"probably"}return""},
positionFullscreenButton:function(a,b,c){this.pluginApi!=null&&this.pluginApi.positionFullscreenButton&&this.pluginApi.positionFullscreenButton(Math.floor(a),Math.floor(b),c)},hideFullscreenButton:function(){this.pluginApi!=null&&this.pluginApi.hideFullscreenButton&&this.pluginApi.hideFullscreenButton()},setSrc:function(a){if(typeof a=="string"){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(a));this.src=mejs.Utility.absolutizeUrl(a)}else{var b,c;for(b=0;b<a.length;b++){c=a[b];if(this.canPlayType(c.type)){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(c.src));
this.src=mejs.Utility.absolutizeUrl(a);break}}}},setCurrentTime:function(a){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.seekTo(a):this.pluginApi.setCurrentTime(a);this.currentTime=a}},setVolume:function(a){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.setVolume(a*100):this.pluginApi.setVolume(a);this.volume=a}},setMuted:function(a){if(this.pluginApi!=null){if(this.pluginType=="youtube"){a?this.pluginApi.mute():this.pluginApi.unMute();this.muted=a;this.dispatchEvent("volumechange")}else this.pluginApi.setMuted(a);
this.muted=a}},setVideoSize:function(a,b){if(this.pluginElement.style){this.pluginElement.style.width=a+"px";this.pluginElement.style.height=b+"px"}this.pluginApi!=null&&this.pluginApi.setVideoSize&&this.pluginApi.setVideoSize(a,b)},setFullscreen:function(a){this.pluginApi!=null&&this.pluginApi.setFullscreen&&this.pluginApi.setFullscreen(a)},enterFullScreen:function(){this.pluginApi!=null&&this.pluginApi.setFullscreen&&this.setFullscreen(true)},exitFullScreen:function(){this.pluginApi!=null&&this.pluginApi.setFullscreen&&
this.setFullscreen(false)},addEventListener:function(a,b){this.events[a]=this.events[a]||[];this.events[a].push(b)},removeEventListener:function(a,b){if(!a){this.events={};return true}var c=this.events[a];if(!c)return true;if(!b){this.events[a]=[];return true}for(i=0;i<c.length;i++)if(c[i]===b){this.events[a].splice(i,1);return true}return false},dispatchEvent:function(a){var b,c,d=this.events[a];if(d){c=Array.prototype.slice.call(arguments,1);for(b=0;b<d.length;b++)d[b].apply(null,c)}},hasAttribute:function(a){return a in
this.attributes},removeAttribute:function(a){delete this.attributes[a]},getAttribute:function(a){if(this.hasAttribute(a))return this.attributes[a];return""},setAttribute:function(a,b){this.attributes[a]=b},remove:function(){mejs.Utility.removeSwf(this.pluginElement.id);mejs.MediaPluginBridge.unregisterPluginElement(this.pluginElement.id)}};
mejs.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(a,b,c){this.pluginMediaElements[a]=b;this.htmlMediaElements[a]=c},unregisterPluginElement:function(a){delete this.pluginMediaElements[a];delete this.htmlMediaElements[a]},initPlugin:function(a){var b=this.pluginMediaElements[a],c=this.htmlMediaElements[a];if(b){switch(b.pluginType){case "flash":b.pluginElement=b.pluginApi=document.getElementById(a);break;case "silverlight":b.pluginElement=document.getElementById(b.id);
b.pluginApi=b.pluginElement.Content.MediaElementJS}b.pluginApi!=null&&b.success&&b.success(b,c)}},fireEvent:function(a,b,c){var d,e;if(a=this.pluginMediaElements[a]){b={type:b,target:a};for(d in c){a[d]=c[d];b[d]=c[d]}e=c.bufferedTime||0;b.target.buffered=b.buffered={start:function(){return 0},end:function(){return e},length:1};a.dispatchEvent(b.type,b)}}};
mejs.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight","youtube","vimeo"],enablePluginDebug:false,httpsBasicAuthSite:false,type:"",pluginPath:mejs.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",flashStreamer:"",enablePluginSmoothing:false,enablePseudoStreaming:false,pseudoStreamingStartQueryParam:"start",silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,
defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:0.8,success:function(){},error:function(){}};mejs.MediaElement=function(a,b){return mejs.HtmlMediaElementShim.create(a,b)};
mejs.HtmlMediaElementShim={create:function(a,b){var c=mejs.MediaElementDefaults,d=typeof a=="string"?document.getElementById(a):a,e=d.tagName.toLowerCase(),g=e==="audio"||e==="video",f=g?d.getAttribute("src"):d.getAttribute("href");e=d.getAttribute("poster");var h=d.getAttribute("autoplay"),l=d.getAttribute("preload"),j=d.getAttribute("controls"),k;for(k in b)c[k]=b[k];f=typeof f=="undefined"||f===null||f==""?null:f;e=typeof e=="undefined"||e===null?"":e;l=typeof l=="undefined"||l===null||l==="false"?
"none":l;h=!(typeof h=="undefined"||h===null||h==="false");j=!(typeof j=="undefined"||j===null||j==="false");k=this.determinePlayback(d,c,mejs.MediaFeatures.supportsMediaTag,g,f);k.url=k.url!==null?mejs.Utility.absolutizeUrl(k.url):"";if(k.method=="native"){if(mejs.MediaFeatures.isBustedAndroid){d.src=k.url;d.addEventListener("click",function(){d.play()},false)}return this.updateNative(k,c,h,l)}else if(k.method!=="")return this.createPlugin(k,c,e,h,l,j);else{this.createErrorMessage(k,c,e);return this}},
determinePlayback:function(a,b,c,d,e){var g=[],f,h,l,j={method:"",url:"",htmlMediaElement:a,isVideo:a.tagName.toLowerCase()!="audio"},k;if(typeof b.type!="undefined"&&b.type!=="")if(typeof b.type=="string")g.push({type:b.type,url:e});else for(f=0;f<b.type.length;f++)g.push({type:b.type[f],url:e});else if(e!==null){l=this.formatType(e,a.getAttribute("type"));g.push({type:l,url:e})}else for(f=0;f<a.childNodes.length;f++){h=a.childNodes[f];if(h.nodeType==1&&h.tagName.toLowerCase()=="source"){e=h.getAttribute("src");
l=this.formatType(e,h.getAttribute("type"));h=h.getAttribute("media");if(!h||!window.matchMedia||window.matchMedia&&window.matchMedia(h).matches)g.push({type:l,url:e})}}if(!d&&g.length>0&&g[0].url!==null&&this.getTypeFromFile(g[0].url).indexOf("audio")>-1)j.isVideo=false;if(mejs.MediaFeatures.isBustedAndroid)a.canPlayType=function(m){return m.match(/video\/(mp4|m4v)/gi)!==null?"maybe":""};if(c&&(b.mode==="auto"||b.mode==="auto_plugin"||b.mode==="native")&&!(mejs.MediaFeatures.isBustedNativeHTTPS&&
b.httpsBasicAuthSite===true)){if(!d){f=document.createElement(j.isVideo?"video":"audio");a.parentNode.insertBefore(f,a);a.style.display="none";j.htmlMediaElement=a=f}for(f=0;f<g.length;f++)if(a.canPlayType(g[f].type).replace(/no/,"")!==""||a.canPlayType(g[f].type.replace(/mp3/,"mpeg")).replace(/no/,"")!==""){j.method="native";j.url=g[f].url;break}if(j.method==="native"){if(j.url!==null)a.src=j.url;if(b.mode!=="auto_plugin")return j}}if(b.mode==="auto"||b.mode==="auto_plugin"||b.mode==="shim")for(f=
0;f<g.length;f++){l=g[f].type;for(a=0;a<b.plugins.length;a++){e=b.plugins[a];h=mejs.plugins[e];for(c=0;c<h.length;c++){k=h[c];if(k.version==null||mejs.PluginDetector.hasPluginVersion(e,k.version))for(d=0;d<k.types.length;d++)if(l==k.types[d]){j.method=e;j.url=g[f].url;return j}}}}if(b.mode==="auto_plugin"&&j.method==="native")return j;if(j.method===""&&g.length>0)j.url=g[0].url;return j},formatType:function(a,b){return a&&!b?this.getTypeFromFile(a):b&&~b.indexOf(";")?b.substr(0,b.indexOf(";")):b},
getTypeFromFile:function(a){a=a.split("?")[0];a=a.substring(a.lastIndexOf(".")+1).toLowerCase();return(/(mp4|m4v|ogg|ogv|webm|webmv|flv|wmv|mpeg|mov)/gi.test(a)?"video":"audio")+"/"+this.getTypeFromExtension(a)},getTypeFromExtension:function(a){switch(a){case "mp4":case "m4v":return"mp4";case "webm":case "webma":case "webmv":return"webm";case "ogg":case "oga":case "ogv":return"ogg";default:return a}},createErrorMessage:function(a,b,c){var d=a.htmlMediaElement,e=document.createElement("div");e.className=
"me-cannotplay";try{e.style.width=d.width+"px";e.style.height=d.height+"px"}catch(g){}e.innerHTML=b.customError?b.customError:c!==""?'<a href="'+a.url+'"><img src="'+c+'" width="100%" height="100%" /></a>':'<a href="'+a.url+'"><span>'+mejs.i18n.t("Download File")+"</span></a>";d.parentNode.insertBefore(e,d);d.style.display="none";b.error(d)},createPlugin:function(a,b,c,d,e,g){c=a.htmlMediaElement;var f=1,h=1,l="me_"+a.method+"_"+mejs.meIndex++,j=new mejs.PluginMediaElement(l,a.method,a.url),k=document.createElement("div"),
m;j.tagName=c.tagName;for(m=0;m<c.attributes.length;m++){var n=c.attributes[m];n.specified==true&&j.setAttribute(n.name,n.value)}for(m=c.parentNode;m!==null&&m.tagName.toLowerCase()!="body";){if(m.parentNode.tagName.toLowerCase()=="p"){m.parentNode.parentNode.insertBefore(m,m.parentNode);break}m=m.parentNode}if(a.isVideo){f=b.pluginWidth>0?b.pluginWidth:b.videoWidth>0?b.videoWidth:c.getAttribute("width")!==null?c.getAttribute("width"):b.defaultVideoWidth;h=b.pluginHeight>0?b.pluginHeight:b.videoHeight>
0?b.videoHeight:c.getAttribute("height")!==null?c.getAttribute("height"):b.defaultVideoHeight;f=mejs.Utility.encodeUrl(f);h=mejs.Utility.encodeUrl(h)}else if(b.enablePluginDebug){f=320;h=240}j.success=b.success;mejs.MediaPluginBridge.registerPluginElement(l,j,c);k.className="me-plugin";k.id=l+"_container";a.isVideo?c.parentNode.insertBefore(k,c):document.body.insertBefore(k,document.body.childNodes[0]);d=["id="+l,"isvideo="+(a.isVideo?"true":"false"),"autoplay="+(d?"true":"false"),"preload="+e,"width="+
f,"startvolume="+b.startVolume,"timerrate="+b.timerRate,"flashstreamer="+b.flashStreamer,"height="+h,"pseudostreamstart="+b.pseudoStreamingStartQueryParam];if(a.url!==null)a.method=="flash"?d.push("file="+mejs.Utility.encodeUrl(a.url)):d.push("file="+a.url);b.enablePluginDebug&&d.push("debug=true");b.enablePluginSmoothing&&d.push("smoothing=true");b.enablePseudoStreaming&&d.push("pseudostreaming=true");g&&d.push("controls=true");if(b.pluginVars)d=d.concat(b.pluginVars);switch(a.method){case "silverlight":k.innerHTML=
'<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+l+'" name="'+l+'" width="'+f+'" height="'+h+'" class="mejs-shim"><param name="initParams" value="'+d.join(",")+'" /><param name="windowless" value="true" /><param name="background" value="black" /><param name="minRuntimeVersion" value="3.0.0.0" /><param name="autoUpgrade" value="true" /><param name="source" value="'+b.pluginPath+b.silverlightName+'" /></object>';break;case "flash":if(mejs.MediaFeatures.isIE){a=
document.createElement("div");k.appendChild(a);a.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+l+'" width="'+f+'" height="'+h+'" class="mejs-shim"><param name="movie" value="'+'/etc/designs/abbott/components/stories/js/'+b.flashName+"?x="+new Date+'" /><param name="flashvars" value="'+d.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /><param name="scale" value="default" /></object>'}else k.innerHTML=
'<embed id="'+l+'" name="'+l+'" play="true" loop="false" quality="high" bgcolor="#000000" wmode="transparent" allowScriptAccess="always" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" src="'+b.pluginPath+b.flashName+'" flashvars="'+d.join("&")+'" width="'+f+'" height="'+h+'" scale="default"class="mejs-shim"></embed>';break;case "youtube":b=a.url.substr(a.url.lastIndexOf("=")+1);youtubeSettings={container:k,containerId:k.id,pluginMediaElement:j,
pluginId:l,videoId:b,height:h,width:f};mejs.PluginDetector.hasPluginVersion("flash",[10,0,0])?mejs.YouTubeApi.createFlash(youtubeSettings):mejs.YouTubeApi.enqueueIframe(youtubeSettings);break;case "vimeo":j.vimeoid=a.url.substr(a.url.lastIndexOf("/")+1);k.innerHTML='<iframe src="http://player.vimeo.com/video/'+j.vimeoid+'?portrait=0&byline=0&title=0" width="'+f+'" height="'+h+'" frameborder="0" class="mejs-shim"></iframe>'}c.style.display="none";c.removeAttribute("autoplay");return j},updateNative:function(a,
b){var c=a.htmlMediaElement,d;for(d in mejs.HtmlMediaElement)c[d]=mejs.HtmlMediaElement[d];b.success(c,c);return c}};
mejs.YouTubeApi={isIframeStarted:false,isIframeLoaded:false,loadIframeApi:function(){if(!this.isIframeStarted){var a=document.createElement("script");a.src="//www.youtube.com/player_api";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b);this.isIframeStarted=true}},iframeQueue:[],enqueueIframe:function(a){if(this.isLoaded)this.createIframe(a);else{this.loadIframeApi();this.iframeQueue.push(a)}},createIframe:function(a){var b=a.pluginMediaElement,c=new YT.Player(a.containerId,
{height:a.height,width:a.width,videoId:a.videoId,playerVars:{controls:0},events:{onReady:function(){a.pluginMediaElement.pluginApi=c;mejs.MediaPluginBridge.initPlugin(a.pluginId);setInterval(function(){mejs.YouTubeApi.createEvent(c,b,"timeupdate")},250)},onStateChange:function(d){mejs.YouTubeApi.handleStateChange(d.data,c,b)}}})},createEvent:function(a,b,c){c={type:c,target:b};if(a&&a.getDuration){b.currentTime=c.currentTime=a.getCurrentTime();b.duration=c.duration=a.getDuration();c.paused=b.paused;
c.ended=b.ended;c.muted=a.isMuted();c.volume=a.getVolume()/100;c.bytesTotal=a.getVideoBytesTotal();c.bufferedBytes=a.getVideoBytesLoaded();var d=c.bufferedBytes/c.bytesTotal*c.duration;c.target.buffered=c.buffered={start:function(){return 0},end:function(){return d},length:1}}b.dispatchEvent(c.type,c)},iFrameReady:function(){for(this.isIframeLoaded=this.isLoaded=true;this.iframeQueue.length>0;)this.createIframe(this.iframeQueue.pop())},flashPlayers:{},createFlash:function(a){this.flashPlayers[a.pluginId]=
a;var b,c="//www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid="+a.pluginId+"&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0";if(mejs.MediaFeatures.isIE){b=document.createElement("div");a.container.appendChild(b);b.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+a.pluginId+'" width="'+a.width+'" height="'+a.height+'" class="mejs-shim"><param name="movie" value="'+
c+'" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'}else a.container.innerHTML='<object type="application/x-shockwave-flash" id="'+a.pluginId+'" data="'+c+'" width="'+a.width+'" height="'+a.height+'" style="visibility: visible; " class="mejs-shim"><param name="allowScriptAccess" value="always"><param name="wmode" value="transparent"></object>'},flashReady:function(a){var b=this.flashPlayers[a],c=
document.getElementById(a),d=b.pluginMediaElement;d.pluginApi=d.pluginElement=c;mejs.MediaPluginBridge.initPlugin(a);c.cueVideoById(b.videoId);a=b.containerId+"_callback";window[a]=function(e){mejs.YouTubeApi.handleStateChange(e,c,d)};c.addEventListener("onStateChange",a);setInterval(function(){mejs.YouTubeApi.createEvent(c,d,"timeupdate")},250)},handleStateChange:function(a,b,c){switch(a){case -1:c.paused=true;c.ended=true;mejs.YouTubeApi.createEvent(b,c,"loadedmetadata");break;case 0:c.paused=false;
c.ended=true;mejs.YouTubeApi.createEvent(b,c,"ended");break;case 1:c.paused=false;c.ended=false;mejs.YouTubeApi.createEvent(b,c,"play");mejs.YouTubeApi.createEvent(b,c,"playing");break;case 2:c.paused=true;c.ended=false;mejs.YouTubeApi.createEvent(b,c,"pause");break;case 3:mejs.YouTubeApi.createEvent(b,c,"progress")}}};function onYouTubePlayerAPIReady(){mejs.YouTubeApi.iFrameReady()}function onYouTubePlayerReady(a){mejs.YouTubeApi.flashReady(a)}window.mejs=mejs;window.MediaElement=mejs.MediaElement;
(function(a,b){var c={locale:{language:"",strings:{}},methods:{}};c.getLanguage=function(){return(c.locale.language||window.navigator.userLanguage||window.navigator.language).substr(0,2).toLowerCase()};if(typeof mejsL10n!="undefined")c.locale.language=mejsL10n.language;c.methods.checkPlain=function(d){var e,g,f={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"};d=String(d);for(e in f)if(f.hasOwnProperty(e)){g=RegExp(e,"g");d=d.replace(g,f[e])}return d};c.methods.t=function(d,e){if(c.locale.strings&&
c.locale.strings[e.context]&&c.locale.strings[e.context][d])d=c.locale.strings[e.context][d];return c.methods.checkPlain(d)};c.t=function(d,e){if(typeof d==="string"&&d.length>0){var g=c.getLanguage();e=e||{context:g};return c.methods.t(d,e)}else throw{name:"InvalidArgumentException",message:"First argument is either not a string or empty."};};b.i18n=c})(document,mejs);(function(a){if(typeof mejsL10n!="undefined")a[mejsL10n.language]=mejsL10n.strings})(mejs.i18n.locale.strings);
(function(a){if(typeof a.de==="undefined")a.de={Fullscreen:"Vollbild","Go Fullscreen":"Vollbild an","Turn off Fullscreen":"Vollbild aus",Close:"Schlie\u00dfen"}})(mejs.i18n.locale.strings);(function(a){if(typeof a.zh==="undefined")a.zh={Fullscreen:"\u5168\u87a2\u5e55","Go Fullscreen":"\u5168\u5c4f\u6a21\u5f0f","Turn off Fullscreen":"\u9000\u51fa\u5168\u5c4f\u6a21\u5f0f",Close:"\u95dc\u9589"}})(mejs.i18n.locale.strings);

/*!
 * MediaElementPlayer
 * http://mediaelementjs.com/
 *
 * Creates a controller bar for HTML5 <video> add <audio> tags
 * using jQuery and MediaElement.js (HTML5 Flash/Silverlight wrapper)
 *
 * Copyright 2010-2013, John Dyer (http://j.hn/)
 * License: MIT
 *
 */if(typeof jQuery!="undefined")mejs.$=jQuery;else if(typeof ender!="undefined")mejs.$=ender;
(function(f){mejs.MepDefaults={poster:"",showPosterWhenEnded:false,defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,defaultSeekBackwardInterval:function(a){return a.duration*0.05},defaultSeekForwardInterval:function(a){return a.duration*0.05},audioWidth:-1,audioHeight:-1,startVolume:0.8,loop:false,autoRewind:true,enableAutosize:true,alwaysShowHours:false,showTimecodeFrameCount:false,framesPerSecond:25,autosizeProgress:true,alwaysShowControls:false,
hideVideoControlsOnLoad:false,clickToPlayPause:true,iPadUseNativeControls:false,iPhoneUseNativeControls:false,AndroidUseNativeControls:false,features:["playpause","current","progress","duration","tracks","volume","fullscreen"],isVideo:true,enableKeyboard:true,pauseOtherPlayers:true,keyActions:[{keys:[32,179],action:function(a,b){b.paused||b.ended?a.play():a.pause()}},{keys:[38],action:function(a,b){b.setVolume(Math.min(b.volume+0.1,1))}},{keys:[40],action:function(a,b){b.setVolume(Math.max(b.volume-
0.1,0))}},{keys:[37,227],action:function(a,b){if(!isNaN(b.duration)&&b.duration>0){if(a.isVideo){a.showControls();a.startControlsTimer()}var c=Math.max(b.currentTime-a.options.defaultSeekBackwardInterval(b),0);b.setCurrentTime(c)}}},{keys:[39,228],action:function(a,b){if(!isNaN(b.duration)&&b.duration>0){if(a.isVideo){a.showControls();a.startControlsTimer()}var c=Math.min(b.currentTime+a.options.defaultSeekForwardInterval(b),b.duration);b.setCurrentTime(c)}}},{keys:[70],action:function(a){if(typeof a.enterFullScreen!=
"undefined")a.isFullScreen?a.exitFullScreen():a.enterFullScreen()}}]};mejs.mepIndex=0;mejs.players={};mejs.MediaElementPlayer=function(a,b){if(!(this instanceof mejs.MediaElementPlayer))return new mejs.MediaElementPlayer(a,b);this.$media=this.$node=f(a);this.node=this.media=this.$media[0];if(typeof this.node.player!="undefined")return this.node.player;else this.node.player=this;if(typeof b=="undefined")b=this.$node.data("mejsoptions");this.options=f.extend({},mejs.MepDefaults,b);this.id="mep_"+mejs.mepIndex++;
mejs.players[this.id]=this;this.init();return this};mejs.MediaElementPlayer.prototype={hasFocus:false,controlsAreVisible:true,init:function(){var a=this,b=mejs.MediaFeatures,c=f.extend(true,{},a.options,{success:function(d,g){a.meReady(d,g)},error:function(d){a.handleError(d)}}),e=a.media.tagName.toLowerCase();a.isDynamic=e!=="audio"&&e!=="video";a.isVideo=a.isDynamic?a.options.isVideo:e!=="audio"&&a.options.isVideo;if(b.isiPad&&a.options.iPadUseNativeControls||b.isiPhone&&a.options.iPhoneUseNativeControls){a.$media.attr("controls",
"controls");b.isiPad&&a.media.getAttribute("autoplay")!==null&&a.play()}else if(!(b.isAndroid&&a.options.AndroidUseNativeControls)){a.$media.removeAttr("controls");a.container=f('<div id="'+a.id+'" class="mejs-container '+(mejs.MediaFeatures.svg?"svg":"no-svg")+'"><div class="mejs-inner"><div class="mejs-mediaelement"></div><div class="mejs-layers"></div><div class="mejs-controls"></div><div class="mejs-clear"></div></div></div>').addClass(a.$media[0].className).insertBefore(a.$media);a.container.addClass((b.isAndroid?
"mejs-android ":"")+(b.isiOS?"mejs-ios ":"")+(b.isiPad?"mejs-ipad ":"")+(b.isiPhone?"mejs-iphone ":"")+(a.isVideo?"mejs-video ":"mejs-audio "));if(b.isiOS){b=a.$media.clone();a.container.find(".mejs-mediaelement").append(b);a.$media.remove();a.$node=a.$media=b;a.node=a.media=b[0]}else a.container.find(".mejs-mediaelement").append(a.$media);a.controls=a.container.find(".mejs-controls");a.layers=a.container.find(".mejs-layers");b=a.isVideo?"video":"audio";e=b.substring(0,1).toUpperCase()+b.substring(1);
a.width=a.options[b+"Width"]>0||a.options[b+"Width"].toString().indexOf("%")>-1?a.options[b+"Width"]:a.media.style.width!==""&&a.media.style.width!==null?a.media.style.width:a.media.getAttribute("width")!==null?a.$media.attr("width"):a.options["default"+e+"Width"];a.height=a.options[b+"Height"]>0||a.options[b+"Height"].toString().indexOf("%")>-1?a.options[b+"Height"]:a.media.style.height!==""&&a.media.style.height!==null?a.media.style.height:a.$media[0].getAttribute("height")!==null?a.$media.attr("height"):
a.options["default"+e+"Height"];a.setPlayerSize(a.width,a.height);c.pluginWidth=a.width;c.pluginHeight=a.height}mejs.MediaElement(a.$media[0],c);typeof a.container!="undefined"&&a.controlsAreVisible&&a.container.trigger("controlsshown")},showControls:function(a){var b=this;a=typeof a=="undefined"||a;if(!b.controlsAreVisible){if(a){b.controls.css("visibility","visible").stop(true,true).fadeIn(200,function(){b.controlsAreVisible=true;b.container.trigger("controlsshown")});b.container.find(".mejs-control").css("visibility",
"visible").stop(true,true).fadeIn(200,function(){b.controlsAreVisible=true})}else{b.controls.css("visibility","visible").css("display","block");b.container.find(".mejs-control").css("visibility","visible").css("display","block");b.controlsAreVisible=true;b.container.trigger("controlsshown")}b.setControlsSize()}},hideControls:function(a){var b=this;a=typeof a=="undefined"||a;if(!(!b.controlsAreVisible||b.options.alwaysShowControls))if(a){b.controls.stop(true,true).fadeOut(200,function(){f(this).css("visibility",
"hidden").css("display","block");b.controlsAreVisible=false;b.container.trigger("controlshidden")});b.container.find(".mejs-control").stop(true,true).fadeOut(200,function(){f(this).css("visibility","hidden").css("display","block")})}else{b.controls.css("visibility","hidden").css("display","block");b.container.find(".mejs-control").css("visibility","hidden").css("display","block");b.controlsAreVisible=false;b.container.trigger("controlshidden")}},controlsTimer:null,startControlsTimer:function(a){var b=
this;a=typeof a!="undefined"?a:1500;b.killControlsTimer("start");b.controlsTimer=setTimeout(function(){b.hideControls();b.killControlsTimer("hide")},a)},killControlsTimer:function(){if(this.controlsTimer!==null){clearTimeout(this.controlsTimer);delete this.controlsTimer;this.controlsTimer=null}},controlsEnabled:true,disableControls:function(){this.killControlsTimer();this.hideControls(false);this.controlsEnabled=false},enableControls:function(){this.showControls(false);this.controlsEnabled=true},
meReady:function(a,b){var c=this,e=mejs.MediaFeatures,d=b.getAttribute("autoplay");d=!(typeof d=="undefined"||d===null||d==="false");var g;if(!c.created){c.created=true;c.media=a;c.domNode=b;if(!(e.isAndroid&&c.options.AndroidUseNativeControls)&&!(e.isiPad&&c.options.iPadUseNativeControls)&&!(e.isiPhone&&c.options.iPhoneUseNativeControls)){c.buildposter(c,c.controls,c.layers,c.media);c.buildkeyboard(c,c.controls,c.layers,c.media);c.buildoverlays(c,c.controls,c.layers,c.media);c.findTracks();for(g in c.options.features){e=
c.options.features[g];if(c["build"+e])try{c["build"+e](c,c.controls,c.layers,c.media)}catch(k){}}c.container.trigger("controlsready");c.setPlayerSize(c.width,c.height);c.setControlsSize();if(c.isVideo){if(mejs.MediaFeatures.hasTouch)c.$media.bind("touchstart",function(){if(c.controlsAreVisible)c.hideControls(false);else c.controlsEnabled&&c.showControls(false)});else{mejs.MediaElementPlayer.prototype.clickToPlayPauseCallback=function(){if(c.options.clickToPlayPause)c.media.paused?c.play():c.pause()};
c.media.addEventListener("click",c.clickToPlayPauseCallback,false);c.container.bind("mouseenter mouseover",function(){if(c.controlsEnabled)if(!c.options.alwaysShowControls){c.killControlsTimer("enter");c.showControls();c.startControlsTimer(2500)}}).bind("mousemove",function(){if(c.controlsEnabled){c.controlsAreVisible||c.showControls();c.options.alwaysShowControls||c.startControlsTimer(2500)}}).bind("mouseleave",function(){c.controlsEnabled&&!c.media.paused&&!c.options.alwaysShowControls&&c.startControlsTimer(1E3)})}c.options.hideVideoControlsOnLoad&&
c.hideControls(false);d&&!c.options.alwaysShowControls&&c.hideControls();c.options.enableAutosize&&c.media.addEventListener("loadedmetadata",function(j){if(c.options.videoHeight<=0&&c.domNode.getAttribute("height")===null&&!isNaN(j.target.videoHeight)){c.setPlayerSize(j.target.videoWidth,j.target.videoHeight);c.setControlsSize();c.media.setVideoSize(j.target.videoWidth,j.target.videoHeight)}},false)}a.addEventListener("play",function(){for(var j in mejs.players){var m=mejs.players[j];m.id!=c.id&&
c.options.pauseOtherPlayers&&!m.paused&&!m.ended&&m.pause();m.hasFocus=false}c.hasFocus=true},false);c.media.addEventListener("ended",function(){if(c.options.autoRewind)try{c.media.setCurrentTime(0)}catch(j){}c.media.pause();c.setProgressRail&&c.setProgressRail();c.setCurrentRail&&c.setCurrentRail();if(c.options.loop)c.play();else!c.options.alwaysShowControls&&c.controlsEnabled&&c.showControls()},false);c.media.addEventListener("loadedmetadata",function(){c.updateDuration&&c.updateDuration();c.updateCurrent&&
c.updateCurrent();if(!c.isFullScreen){c.setPlayerSize(c.width,c.height);c.setControlsSize()}},false);setTimeout(function(){c.setPlayerSize(c.width,c.height);c.setControlsSize()},50);c.globalBind("resize",function(){c.isFullScreen||mejs.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen||c.setPlayerSize(c.width,c.height);c.setControlsSize()});c.media.pluginType=="youtube"&&c.container.find(".mejs-overlay-play").hide()}d&&a.pluginType=="native"&&c.play();if(c.options.success)typeof c.options.success==
"string"?window[c.options.success](c.media,c.domNode,c):c.options.success(c.media,c.domNode,c)}},handleError:function(a){this.controls.hide();this.options.error&&this.options.error(a)},setPlayerSize:function(a,b){if(typeof a!="undefined")this.width=a;if(typeof b!="undefined")this.height=b;if(this.height.toString().indexOf("%")>0||this.$node.css("max-width")==="100%"||parseInt(this.$node.css("max-width").replace(/px/,""),10)/this.$node.offsetParent().width()===1||this.$node[0].currentStyle&&this.$node[0].currentStyle.maxWidth===
"100%"){var c=this.isVideo?this.media.videoWidth&&this.media.videoWidth>0?this.media.videoWidth:this.options.defaultVideoWidth:this.options.defaultAudioWidth,e=this.isVideo?this.media.videoHeight&&this.media.videoHeight>0?this.media.videoHeight:this.options.defaultVideoHeight:this.options.defaultAudioHeight,d=this.container.parent().closest(":visible").width();c=this.isVideo||!this.options.autosizeProgress?parseInt(d*e/c,10):e;if(this.container.parent()[0].tagName.toLowerCase()==="body"){d=f(window).width();
c=f(window).height()}if(c!=0&&d!=0){this.container.width(d).height(c);this.$media.add(this.container.find(".mejs-shim")).width("100%").height("100%");this.isVideo&&this.media.setVideoSize&&this.media.setVideoSize(d,c);this.layers.children(".mejs-layer").width("100%").height("100%")}}else{this.container.width(this.width).height(this.height);this.layers.children(".mejs-layer").width(this.width).height(this.height)}d=this.layers.find(".mejs-overlay-play");c=d.find(".mejs-overlay-button");d.height(this.container.height()-
this.controls.height());c.css("margin-top","-"+(c.height()/2-this.controls.height()/2).toString()+"px")},setControlsSize:function(){var a=0,b=0,c=this.controls.find(".mejs-time-rail"),e=this.controls.find(".mejs-time-total");this.controls.find(".mejs-time-current");this.controls.find(".mejs-time-loaded");var d=c.siblings();if(this.options&&!this.options.autosizeProgress)b=parseInt(c.css("width"));if(b===0||!b){d.each(function(){var g=f(this);if(g.css("position")!="absolute"&&g.is(":visible"))a+=f(this).outerWidth(true)});
b=this.controls.width()-a-(c.outerWidth(true)-c.width())}c.width(b);e.width(b-(e.outerWidth(true)-e.width()));this.setProgressRail&&this.setProgressRail();this.setCurrentRail&&this.setCurrentRail()},buildposter:function(a,b,c,e){var d=f('<div class="mejs-poster mejs-layer"></div>').appendTo(c);b=a.$media.attr("poster");if(a.options.poster!=="")b=a.options.poster;b!==""&&b!=null?this.setPoster(b):d.hide();e.addEventListener("play",function(){d.hide()},false);a.options.showPosterWhenEnded&&a.options.autoRewind&&
e.addEventListener("ended",function(){d.show()},false)},setPoster:function(a){var b=this.container.find(".mejs-poster"),c=b.find("img");if(c.length==0)c=f('<img width="100%" height="100%" />').appendTo(b);c.attr("src",a);b.css({"background-image":"url("+a+")"})},buildoverlays:function(a,b,c,e){var d=this;if(a.isVideo){var g=f('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-loading"><span></span></div></div>').hide().appendTo(c),k=f('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-error"></div></div>').hide().appendTo(c),
j=f('<div class="mejs-overlay mejs-layer mejs-overlay-play"><div class="mejs-overlay-button"></div></div>').appendTo(c).bind("click touchstart",function(){d.options.clickToPlayPause&&e.paused&&d.play()});e.addEventListener("play",function(){j.hide();g.hide();b.find(".mejs-time-buffering").hide();k.hide()},false);e.addEventListener("playing",function(){j.hide();g.hide();b.find(".mejs-time-buffering").hide();k.hide()},false);e.addEventListener("seeking",function(){g.show();b.find(".mejs-time-buffering").show()},
false);e.addEventListener("seeked",function(){g.hide();b.find(".mejs-time-buffering").hide()},false);e.addEventListener("pause",function(){mejs.MediaFeatures.isiPhone||j.show()},false);e.addEventListener("waiting",function(){g.show();b.find(".mejs-time-buffering").show()},false);e.addEventListener("loadeddata",function(){g.show();b.find(".mejs-time-buffering").show()},false);e.addEventListener("canplay",function(){g.hide();b.find(".mejs-time-buffering").hide()},false);e.addEventListener("error",function(){g.hide();
b.find(".mejs-time-buffering").hide();k.show();k.find("mejs-overlay-error").html("Error loading this resource")},false)}},buildkeyboard:function(a,b,c,e){this.globalBind("keydown",function(d){if(a.hasFocus&&a.options.enableKeyboard)for(var g=0,k=a.options.keyActions.length;g<k;g++)for(var j=a.options.keyActions[g],m=0,q=j.keys.length;m<q;m++)if(d.keyCode==j.keys[m]){d.preventDefault();j.action(a,e,d.keyCode);return false}return true});this.globalBind("click",function(d){if(f(d.target).closest(".mejs-container").length==
0)a.hasFocus=false})},findTracks:function(){var a=this,b=a.$media.find("track");a.tracks=[];b.each(function(c,e){e=f(e);a.tracks.push({srclang:e.attr("srclang")?e.attr("srclang").toLowerCase():"",src:e.attr("src"),kind:e.attr("kind"),label:e.attr("label")||"",entries:[],isLoaded:false})})},changeSkin:function(a){this.container[0].className="mejs-container "+a;this.setPlayerSize(this.width,this.height);this.setControlsSize()},play:function(){this.load();this.media.play()},pause:function(){try{this.media.pause()}catch(a){}},
load:function(){this.isLoaded||this.media.load();this.isLoaded=true},setMuted:function(a){this.media.setMuted(a)},setCurrentTime:function(a){this.media.setCurrentTime(a)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(a){this.media.setVolume(a)},getVolume:function(){return this.media.volume},setSrc:function(a){this.media.setSrc(a)},remove:function(){var a,b;for(a in this.options.features){b=this.options.features[a];if(this["clean"+b])try{this["clean"+b](this)}catch(c){}}if(this.isDynamic)this.$node.insertBefore(this.container);
else{this.$media.prop("controls",true);this.$node.clone().show().insertBefore(this.container);this.$node.remove()}this.media.pluginType!=="native"&&this.media.remove();delete mejs.players[this.id];this.container.remove();this.globalUnbind();delete this.node.player}};(function(){function a(c,e){var d={d:[],w:[]};f.each((c||"").split(" "),function(g,k){var j=k+"."+e;if(j.indexOf(".")===0){d.d.push(j);d.w.push(j)}else d[b.test(k)?"w":"d"].push(j)});d.d=d.d.join(" ");d.w=d.w.join(" ");return d}var b=
/^((after|before)print|(before)?unload|hashchange|message|o(ff|n)line|page(hide|show)|popstate|resize|storage)\b/;mejs.MediaElementPlayer.prototype.globalBind=function(c,e,d){c=a(c,this.id);c.d&&f(document).bind(c.d,e,d);c.w&&f(window).bind(c.w,e,d)};mejs.MediaElementPlayer.prototype.globalUnbind=function(c,e){c=a(c,this.id);c.d&&f(document).unbind(c.d,e);c.w&&f(window).unbind(c.w,e)}})();if(typeof jQuery!="undefined")jQuery.fn.mediaelementplayer=function(a){a===false?this.each(function(){var b=jQuery(this).data("mediaelementplayer");
b&&b.remove();jQuery(this).removeData("mediaelementplayer")}):this.each(function(){jQuery(this).data("mediaelementplayer",new mejs.MediaElementPlayer(this,a))});return this};f(document).ready(function(){f(".mejs-player").mediaelementplayer()});window.MediaElementPlayer=mejs.MediaElementPlayer})(mejs.$);
(function(f){f.extend(mejs.MepDefaults,{playpauseText:mejs.i18n.t("Play/Pause")});f.extend(MediaElementPlayer.prototype,{buildplaypause:function(a,b,c,e){var d=f('<div class="mejs-button mejs-playpause-button mejs-play" ><button type="button" aria-controls="'+this.id+'" title="'+this.options.playpauseText+'" aria-label="'+this.options.playpauseText+'"></button></div>').appendTo(b).click(function(g){g.preventDefault();e.paused?e.play():e.pause();return false});e.addEventListener("play",function(){d.removeClass("mejs-play").addClass("mejs-pause")},
false);e.addEventListener("playing",function(){d.removeClass("mejs-play").addClass("mejs-pause")},false);e.addEventListener("pause",function(){d.removeClass("mejs-pause").addClass("mejs-play")},false);e.addEventListener("paused",function(){d.removeClass("mejs-pause").addClass("mejs-play")},false)}})})(mejs.$);
(function(f){f.extend(mejs.MepDefaults,{stopText:"Stop"});f.extend(MediaElementPlayer.prototype,{buildstop:function(a,b,c,e){f('<div class="mejs-button mejs-stop-button mejs-stop"><button type="button" aria-controls="'+this.id+'" title="'+this.options.stopText+'" aria-label="'+this.options.stopText+'"></button></div>').appendTo(b).click(function(){e.paused||e.pause();if(e.currentTime>0){e.setCurrentTime(0);e.pause();b.find(".mejs-time-current").width("0px");b.find(".mejs-time-handle").css("left",
"0px");b.find(".mejs-time-float-current").html(mejs.Utility.secondsToTimeCode(0));b.find(".mejs-currenttime").html(mejs.Utility.secondsToTimeCode(0));c.find(".mejs-poster").show()}})}})})(mejs.$);
(function(f){f.extend(MediaElementPlayer.prototype,{buildprogress:function(a,b,c,e){f('<div class="mejs-time-rail"><span class="mejs-time-total"><span class="mejs-time-buffering"></span><span class="mejs-time-loaded"></span><span class="mejs-time-current"></span><span class="mejs-time-handle"></span><span class="mejs-time-float"><span class="mejs-time-float-current">00:00</span><span class="mejs-time-float-corner"></span></span></span></div>').appendTo(b);b.find(".mejs-time-buffering").hide();var d=
this,g=b.find(".mejs-time-total");c=b.find(".mejs-time-loaded");var k=b.find(".mejs-time-current"),j=b.find(".mejs-time-handle"),m=b.find(".mejs-time-float"),q=b.find(".mejs-time-float-current"),p=function(h){h=h.pageX;var l=g.offset(),r=g.outerWidth(true),n=0,o=n=0;if(e.duration){if(h<l.left)h=l.left;else if(h>r+l.left)h=r+l.left;o=h-l.left;n=o/r;n=n<=0.02?0:n*e.duration;t&&n!==e.currentTime&&e.setCurrentTime(n);if(!mejs.MediaFeatures.hasTouch){m.css("left",o);q.html(mejs.Utility.secondsToTimeCode(n));
m.show()}}},t=false;g.bind("mousedown",function(h){if(h.which===1){t=true;p(h);d.globalBind("mousemove.dur",function(l){p(l)});d.globalBind("mouseup.dur",function(){t=false;m.hide();d.globalUnbind(".dur")});return false}}).bind("mouseenter",function(){d.globalBind("mousemove.dur",function(h){p(h)});mejs.MediaFeatures.hasTouch||m.show()}).bind("mouseleave",function(){if(!t){d.globalUnbind(".dur");m.hide()}});e.addEventListener("progress",function(h){a.setProgressRail(h);a.setCurrentRail(h)},false);
e.addEventListener("timeupdate",function(h){a.setProgressRail(h);a.setCurrentRail(h)},false);d.loaded=c;d.total=g;d.current=k;d.handle=j},setProgressRail:function(a){var b=a!=undefined?a.target:this.media,c=null;if(b&&b.buffered&&b.buffered.length>0&&b.buffered.end&&b.duration)c=b.buffered.end(0)/b.duration;else if(b&&b.bytesTotal!=undefined&&b.bytesTotal>0&&b.bufferedBytes!=undefined)c=b.bufferedBytes/b.bytesTotal;else if(a&&a.lengthComputable&&a.total!=0)c=a.loaded/a.total;if(c!==null){c=Math.min(1,
Math.max(0,c));this.loaded&&this.total&&this.loaded.width(this.total.width()*c)}},setCurrentRail:function(){if(this.media.currentTime!=undefined&&this.media.duration)if(this.total&&this.handle){var a=Math.round(this.total.width()*this.media.currentTime/this.media.duration),b=a-Math.round(this.handle.outerWidth(true)/2);this.current.width(a);this.handle.css("left",b)}}})})(mejs.$);
(function(f){f.extend(mejs.MepDefaults,{duration:-1,timeAndDurationSeparator:"<span> | </span>"});f.extend(MediaElementPlayer.prototype,{buildcurrent:function(a,b,c,e){f('<div class="mejs-time"><span class="mejs-currenttime">'+(a.options.alwaysShowHours?"00:":"")+(a.options.showTimecodeFrameCount?"00:00:00":"00:00")+"</span></div>").appendTo(b);this.currenttime=this.controls.find(".mejs-currenttime");e.addEventListener("timeupdate",function(){a.updateCurrent()},false)},buildduration:function(a,b,
c,e){if(b.children().last().find(".mejs-currenttime").length>0)f(this.options.timeAndDurationSeparator+'<span class="mejs-duration">'+(this.options.duration>0?mejs.Utility.secondsToTimeCode(this.options.duration,this.options.alwaysShowHours||this.media.duration>3600,this.options.showTimecodeFrameCount,this.options.framesPerSecond||25):(a.options.alwaysShowHours?"00:":"")+(a.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span>").appendTo(b.find(".mejs-time"));else{b.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container");
f('<div class="mejs-time mejs-duration-container"><span class="mejs-duration">'+(this.options.duration>0?mejs.Utility.secondsToTimeCode(this.options.duration,this.options.alwaysShowHours||this.media.duration>3600,this.options.showTimecodeFrameCount,this.options.framesPerSecond||25):(a.options.alwaysShowHours?"00:":"")+(a.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span></div>").appendTo(b)}this.durationD=this.controls.find(".mejs-duration");e.addEventListener("timeupdate",function(){a.updateDuration()},
false)},updateCurrent:function(){if(this.currenttime)this.currenttime.html(mejs.Utility.secondsToTimeCode(this.media.currentTime,this.options.alwaysShowHours||this.media.duration>3600,this.options.showTimecodeFrameCount,this.options.framesPerSecond||25))},updateDuration:function(){this.container.toggleClass("mejs-long-video",this.media.duration>3600);if(this.durationD&&(this.options.duration>0||this.media.duration))this.durationD.html(mejs.Utility.secondsToTimeCode(this.options.duration>0?this.options.duration:
this.media.duration,this.options.alwaysShowHours,this.options.showTimecodeFrameCount,this.options.framesPerSecond||25))}})})(mejs.$);
(function(f){f.extend(mejs.MepDefaults,{muteText:mejs.i18n.t("Mute Toggle"),hideVolumeOnTouchDevices:true,audioVolume:"horizontal",videoVolume:"vertical"});f.extend(MediaElementPlayer.prototype,{buildvolume:function(a,b,c,e){if(!(mejs.MediaFeatures.hasTouch&&this.options.hideVolumeOnTouchDevices)){var d=this,g=d.isVideo?d.options.videoVolume:d.options.audioVolume,k=g=="horizontal"?f('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+d.id+'" title="'+d.options.muteText+
'" aria-label="'+d.options.muteText+'"></button></div><div class="mejs-horizontal-volume-slider"><div class="mejs-horizontal-volume-total"></div><div class="mejs-horizontal-volume-current"></div><div class="mejs-horizontal-volume-handle"></div></div>').appendTo(b):f('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+d.id+'" title="'+d.options.muteText+'" aria-label="'+d.options.muteText+'"></button><div class="mejs-volume-slider"><div class="mejs-volume-total"></div><div class="mejs-volume-current"></div><div class="mejs-volume-handle"></div></div></div>').appendTo(b),
j=d.container.find(".mejs-volume-slider, .mejs-horizontal-volume-slider"),m=d.container.find(".mejs-volume-total, .mejs-horizontal-volume-total"),q=d.container.find(".mejs-volume-current, .mejs-horizontal-volume-current"),p=d.container.find(".mejs-volume-handle, .mejs-horizontal-volume-handle"),t=function(n,o){if(!j.is(":visible")&&typeof o=="undefined"){j.show();t(n,true);j.hide()}else{n=Math.max(0,n);n=Math.min(n,1);n==0?k.removeClass("mejs-mute").addClass("mejs-unmute"):k.removeClass("mejs-unmute").addClass("mejs-mute");
if(g=="vertical"){var s=m.height(),u=m.position(),v=s-s*n;p.css("top",Math.round(u.top+v-p.height()/2));q.height(s-v);q.css("top",u.top+v)}else{s=m.width();u=m.position();s=s*n;p.css("left",Math.round(u.left+s-p.width()/2));q.width(Math.round(s))}}},h=function(n){var o=null,s=m.offset();if(g=="vertical"){o=m.height();parseInt(m.css("top").replace(/px/,""),10);o=(o-(n.pageY-s.top))/o;if(s.top==0||s.left==0)return}else{o=m.width();o=(n.pageX-s.left)/o}o=Math.max(0,o);o=Math.min(o,1);t(o);o==0?e.setMuted(true):
e.setMuted(false);e.setVolume(o)},l=false,r=false;k.hover(function(){j.show();r=true},function(){r=false;!l&&g=="vertical"&&j.hide()});j.bind("mouseover",function(){r=true}).bind("mousedown",function(n){h(n);d.globalBind("mousemove.vol",function(o){h(o)});d.globalBind("mouseup.vol",function(){l=false;d.globalUnbind(".vol");!r&&g=="vertical"&&j.hide()});l=true;return false});k.find("button").click(function(){e.setMuted(!e.muted)});e.addEventListener("volumechange",function(){if(!l)if(e.muted){t(0);
k.removeClass("mejs-mute").addClass("mejs-unmute")}else{t(e.volume);k.removeClass("mejs-unmute").addClass("mejs-mute")}},false);if(d.container.is(":visible")){t(a.options.startVolume);a.options.startVolume===0&&e.setMuted(true);e.pluginType==="native"&&e.setVolume(a.options.startVolume)}}}})})(mejs.$);
(function(f){f.extend(mejs.MepDefaults,{usePluginFullScreen:true,newWindowCallback:function(){return""},fullscreenText:mejs.i18n.t("Fullscreen")});f.extend(MediaElementPlayer.prototype,{isFullScreen:false,isNativeFullScreen:false,isInIframe:false,buildfullscreen:function(a,b,c,e){if(a.isVideo){a.isInIframe=window.location!=window.parent.location;if(mejs.MediaFeatures.hasTrueNativeFullScreen){c=function(){if(a.isFullScreen)if(mejs.MediaFeatures.isFullScreen()){a.isNativeFullScreen=true;a.setControlsSize()}else{a.isNativeFullScreen=
false;a.exitFullScreen()}};mejs.MediaFeatures.hasMozNativeFullScreen?a.globalBind(mejs.MediaFeatures.fullScreenEventName,c):a.container.bind(mejs.MediaFeatures.fullScreenEventName,c)}var d=this,g=f('<div class="mejs-button mejs-fullscreen-button"><button type="button" aria-controls="'+d.id+'" title="'+d.options.fullscreenText+'" aria-label="'+d.options.fullscreenText+'"></button></div>').appendTo(b);if(d.media.pluginType==="native"||!d.options.usePluginFullScreen&&!mejs.MediaFeatures.isFirefox)g.click(function(){mejs.MediaFeatures.hasTrueNativeFullScreen&&
mejs.MediaFeatures.isFullScreen()||a.isFullScreen?a.exitFullScreen():a.enterFullScreen()});else{var k=null;if(function(){var h=document.createElement("x"),l=document.documentElement,r=window.getComputedStyle;if(!("pointerEvents"in h.style))return false;h.style.pointerEvents="auto";h.style.pointerEvents="x";l.appendChild(h);r=r&&r(h,"").pointerEvents==="auto";l.removeChild(h);return!!r}()&&!mejs.MediaFeatures.isOpera){var j=false,m=function(){if(j){for(var h in q)q[h].hide();g.css("pointer-events",
"");d.controls.css("pointer-events","");d.media.removeEventListener("click",d.clickToPlayPauseCallback);j=false}},q={};b=["top","left","right","bottom"];var p,t=function(){var h=g.offset().left-d.container.offset().left,l=g.offset().top-d.container.offset().top,r=g.outerWidth(true),n=g.outerHeight(true),o=d.container.width(),s=d.container.height();for(p in q)q[p].css({position:"absolute",top:0,left:0});q.top.width(o).height(l);q.left.width(h).height(n).css({top:l});q.right.width(o-h-r).height(n).css({top:l,
left:h+r});q.bottom.width(o).height(s-n-l).css({top:l+n})};d.globalBind("resize",function(){t()});p=0;for(c=b.length;p<c;p++)q[b[p]]=f('<div class="mejs-fullscreen-hover" />').appendTo(d.container).mouseover(m).hide();g.on("mouseover",function(){if(!d.isFullScreen){var h=g.offset(),l=a.container.offset();e.positionFullscreenButton(h.left-l.left,h.top-l.top,false);g.css("pointer-events","none");d.controls.css("pointer-events","none");d.media.addEventListener("click",d.clickToPlayPauseCallback);for(p in q)q[p].show();
t();j=true}});e.addEventListener("fullscreenchange",function(){d.isFullScreen=!d.isFullScreen;d.isFullScreen?d.media.removeEventListener("click",d.clickToPlayPauseCallback):d.media.addEventListener("click",d.clickToPlayPauseCallback);m()});d.globalBind("mousemove",function(h){if(j){var l=g.offset();if(h.pageY<l.top||h.pageY>l.top+g.outerHeight(true)||h.pageX<l.left||h.pageX>l.left+g.outerWidth(true)){g.css("pointer-events","");d.controls.css("pointer-events","");j=false}}})}else g.on("mouseover",
function(){if(k!==null){clearTimeout(k);delete k}var h=g.offset(),l=a.container.offset();e.positionFullscreenButton(h.left-l.left,h.top-l.top,true)}).on("mouseout",function(){if(k!==null){clearTimeout(k);delete k}k=setTimeout(function(){e.hideFullscreenButton()},1500)})}a.fullscreenBtn=g;d.globalBind("keydown",function(h){if((mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||d.isFullScreen)&&h.keyCode==27)a.exitFullScreen()})}},cleanfullscreen:function(a){a.exitFullScreen()},
containerSizeTimeout:null,enterFullScreen:function(){var a=this;if(!(a.media.pluginType!=="native"&&(mejs.MediaFeatures.isFirefox||a.options.usePluginFullScreen))){f(document.documentElement).addClass("mejs-fullscreen");normalHeight=a.container.height();normalWidth=a.container.width();if(a.media.pluginType==="native")if(mejs.MediaFeatures.hasTrueNativeFullScreen){mejs.MediaFeatures.requestFullScreen(a.container[0]);a.isInIframe&&setTimeout(function c(){if(a.isNativeFullScreen)f(window).width()!==
screen.width?a.exitFullScreen():setTimeout(c,500)},500)}else if(mejs.MediaFeatures.hasSemiNativeFullScreen){a.media.webkitEnterFullscreen();return}if(a.isInIframe){var b=a.options.newWindowCallback(this);if(b!=="")if(mejs.MediaFeatures.hasTrueNativeFullScreen)setTimeout(function(){if(!a.isNativeFullScreen){a.pause();window.open(b,a.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no")}},250);else{a.pause();window.open(b,a.id,
"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no");return}}a.container.addClass("mejs-container-fullscreen").width("100%").height("100%");a.containerSizeTimeout=setTimeout(function(){a.container.css({width:"100%",height:"100%"});a.setControlsSize()},500);if(a.media.pluginType==="native")a.$media.width("100%").height("100%");else{a.container.find(".mejs-shim").width("100%").height("100%");a.media.setVideoSize(f(window).width(),
f(window).height())}a.layers.children("div").width("100%").height("100%");a.fullscreenBtn&&a.fullscreenBtn.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen");a.setControlsSize();a.isFullScreen=true}},exitFullScreen:function(){clearTimeout(this.containerSizeTimeout);if(this.media.pluginType!=="native"&&mejs.MediaFeatures.isFirefox)this.media.setFullscreen(false);else{if(mejs.MediaFeatures.hasTrueNativeFullScreen&&(mejs.MediaFeatures.isFullScreen()||this.isFullScreen))mejs.MediaFeatures.cancelFullScreen();
f(document.documentElement).removeClass("mejs-fullscreen");this.container.removeClass("mejs-container-fullscreen").width(normalWidth).height(normalHeight);if(this.media.pluginType==="native")this.$media.width(normalWidth).height(normalHeight);else{this.container.find(".mejs-shim").width(normalWidth).height(normalHeight);this.media.setVideoSize(normalWidth,normalHeight)}this.layers.children("div").width(normalWidth).height(normalHeight);this.fullscreenBtn.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen");
this.setControlsSize();this.isFullScreen=false}}})})(mejs.$);
(function(f){f.extend(mejs.MepDefaults,{startLanguage:"",tracksText:mejs.i18n.t("Captions/Subtitles"),hideCaptionsButtonWhenEmpty:true,toggleCaptionsButtonWhenOnlyOne:false,slidesSelector:""});f.extend(MediaElementPlayer.prototype,{hasChapters:false,buildtracks:function(a,b,c,e){if(a.tracks.length!=0){var d;if(this.domNode.textTracks)for(d=this.domNode.textTracks.length-1;d>=0;d--)this.domNode.textTracks[d].mode="hidden";a.chapters=f('<div class="mejs-chapters mejs-layer"></div>').prependTo(c).hide();a.captions=
f('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position mejs-captions-position-hover"><span class="mejs-captions-text"></span></div></div>').prependTo(c).hide();a.captionsText=a.captions.find(".mejs-captions-text");a.captionsButton=f('<div class="mejs-button mejs-captions-button"><button type="button" aria-controls="'+this.id+'" title="'+this.options.tracksText+'" aria-label="'+this.options.tracksText+'"></button><div class="mejs-captions-selector"><ul><li><input type="radio" name="'+
a.id+'_captions" id="'+a.id+'_captions_none" value="none" checked="checked" /><label for="'+a.id+'_captions_none">'+mejs.i18n.t("None")+"</label></li></ul></div></div>").appendTo(b);for(d=b=0;d<a.tracks.length;d++)a.tracks[d].kind=="subtitles"&&b++;this.options.toggleCaptionsButtonWhenOnlyOne&&b==1?a.captionsButton.on("click",function(){a.setTrack(a.selectedTrack==null?a.tracks[0].srclang:"none")}):a.captionsButton.hover(function(){f(this).find(".mejs-captions-selector").css("visibility","visible")},
function(){f(this).find(".mejs-captions-selector").css("visibility","hidden")}).on("click","input[type=radio]",function(){lang=this.value;a.setTrack(lang)});a.options.alwaysShowControls?a.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover"):a.container.bind("controlsshown",function(){a.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}).bind("controlshidden",function(){e.paused||a.container.find(".mejs-captions-position").removeClass("mejs-captions-position-hover")});
a.trackToLoad=-1;a.selectedTrack=null;a.isLoadingTrack=false;for(d=0;d<a.tracks.length;d++)a.tracks[d].kind=="subtitles"&&a.addTrackButton(a.tracks[d].srclang,a.tracks[d].label);a.loadNextTrack();e.addEventListener("timeupdate",function(){a.displayCaptions()},false);if(a.options.slidesSelector!=""){a.slidesContainer=f(a.options.slidesSelector);e.addEventListener("timeupdate",function(){a.displaySlides()},false)}e.addEventListener("loadedmetadata",function(){a.displayChapters()},false);a.container.hover(function(){if(a.hasChapters){a.chapters.css("visibility",
"visible");a.chapters.fadeIn(200).height(a.chapters.find(".mejs-chapter").outerHeight())}},function(){a.hasChapters&&!e.paused&&a.chapters.fadeOut(200,function(){f(this).css("visibility","hidden");f(this).css("display","block")})});a.node.getAttribute("autoplay")!==null&&a.chapters.css("visibility","hidden")}},setTrack:function(a){var b;if(a=="none"){this.selectedTrack=null;this.captionsButton.removeClass("mejs-captions-enabled")}else for(b=0;b<this.tracks.length;b++)if(this.tracks[b].srclang==a){this.selectedTrack==
null&&this.captionsButton.addClass("mejs-captions-enabled");this.selectedTrack=this.tracks[b];this.captions.attr("lang",this.selectedTrack.srclang);this.displayCaptions();break}},loadNextTrack:function(){this.trackToLoad++;if(this.trackToLoad<this.tracks.length){this.isLoadingTrack=true;this.loadTrack(this.trackToLoad)}else{this.isLoadingTrack=false;this.checkForTracks()}},loadTrack:function(a){var b=this,c=b.tracks[a];f.ajax({url:c.src,dataType:"text",success:function(e){c.entries=typeof e=="string"&&
/<tt\s+xml/ig.exec(e)?mejs.TrackFormatParser.dfxp.parse(e):mejs.TrackFormatParser.webvvt.parse(e);c.isLoaded=true;b.enableTrackButton(c.srclang,c.label);b.loadNextTrack();c.kind=="chapters"&&b.media.addEventListener("play",function(){b.media.duration>0&&b.displayChapters(c)},false);c.kind=="slides"&&b.setupSlides(c)},error:function(){b.loadNextTrack()}})},enableTrackButton:function(a,b){if(b==="")b=mejs.language.codes[a]||a;this.captionsButton.find("input[value="+a+"]").prop("disabled",false).siblings("label").html(b);
this.options.startLanguage==a&&f("#"+this.id+"_captions_"+a).click();this.adjustLanguageBox()},addTrackButton:function(a,b){if(b==="")b=mejs.language.codes[a]||a;this.captionsButton.find("ul").append(f('<li><input type="radio" name="'+this.id+'_captions" id="'+this.id+"_captions_"+a+'" value="'+a+'" disabled="disabled" /><label for="'+this.id+"_captions_"+a+'">'+b+" (loading)</label></li>"));this.adjustLanguageBox();this.container.find(".mejs-captions-translations option[value="+a+"]").remove()},
adjustLanguageBox:function(){this.captionsButton.find(".mejs-captions-selector").height(this.captionsButton.find(".mejs-captions-selector ul").outerHeight(true)+this.captionsButton.find(".mejs-captions-translations").outerHeight(true))},checkForTracks:function(){var a=false;if(this.options.hideCaptionsButtonWhenEmpty){for(i=0;i<this.tracks.length;i++)if(this.tracks[i].kind=="subtitles"){a=true;break}if(!a){this.captionsButton.hide();this.setControlsSize()}}},displayCaptions:function(){if(typeof this.tracks!=
"undefined"){var a,b=this.selectedTrack;if(b!=null&&b.isLoaded)for(a=0;a<b.entries.times.length;a++)if(this.media.currentTime>=b.entries.times[a].start&&this.media.currentTime<=b.entries.times[a].stop){this.captionsText.html(b.entries.text[a]);this.captions.show().height(0);return}this.captions.hide()}},setupSlides:function(a){this.slides=a;this.slides.entries.imgs=[this.slides.entries.text.length];this.showSlide(0)},showSlide:function(a){if(!(typeof this.tracks=="undefined"||typeof this.slidesContainer==
"undefined")){var b=this,c=b.slides.entries.text[a],e=b.slides.entries.imgs[a];if(typeof e=="undefined"||typeof e.fadeIn=="undefined")b.slides.entries.imgs[a]=e=f('<img src="'+c+'">').on("load",function(){e.appendTo(b.slidesContainer).hide().fadeIn().siblings(":visible").fadeOut()});else!e.is(":visible")&&!e.is(":animated")&&e.fadeIn().siblings(":visible").fadeOut()}},displaySlides:function(){if(typeof this.slides!="undefined"){var a=this.slides,b;for(b=0;b<a.entries.times.length;b++)if(this.media.currentTime>=
a.entries.times[b].start&&this.media.currentTime<=a.entries.times[b].stop){this.showSlide(b);break}}},displayChapters:function(){var a;for(a=0;a<this.tracks.length;a++)if(this.tracks[a].kind=="chapters"&&this.tracks[a].isLoaded){this.drawChapters(this.tracks[a]);this.hasChapters=true;break}},drawChapters:function(a){var b=this,c,e,d=e=0;b.chapters.empty();for(c=0;c<a.entries.times.length;c++){e=a.entries.times[c].stop-a.entries.times[c].start;e=Math.floor(e/b.media.duration*100);if(e+d>100||c==a.entries.times.length-
1&&e+d<100)e=100-d;b.chapters.append(f('<div class="mejs-chapter" rel="'+a.entries.times[c].start+'" style="left: '+d.toString()+"%;width: "+e.toString()+'%;"><div class="mejs-chapter-block'+(c==a.entries.times.length-1?" mejs-chapter-block-last":"")+'"><span class="ch-title">'+a.entries.text[c]+'</span><span class="ch-time">'+mejs.Utility.secondsToTimeCode(a.entries.times[c].start)+"&ndash;"+mejs.Utility.secondsToTimeCode(a.entries.times[c].stop)+"</span></div></div>"));d+=e}b.chapters.find("div.mejs-chapter").click(function(){b.media.setCurrentTime(parseFloat(f(this).attr("rel")));
b.media.paused&&b.media.play()});b.chapters.show()}});mejs.language={codes:{af:"Afrikaans",sq:"Albanian",ar:"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh:"Chinese","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",et:"Estonian",tl:"Filipino",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",ht:"Haitian Creole",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",
ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk:"Macedonian",ms:"Malay",mt:"Maltese",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",sw:"Swahili",sv:"Swedish",tl:"Tagalog",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",cy:"Welsh",yi:"Yiddish"}};mejs.TrackFormatParser={webvvt:{pattern_identifier:/^([a-zA-z]+-)?[0-9]+$/,pattern_timecode:/^([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,
parse:function(a){var b=0;a=mejs.TrackFormatParser.split2(a,/\r?\n/);for(var c={text:[],times:[]},e,d;b<a.length;b++)if(this.pattern_identifier.exec(a[b])){b++;if((e=this.pattern_timecode.exec(a[b]))&&b<a.length){b++;d=a[b];for(b++;a[b]!==""&&b<a.length;){d=d+"\n"+a[b];b++}d=f.trim(d).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,"<a href='$1' target='_blank'>$1</a>");c.text.push(d);c.times.push({start:mejs.Utility.convertSMPTEtoSeconds(e[1])==0?0.2:mejs.Utility.convertSMPTEtoSeconds(e[1]),
stop:mejs.Utility.convertSMPTEtoSeconds(e[3]),settings:e[5]})}}return c}},dfxp:{parse:function(a){a=f(a).filter("tt");var b=0;b=a.children("div").eq(0);var c=b.find("p");b=a.find("#"+b.attr("style"));var e,d;a={text:[],times:[]};if(b.length){d=b.removeAttr("id").get(0).attributes;if(d.length){e={};for(b=0;b<d.length;b++)e[d[b].name.split(":")[1]]=d[b].value}}for(b=0;b<c.length;b++){var g;d={start:null,stop:null,style:null};if(c.eq(b).attr("begin"))d.start=mejs.Utility.convertSMPTEtoSeconds(c.eq(b).attr("begin"));
if(!d.start&&c.eq(b-1).attr("end"))d.start=mejs.Utility.convertSMPTEtoSeconds(c.eq(b-1).attr("end"));if(c.eq(b).attr("end"))d.stop=mejs.Utility.convertSMPTEtoSeconds(c.eq(b).attr("end"));if(!d.stop&&c.eq(b+1).attr("begin"))d.stop=mejs.Utility.convertSMPTEtoSeconds(c.eq(b+1).attr("begin"));if(e){g="";for(var k in e)g+=k+":"+e[k]+";"}if(g)d.style=g;if(d.start==0)d.start=0.2;a.times.push(d);d=f.trim(c.eq(b).html()).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,
"<a href='$1' target='_blank'>$1</a>");a.text.push(d);if(a.times.start==0)a.times.start=2}return a}},split2:function(a,b){return a.split(b)}};if("x\n\ny".split(/\n/gi).length!=3)mejs.TrackFormatParser.split2=function(a,b){var c=[],e="",d;for(d=0;d<a.length;d++){e+=a.substring(d,d+1);if(b.test(e)){c.push(e.replace(b,""));e=""}}c.push(e);return c}})(mejs.$);
(function(f){f.extend(mejs.MepDefaults,{contextMenuItems:[{render:function(a){if(typeof a.enterFullScreen=="undefined")return null;return a.isFullScreen?mejs.i18n.t("Turn off Fullscreen"):mejs.i18n.t("Go Fullscreen")},click:function(a){a.isFullScreen?a.exitFullScreen():a.enterFullScreen()}},{render:function(a){return a.media.muted?mejs.i18n.t("Unmute"):mejs.i18n.t("Mute")},click:function(a){a.media.muted?a.setMuted(false):a.setMuted(true)}},{isSeparator:true},{render:function(){return mejs.i18n.t("Download Video")},
click:function(a){window.location.href=a.media.currentSrc}}]});f.extend(MediaElementPlayer.prototype,{buildcontextmenu:function(a){a.contextMenu=f('<div class="mejs-contextmenu"></div>').appendTo(f("body")).hide();a.container.bind("contextmenu",function(b){if(a.isContextMenuEnabled){b.preventDefault();a.renderContextMenu(b.clientX-1,b.clientY-1);return false}});a.container.bind("click",function(){a.contextMenu.hide()});a.contextMenu.bind("mouseleave",function(){a.startContextMenuTimer()})},cleancontextmenu:function(a){a.contextMenu.remove()},
isContextMenuEnabled:true,enableContextMenu:function(){this.isContextMenuEnabled=true},disableContextMenu:function(){this.isContextMenuEnabled=false},contextMenuTimeout:null,startContextMenuTimer:function(){var a=this;a.killContextMenuTimer();a.contextMenuTimer=setTimeout(function(){a.hideContextMenu();a.killContextMenuTimer()},750)},killContextMenuTimer:function(){var a=this.contextMenuTimer;if(a!=null){clearTimeout(a);delete a}},hideContextMenu:function(){this.contextMenu.hide()},renderContextMenu:function(a,
b){for(var c=this,e="",d=c.options.contextMenuItems,g=0,k=d.length;g<k;g++)if(d[g].isSeparator)e+='<div class="mejs-contextmenu-separator"></div>';else{var j=d[g].render(c);if(j!=null)e+='<div class="mejs-contextmenu-item" data-itemindex="'+g+'" id="element-'+Math.random()*1E6+'">'+j+"</div>"}c.contextMenu.empty().append(f(e)).css({top:b,left:a}).show();c.contextMenu.find(".mejs-contextmenu-item").each(function(){var m=f(this),q=parseInt(m.data("itemindex"),10),p=c.options.contextMenuItems[q];typeof p.show!=
"undefined"&&p.show(m,c);m.click(function(){typeof p.click!="undefined"&&p.click(c);c.contextMenu.hide()})});setTimeout(function(){c.killControlsTimer("rev3")},100)}})})(mejs.$);
(function(f){f.extend(mejs.MepDefaults,{postrollCloseText:mejs.i18n.t("Close")});f.extend(MediaElementPlayer.prototype,{buildpostroll:function(a,b,c){var e=this.container.find('link[rel="postroll"]').attr("href");if(typeof e!=="undefined"){a.postroll=f('<div class="mejs-postroll-layer mejs-layer"><a class="mejs-postroll-close" onclick="$(this).parent().hide();return false;">'+this.options.postrollCloseText+'</a><div class="mejs-postroll-layer-content"></div></div>').prependTo(c).hide();this.media.addEventListener("ended",
function(){f.ajax({dataType:"html",url:e,success:function(d){c.find(".mejs-postroll-layer-content").html(d)}});a.postroll.show()},false)}}})})(mejs.$);


!function(a){function d(b){var c=b||window.event,d=[].slice.call(arguments,1),e=0,g=0,h=0;return b=a.event.fix(c),b.type="mousewheel",c.wheelDelta&&(e=c.wheelDelta/120),c.detail&&(e=-c.detail/3),h=e,void 0!==c.axis&&c.axis===c.HORIZONTAL_AXIS&&(h=0,g=-1*e),void 0!==c.wheelDeltaY&&(h=c.wheelDeltaY/120),void 0!==c.wheelDeltaX&&(g=-1*c.wheelDeltaX/120),d.unshift(b,e,g,h),(a.event.dispatch||a.event.handle).apply(this,d)}var b=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var c=b.length;c;)a.event.fixHooks[b[--c]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=b.length;a;)this.addEventListener(b[--a],d,!1);else this.onmousewheel=d},teardown:function(){if(this.removeEventListener)for(var a=b.length;a;)this.removeEventListener(b[--a],d,!1);else this.onmousewheel=null}},a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}(jQuery),function(c){var b={init:function(e){var f={set_width:!1,set_height:!1,horizontalScroll:!1,scrollInertia:950,mouseWheel:!0,mouseWheelPixels:"auto",autoDraggerLength:!0,autoHideScrollbar:!1,alwaysShowScrollbar:!1,snapAmount:null,snapOffset:0,scrollButtons:{enable:!1,scrollType:"continuous",scrollSpeed:"auto",scrollAmount:40},advanced:{updateOnBrowserResize:!0,updateOnContentResize:!1,autoExpandHorizontalScroll:!1,autoScrollOnFocus:!0,normalizeMouseWheelDelta:!1},contentTouchScroll:!0,callbacks:{onScrollStart:function(){},onScroll:function(){},onTotalScroll:function(){},onTotalScrollBack:function(){},onTotalScrollOffset:0,onTotalScrollBackOffset:0,whileScrolling:function(){}},theme:"light"},e=c.extend(!0,f,e);return this.each(function(){var m=c(this);if(e.set_width&&m.css("width",e.set_width),e.set_height&&m.css("height",e.set_height),c(document).data("mCustomScrollbar-index")){var t=parseInt(c(document).data("mCustomScrollbar-index"));c(document).data("mCustomScrollbar-index",t+1)}else c(document).data("mCustomScrollbar-index","1");m.wrapInner("<div class='mCustomScrollBox mCS-"+e.theme+"' id='mCSB_"+c(document).data("mCustomScrollbar-index")+"' style='position:relative; height:100%; overflow:hidden; max-width:100%;' />").addClass("mCustomScrollbar _mCS_"+c(document).data("mCustomScrollbar-index"));var g=m.children(".mCustomScrollBox");if(e.horizontalScroll){g.addClass("mCSB_horizontal").wrapInner("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />");var k=g.children(".mCSB_h_wrapper");k.wrapInner("<div class='mCSB_container' style='position:absolute; left:0;' />").children(".mCSB_container").css({width:k.children().outerWidth(),position:"relative"}).unwrap()}else g.wrapInner("<div class='mCSB_container' style='position:relative; top:0;' />");var o=g.children(".mCSB_container");c.support.touch&&o.addClass("mCS_touch"),o.after("<div class='mCSB_scrollTools' style='position:absolute;'><div class='mCSB_draggerContainer'><div class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' style='position:relative;'></div></div><div class='mCSB_draggerRail'></div></div></div>");var l=g.children(".mCSB_scrollTools"),h=l.children(".mCSB_draggerContainer"),q=h.children(".mCSB_dragger");if(e.horizontalScroll?q.data("minDraggerWidth",q.width()):q.data("minDraggerHeight",q.height()),e.scrollButtons.enable&&(e.horizontalScroll?l.prepend("<a class='mCSB_buttonLeft' oncontextmenu='return false;'></a>").append("<a class='mCSB_buttonRight' oncontextmenu='return false;'></a>"):l.prepend("<a class='mCSB_buttonUp' oncontextmenu='return false;'></a>").append("<a class='mCSB_buttonDown' oncontextmenu='return false;'></a>")),g.bind("scroll",function(){m.is(".mCS_disabled")||g.scrollTop(0).scrollLeft(0)}),m.data({mCS_Init:!0,mCustomScrollbarIndex:c(document).data("mCustomScrollbar-index"),horizontalScroll:e.horizontalScroll,scrollInertia:e.scrollInertia,scrollEasing:"mcsEaseOut",mouseWheel:e.mouseWheel,mouseWheelPixels:e.mouseWheelPixels,autoDraggerLength:e.autoDraggerLength,autoHideScrollbar:e.autoHideScrollbar,alwaysShowScrollbar:e.alwaysShowScrollbar,snapAmount:e.snapAmount,snapOffset:e.snapOffset,scrollButtons_enable:e.scrollButtons.enable,scrollButtons_scrollType:e.scrollButtons.scrollType,scrollButtons_scrollSpeed:e.scrollButtons.scrollSpeed,scrollButtons_scrollAmount:e.scrollButtons.scrollAmount,autoExpandHorizontalScroll:e.advanced.autoExpandHorizontalScroll,autoScrollOnFocus:e.advanced.autoScrollOnFocus,normalizeMouseWheelDelta:e.advanced.normalizeMouseWheelDelta,contentTouchScroll:e.contentTouchScroll,onScrollStart_Callback:e.callbacks.onScrollStart,onScroll_Callback:e.callbacks.onScroll,onTotalScroll_Callback:e.callbacks.onTotalScroll,onTotalScrollBack_Callback:e.callbacks.onTotalScrollBack,onTotalScroll_Offset:e.callbacks.onTotalScrollOffset,onTotalScrollBack_Offset:e.callbacks.onTotalScrollBackOffset,whileScrolling_Callback:e.callbacks.whileScrolling,bindEvent_scrollbar_drag:!1,bindEvent_content_touch:!1,bindEvent_scrollbar_click:!1,bindEvent_mousewheel:!1,bindEvent_buttonsContinuous_y:!1,bindEvent_buttonsContinuous_x:!1,bindEvent_buttonsPixels_y:!1,bindEvent_buttonsPixels_x:!1,bindEvent_focusin:!1,bindEvent_autoHideScrollbar:!1,mCSB_buttonScrollRight:!1,mCSB_buttonScrollLeft:!1,mCSB_buttonScrollDown:!1,mCSB_buttonScrollUp:!1}),e.horizontalScroll)"none"!==m.css("max-width")&&(e.advanced.updateOnContentResize||(e.advanced.updateOnContentResize=!0));else if("none"!==m.css("max-height")){var s=!1,r=parseInt(m.css("max-height"));m.css("max-height").indexOf("%")>=0&&(s=r,r=m.parent().height()*s/100),m.css("overflow","hidden"),g.css("max-height",r)}if(m.mCustomScrollbar("update"),e.advanced.updateOnBrowserResize){var i,j=c(window).width(),u=c(window).height();c(window).bind("resize."+m.data("mCustomScrollbarIndex"),function(){i&&clearTimeout(i),i=setTimeout(function(){if(!m.is(".mCS_disabled")&&!m.is(".mCS_destroyed")){var w=c(window).width(),v=c(window).height();j===w&&u===v||("none"!==m.css("max-height")&&s&&g.css("max-height",m.parent().height()*s/100),m.mCustomScrollbar("update"),j=w,u=v)}},150)})}if(e.advanced.updateOnContentResize){if(e.horizontalScroll)var n=o.outerWidth();else var n=o.outerHeight();setInterval(function(){if(e.horizontalScroll){e.advanced.autoExpandHorizontalScroll&&o.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:o.outerWidth(),position:"relative"}).unwrap();var v=o.outerWidth()}else var v=o.outerHeight();v!=n&&(m.mCustomScrollbar("update"),n=v)},300)}})},update:function(){var n=c(this),k=n.children(".mCustomScrollBox"),q=k.children(".mCSB_container");q.removeClass("mCS_no_scrollbar"),n.removeClass("mCS_disabled mCS_destroyed"),k.scrollTop(0).scrollLeft(0);var y=k.children(".mCSB_scrollTools"),o=y.children(".mCSB_draggerContainer"),m=o.children(".mCSB_dragger");if(n.data("horizontalScroll")){var A=y.children(".mCSB_buttonLeft"),t=y.children(".mCSB_buttonRight"),f=k.width();n.data("autoExpandHorizontalScroll")&&q.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:q.outerWidth(),position:"relative"}).unwrap();var z=q.outerWidth()}else var w=y.children(".mCSB_buttonUp"),g=y.children(".mCSB_buttonDown"),r=k.height(),i=q.outerHeight();if(i>r&&!n.data("horizontalScroll")){y.css("display","block");var s=o.height();if(n.data("autoDraggerLength")){var u=Math.round(r/i*s),l=m.data("minDraggerHeight");if(u<=l)m.css({height:l});else if(u>=s-10){var p=s-10;m.css({height:p})}else m.css({height:u});m.children(".mCSB_dragger_bar").css({"line-height":m.height()+"px"})}var B=m.height(),x=(i-r)/(s-B);n.data("scrollAmount",x).mCustomScrollbar("scrolling",k,q,o,m,w,g,A,t);var D=Math.abs(q.position().top);n.mCustomScrollbar("scrollTo",D,{scrollInertia:0,trigger:"internal"})}else if(z>f&&n.data("horizontalScroll")){y.css("display","block");var h=o.width();if(n.data("autoDraggerLength")){var j=Math.round(f/z*h),C=m.data("minDraggerWidth");if(j<=C)m.css({width:C});else if(j>=h-10){var e=h-10;m.css({width:e})}else m.css({width:j})}var v=m.width(),x=(z-f)/(h-v);n.data("scrollAmount",x).mCustomScrollbar("scrolling",k,q,o,m,w,g,A,t);var D=Math.abs(q.position().left);n.mCustomScrollbar("scrollTo",D,{scrollInertia:0,trigger:"internal"})}else k.unbind("mousewheel focusin"),n.data("horizontalScroll")?m.add(q).css("left",0):m.add(q).css("top",0),n.data("alwaysShowScrollbar")?n.data("horizontalScroll")?n.data("horizontalScroll")&&m.css({width:o.width()}):m.css({height:o.height()}):(y.css("display","none"),q.addClass("mCS_no_scrollbar")),n.data({bindEvent_mousewheel:!1,bindEvent_focusin:!1})},scrolling:function(i,q,n,k,A,f,D,w){function G(J,K,L,I){l.data("horizontalScroll")?l.mCustomScrollbar("scrollTo",k.position().left-K+I,{moveDragger:!0,trigger:"internal"}):l.mCustomScrollbar("scrollTo",k.position().top-J+L,{moveDragger:!0,trigger:"internal"})}function r(x){k.data("preventAction")||(k.data("preventAction",!0),l.mCustomScrollbar("scrollTo",x,{trigger:"internal"}))}function B(){var x=l.data("scrollButtons_scrollSpeed");return"auto"===l.data("scrollButtons_scrollSpeed")&&(x=Math.round((l.data("scrollInertia")+100)/40)),x}var l=c(this);if(!l.data("bindEvent_scrollbar_drag")){var o,p,C,z,e;c.support.pointer?(C="pointerdown",z="pointermove",e="pointerup"):c.support.msPointer&&(C="MSPointerDown",z="MSPointerMove",e="MSPointerUp"),c.support.pointer||c.support.msPointer?(k.bind(C,function(K){K.preventDefault(),l.data({on_drag:!0}),k.addClass("mCSB_dragger_onDrag");var J=c(this),M=J.offset(),I=K.originalEvent.pageX-M.left,L=K.originalEvent.pageY-M.top;I<J.width()&&I>0&&L<J.height()&&L>0&&(o=L,p=I)}),c(document).bind(z+"."+l.data("mCustomScrollbarIndex"),function(K){if(K.preventDefault(),l.data("on_drag")){var J=k,M=J.offset(),I=K.originalEvent.pageX-M.left,L=K.originalEvent.pageY-M.top;G(o,p,L,I)}}).bind(e+"."+l.data("mCustomScrollbarIndex"),function(x){l.data({on_drag:!1}),k.removeClass("mCSB_dragger_onDrag")})):(k.bind("mousedown touchstart",function(K){K.preventDefault(),K.stopImmediatePropagation();var I,M,J=c(this),N=J.offset();if("touchstart"===K.type){var L=K.originalEvent.touches[0]||K.originalEvent.changedTouches[0];I=L.pageX-N.left,M=L.pageY-N.top}else l.data({on_drag:!0}),k.addClass("mCSB_dragger_onDrag"),I=K.pageX-N.left,M=K.pageY-N.top;I<J.width()&&I>0&&M<J.height()&&M>0&&(o=M,p=I)}).bind("touchmove",function(K){K.preventDefault(),K.stopImmediatePropagation();var N=K.originalEvent.touches[0]||K.originalEvent.changedTouches[0],J=c(this),M=J.offset(),I=N.pageX-M.left,L=N.pageY-M.top;G(o,p,L,I)}),c(document).bind("mousemove."+l.data("mCustomScrollbarIndex"),function(K){if(l.data("on_drag")){var J=k,M=J.offset(),I=K.pageX-M.left,L=K.pageY-M.top;G(o,p,L,I)}}).bind("mouseup."+l.data("mCustomScrollbarIndex"),function(x){l.data({on_drag:!1}),k.removeClass("mCSB_dragger_onDrag")})),l.data({bindEvent_scrollbar_drag:!0})}if(c.support.touch&&l.data("contentTouchScroll")&&!l.data("bindEvent_content_touch")){var m,E,s,t,v,F,H;q.bind("touchstart",function(x){x.stopImmediatePropagation(),m=x.originalEvent.touches[0]||x.originalEvent.changedTouches[0],E=c(this),s=E.offset(),v=m.pageX-s.left,t=m.pageY-s.top,F=t,H=v}),q.bind("touchmove",function(x){x.preventDefault(),x.stopImmediatePropagation(),m=x.originalEvent.touches[0]||x.originalEvent.changedTouches[0],E=c(this).parent(),s=E.offset(),v=m.pageX-s.left,t=m.pageY-s.top,l.data("horizontalScroll")?l.mCustomScrollbar("scrollTo",H-v,{trigger:"internal"}):l.mCustomScrollbar("scrollTo",F-t,{trigger:"internal"})})}if(l.data("bindEvent_scrollbar_click")||(n.bind("click",function(I){var x=(I.pageY-n.offset().top)*l.data("scrollAmount"),y=c(I.target);l.data("horizontalScroll")&&(x=(I.pageX-n.offset().left)*l.data("scrollAmount")),(y.hasClass("mCSB_draggerContainer")||y.hasClass("mCSB_draggerRail"))&&l.mCustomScrollbar("scrollTo",x,{trigger:"internal",scrollEasing:"draggerRailEase"})}),l.data({bindEvent_scrollbar_click:!0})),l.data("mouseWheel")&&(l.data("bindEvent_mousewheel")||(i.bind("mousewheel",function(K,M){var J,I=l.data("mouseWheelPixels"),x=Math.abs(q.position().top),L=k.position().top,y=n.height()-k.height();l.data("normalizeMouseWheelDelta")&&(M=M<0?-1:1),"auto"===I&&(I=100+Math.round(l.data("scrollAmount")/2)),l.data("horizontalScroll")&&(L=k.position().left,y=n.width()-k.width(),x=Math.abs(q.position().left)),(M>0&&0!==L||M<0&&L!==y)&&(K.preventDefault(),K.stopImmediatePropagation()),J=x-M*I,l.mCustomScrollbar("scrollTo",J,{trigger:"internal"})}),l.data({bindEvent_mousewheel:!0}))),l.data("scrollButtons_enable"))if("pixels"===l.data("scrollButtons_scrollType"))l.data("horizontalScroll")?(w.add(D).unbind("mousedown touchstart MSPointerDown pointerdown mouseup MSPointerUp pointerup mouseout MSPointerOut pointerout touchend",j,h),l.data({bindEvent_buttonsContinuous_x:!1}),l.data("bindEvent_buttonsPixels_x")||(w.bind("click",function(x){x.preventDefault(),r(Math.abs(q.position().left)+l.data("scrollButtons_scrollAmount"))}),D.bind("click",function(x){x.preventDefault(),r(Math.abs(q.position().left)-l.data("scrollButtons_scrollAmount"))}),l.data({bindEvent_buttonsPixels_x:!0}))):(f.add(A).unbind("mousedown touchstart MSPointerDown pointerdown mouseup MSPointerUp pointerup mouseout MSPointerOut pointerout touchend",j,h),l.data({bindEvent_buttonsContinuous_y:!1}),l.data("bindEvent_buttonsPixels_y")||(f.bind("click",function(x){x.preventDefault(),r(Math.abs(q.position().top)+l.data("scrollButtons_scrollAmount"))}),A.bind("click",function(x){x.preventDefault(),r(Math.abs(q.position().top)-l.data("scrollButtons_scrollAmount"))}),l.data({bindEvent_buttonsPixels_y:!0})));else if(l.data("horizontalScroll")){if(w.add(D).unbind("click"),l.data({bindEvent_buttonsPixels_x:!1}),!l.data("bindEvent_buttonsContinuous_x")){w.bind("mousedown touchstart MSPointerDown pointerdown",function(y){y.preventDefault();var x=B();l.data({mCSB_buttonScrollRight:setInterval(function(){l.mCustomScrollbar("scrollTo",Math.abs(q.position().left)+x,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var j=function(x){x.preventDefault(),clearInterval(l.data("mCSB_buttonScrollRight"))};w.bind("mouseup touchend MSPointerUp pointerup mouseout MSPointerOut pointerout",j),D.bind("mousedown touchstart MSPointerDown pointerdown",function(y){y.preventDefault();var x=B();l.data({mCSB_buttonScrollLeft:setInterval(function(){l.mCustomScrollbar("scrollTo",Math.abs(q.position().left)-x,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var h=function(x){x.preventDefault(),clearInterval(l.data("mCSB_buttonScrollLeft"))};D.bind("mouseup touchend MSPointerUp pointerup mouseout MSPointerOut pointerout",h),l.data({bindEvent_buttonsContinuous_x:!0})}}else if(f.add(A).unbind("click"),l.data({bindEvent_buttonsPixels_y:!1}),!l.data("bindEvent_buttonsContinuous_y")){f.bind("mousedown touchstart MSPointerDown pointerdown",function(y){y.preventDefault();var x=B();l.data({mCSB_buttonScrollDown:setInterval(function(){l.mCustomScrollbar("scrollTo",Math.abs(q.position().top)+x,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var u=function(x){x.preventDefault(),clearInterval(l.data("mCSB_buttonScrollDown"))};f.bind("mouseup touchend MSPointerUp pointerup mouseout MSPointerOut pointerout",u),A.bind("mousedown touchstart MSPointerDown pointerdown",function(y){y.preventDefault();var x=B();l.data({mCSB_buttonScrollUp:setInterval(function(){l.mCustomScrollbar("scrollTo",Math.abs(q.position().top)-x,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var g=function(x){x.preventDefault(),clearInterval(l.data("mCSB_buttonScrollUp"))};A.bind("mouseup touchend MSPointerUp pointerup mouseout MSPointerOut pointerout",g),l.data({bindEvent_buttonsContinuous_y:!0})}l.data("autoScrollOnFocus")&&(l.data("bindEvent_focusin")||(i.bind("focusin",function(){i.scrollTop(0).scrollLeft(0);var x=c(document.activeElement);if(x.is("input,textarea,select,button,a[tabindex],area,object")){var J=q.position().top,y=x.position().top,I=i.height()-x.outerHeight();l.data("horizontalScroll")&&(J=q.position().left,y=x.position().left,I=i.width()-x.outerWidth()),(J+y<0||J+y>I)&&l.mCustomScrollbar("scrollTo",y,{trigger:"internal"})}}),l.data({bindEvent_focusin:!0}))),l.data("autoHideScrollbar")&&!l.data("alwaysShowScrollbar")&&(l.data("bindEvent_autoHideScrollbar")||(i.bind("mouseenter",function(x){i.addClass("mCS-mouse-over"),d.showScrollbar.call(i.children(".mCSB_scrollTools"))}).bind("mouseleave touchend",function(x){i.removeClass("mCS-mouse-over"),"mouseleave"===x.type&&d.hideScrollbar.call(i.children(".mCSB_scrollTools"))}),l.data({bindEvent_autoHideScrollbar:!0})))},scrollTo:function(e,f){function u(w){if(i.data("mCustomScrollbarIndex"))switch(this.mcs={top:k.position().top,left:k.position().left,draggerTop:h.position().top,draggerLeft:h.position().left,topPct:Math.round(100*Math.abs(k.position().top)/Math.abs(k.outerHeight()-g.height())),leftPct:Math.round(100*Math.abs(k.position().left)/Math.abs(k.outerWidth()-g.width()))},w){case"onScrollStart":i.data("mCS_tweenRunning",!0).data("onScrollStart_Callback").call(i,this.mcs);break;case"whileScrolling":i.data("whileScrolling_Callback").call(i,this.mcs);break;case"onScroll":i.data("onScroll_Callback").call(i,this.mcs);break;case"onTotalScrollBack":i.data("onTotalScrollBack_Callback").call(i,this.mcs);break;case"onTotalScroll":i.data("onTotalScroll_Callback").call(i,this.mcs)}}var p,q,s,m,l,i=c(this),o={moveDragger:!1,trigger:"external",callbacks:!0,scrollInertia:i.data("scrollInertia"),scrollEasing:i.data("scrollEasing")},f=c.extend(o,f),g=i.children(".mCustomScrollBox"),k=g.children(".mCSB_container"),r=g.children(".mCSB_scrollTools"),j=r.children(".mCSB_draggerContainer"),h=j.children(".mCSB_dragger"),t=draggerSpeed=f.scrollInertia;if(!k.hasClass("mCS_no_scrollbar")&&(i.data({mCS_trigger:f.trigger}),i.data("mCS_Init")&&(f.callbacks=!1),e||0===e)){if("number"==typeof e)f.moveDragger?(p=e,e=i.data("horizontalScroll")?h.position().left*i.data("scrollAmount"):h.position().top*i.data("scrollAmount"),draggerSpeed=0):p=e/i.data("scrollAmount");else if("string"==typeof e){var v;v="top"===e?0:"bottom"!==e||i.data("horizontalScroll")?"left"===e?0:"right"===e&&i.data("horizontalScroll")?k.outerWidth()-g.width():"first"===e?i.find(".mCSB_container").find(":first"):"last"===e?i.find(".mCSB_container").find(":last"):i.find(e):k.outerHeight()-g.height(),1===v.length?(e=i.data("horizontalScroll")?v.position().left:v.position().top,p=e/i.data("scrollAmount")):p=e=v}if(i.data("horizontalScroll")){i.data("onTotalScrollBack_Offset")&&(s=-i.data("onTotalScrollBack_Offset")),i.data("onTotalScroll_Offset")&&(l=g.width()-k.outerWidth()+i.data("onTotalScroll_Offset")),p<0?(p=e=0,clearInterval(i.data("mCSB_buttonScrollLeft")),s||(q=!0)):p>=j.width()-h.width()?(p=j.width()-h.width(),e=g.width()-k.outerWidth(),clearInterval(i.data("mCSB_buttonScrollRight")),l||(m=!0)):e=-e;var n=i.data("snapAmount");n&&(e=Math.round(e/n)*n-i.data("snapOffset")),d.mTweenAxis.call(this,h[0],"left",Math.round(p),draggerSpeed,f.scrollEasing),d.mTweenAxis.call(this,k[0],"left",Math.round(e),t,f.scrollEasing,{onStart:function(){f.callbacks&&!i.data("mCS_tweenRunning")&&u("onScrollStart"),i.data("autoHideScrollbar")&&!i.data("alwaysShowScrollbar")&&d.showScrollbar.call(r)},onUpdate:function(){f.callbacks&&u("whileScrolling")},onComplete:function(){f.callbacks&&(u("onScroll"),(q||s&&k.position().left>=s)&&u("onTotalScrollBack"),(m||l&&k.position().left<=l)&&u("onTotalScroll")),h.data("preventAction",!1),i.data("mCS_tweenRunning",!1),i.data("autoHideScrollbar")&&!i.data("alwaysShowScrollbar")&&(g.hasClass("mCS-mouse-over")||d.hideScrollbar.call(r))}})}else{i.data("onTotalScrollBack_Offset")&&(s=-i.data("onTotalScrollBack_Offset")),i.data("onTotalScroll_Offset")&&(l=g.height()-k.outerHeight()+i.data("onTotalScroll_Offset")),p<0?(p=e=0,clearInterval(i.data("mCSB_buttonScrollUp")),s||(q=!0)):p>=j.height()-h.height()?(p=j.height()-h.height(),e=g.height()-k.outerHeight(),clearInterval(i.data("mCSB_buttonScrollDown")),l||(m=!0)):e=-e;var n=i.data("snapAmount");n&&(e=Math.round(e/n)*n-i.data("snapOffset")),d.mTweenAxis.call(this,h[0],"top",Math.round(p),draggerSpeed,f.scrollEasing),d.mTweenAxis.call(this,k[0],"top",Math.round(e),t,f.scrollEasing,{onStart:function(){f.callbacks&&!i.data("mCS_tweenRunning")&&u("onScrollStart"),i.data("autoHideScrollbar")&&!i.data("alwaysShowScrollbar")&&d.showScrollbar.call(r)},onUpdate:function(){f.callbacks&&u("whileScrolling")},onComplete:function(){f.callbacks&&(u("onScroll"),(q||s&&k.position().top>=s)&&u("onTotalScrollBack"),(m||l&&k.position().top<=l)&&u("onTotalScroll")),h.data("preventAction",!1),i.data("mCS_tweenRunning",!1),i.data("autoHideScrollbar")&&!i.data("alwaysShowScrollbar")&&(g.hasClass("mCS-mouse-over")||d.hideScrollbar.call(r))}})}i.data("mCS_Init")&&i.data({mCS_Init:!1})}},stop:function(){var g=c(this),e=g.children().children(".mCSB_container"),f=g.children().children().children().children(".mCSB_dragger");d.mTweenAxisStop.call(this,e[0]),d.mTweenAxisStop.call(this,f[0])},disable:function(e){var j=c(this),f=j.children(".mCustomScrollBox"),h=f.children(".mCSB_container"),g=f.children(".mCSB_scrollTools"),i=g.children().children(".mCSB_dragger");f.unbind("mousewheel focusin mouseenter mouseleave touchend"),h.unbind("touchstart touchmove"),e&&(j.data("horizontalScroll")?i.add(h).css("left",0):i.add(h).css("top",0)),g.css("display","none"),h.addClass("mCS_no_scrollbar"),j.data({bindEvent_mousewheel:!1,bindEvent_focusin:!1,bindEvent_content_touch:!1,bindEvent_autoHideScrollbar:!1}).addClass("mCS_disabled")},destroy:function(){var e=c(this);e.removeClass("mCustomScrollbar _mCS_"+e.data("mCustomScrollbarIndex")).addClass("mCS_destroyed").children().children(".mCSB_container").unwrap().children().unwrap().siblings(".mCSB_scrollTools").remove(),c(document).unbind("mousemove."+e.data("mCustomScrollbarIndex")+" mouseup."+e.data("mCustomScrollbarIndex")+" MSPointerMove."+e.data("mCustomScrollbarIndex")+" MSPointerUp."+e.data("mCustomScrollbarIndex")),c(window).unbind("resize."+e.data("mCustomScrollbarIndex"))}},d={showScrollbar:function(){this.stop().animate({opacity:1},"fast")},hideScrollbar:function(){this.stop().animate({opacity:0},"fast")},mTweenAxis:function(g,i,h,f,o,y){function t(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()}function x(){j||v.call(),j=t()-n,u(),j>=g._time&&(g._time=j>g._time?j+l-(j-g._time):j+l-1,g._time<j+1&&(g._time=j+1)),g._time<f?g._id=_request(x):w.call()}function u(){f>0?(g.currVal=k(g._time,r,m,f,o),s[i]=Math.round(g.currVal)+"px"):s[i]=h+"px",p.call()}function k(B,A,F,E,C){switch(C){case"linear":return F*B/E+A;case"easeOutQuad":return B/=E,-F*B*(B-2)+A;case"easeInOutQuad":return(B/=E/2)<1?F/2*B*B+A:(B--,-F/2*(B*(B-2)-1)+A);case"easeOutCubic":return B/=E,B--,F*(B*B*B+1)+A;case"easeOutQuart":return B/=E,B--,-F*(B*B*B*B-1)+A;case"easeOutQuint":return B/=E,B--,F*(B*B*B*B*B+1)+A;case"easeOutCirc":return B/=E,B--,F*Math.sqrt(1-B*B)+A;case"easeOutSine":return F*Math.sin(B/E*(Math.PI/2))+A;case"easeOutExpo":return F*(1-Math.pow(2,-10*B/E))+A;case"mcsEaseOut":var D=(B/=E)*B,z=D*B;return A+F*(.499999999999997*z*D+-2.5*D*D+5.5*z+-6.5*D+4*B);case"draggerRailEase":return(B/=E/2)<1?F/2*B*B*B+A:(B-=2,F/2*(B*B*B+2)+A)}}var l,y=y||{},v=y.onStart||function(){},p=y.onUpdate||function(){},w=y.onComplete||function(){},n=t(),j=0,r=g.offsetTop,s=g.style;"left"===i&&(r=g.offsetLeft);var m=h-r;!function(){null!=g._id&&(window.requestAnimationFrame?window.cancelAnimationFrame(g._id):clearTimeout(g._id),g._id=null)}(),function(){l=1e3/60,g._time=j+l,_request=window.requestAnimationFrame?window.requestAnimationFrame:function(z){return u(),setTimeout(z,.01)},g._id=_request(x)}()},mTweenAxisStop:function(e){null!=e._id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._id):clearTimeout(e._id),e._id=null)},rafPolyfill:function(){for(var f=["ms","moz","webkit","o"],e=f.length;--e>-1&&!window.requestAnimationFrame;)window.requestAnimationFrame=window[f[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[f[e]+"CancelAnimationFrame"]||window[f[e]+"CancelRequestAnimationFrame"]}};d.rafPolyfill.call(),c.support.touch=!!("ontouchstart"in window),c.support.pointer=window.navigator.pointerEnabled,c.support.msPointer=window.navigator.msPointerEnabled;var a="https:"==document.location.protocol?"https:":"http:";c.event.special.mousewheel||document.write('<script src="'+a+'//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.0.6/jquery.mousewheel.min.js"><\/script>'),c.fn.mCustomScrollbar=function(e){return b[e]?b[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void c.error("Method "+e+" does not exist"):b.init.apply(this,arguments)}}(jQuery);
var titles=[],audioPlayers={},storyPanel={getStories:function(options){var $B=$("body"),$W=$(window),storyPanelData=($(document),{selector:options,rsCarousel:".storyPanelOVerlayCont .story-carousel",controls:".storyPanel .storyPanelControls"});$W.scrollTop(0),$B.css({overflow:"hidden"}).append('<div class="storyPanelOVerlay"><a href="#" class="exitBtn">Close</a><div class="storyPanelOVerlayCont"></div></div>'),$(".storyPanelOVerlay").css({width:$W.width(),height:$W.height()}).addClass("loading").fadeIn("fast"),$(".storyPanelOVerlay .storyPanelOVerlayCont").hide(),$("a.exitBtn").on("click",function(e){e.preventDefault(),$("body").find("div.mask").remove(),$("a.vidCloseBtn")&&$("a.vidCloseBtn").trigger("click"),$(".storyPanelOVerlay .storyPanelOVerlayCont").fadeOut(),$(".storyPanelOVerlay").html("").remove(),$B.css({overflow:"auto"}),$(".storyPanelControls .volControl").css({display:"none"}),$(".storyPanelControls .volControl a").removeClass("muted"),storyPanel.audioPanel.stopAllAudio(),null!=navigator.userAgent.match(/iPad/i)&&location.reload()}),setTimeout(function(){$(".storyPanelOVerlay .storyPanelOVerlayCont").html($(storyPanelData.selector).html()),$(".storyPanelOVerlay").removeClass("loading"),$(".storyPanelOVerlay .storyPanelOVerlayCont").fadeIn(),storyPanel.carousel(storyPanelData.rsCarousel,void 0,$(storyPanelData.selector).data("totalframes")),$(".storyPanelControls .volControl a").on("click",function(e){e.preventDefault(),$(this).hasClass("muted")?($(this).removeClass("muted"),storyPanel.audioPanel.playing($(this).attr("id")),$(".storyPanelControls .volControl").show()):($(this).addClass("muted"),storyPanel.audioPanel.stopAllAudio(),$(".storyPanelControls .volControl").show())})},500),$(window).resize(function(){$(".storyPanelOVerlay").css({width:$W.width(),height:$W.height()}),$(window).width()<480?$("body").find("div.mask").show():$("body").find("div.mask").hide(),$(".videoContent").length>0&&$(".videoContent").css({width:$(window).width(),height:$(window).height()-50})})},updateCategoryTitle:function(ix,flag){var fsContainerMain=$(".storyPanelOVerlay .frameStoryMain"),titleContainer=$(".storyPanelOVerlay").find("p.storyCategory");flag?($.each(fsContainerMain,function(i,j){titles.push($(fsContainerMain[i]).data("categorytitle"))}),titleContainer.html("").hide().html(titles[0]).fadeIn("fast")):titleContainer.html("").hide().html(titles[ix]).fadeIn("fast")},audioPanel:{check:function(C,I){var slideContent=C,audioContAvailable=!0===$(slideContent).hasClass("audioContentAvailable")?$(slideContent).hasClass("audioContentAvailable"):$(slideContent).find(".overlayStoryCont:first").hasClass("audioContentAvailable"),slideIndex=I;if(audioContAvailable)if(storyPanel.audioPanel.stopAllAudio(),$(".storyPanelControls .volControl").show(),audioPlayers[slideIndex])setTimeout(function(){audioPlayers[slideIndex].play(),$(".storyPanelControls .volControl a").attr("id","").attr("id",slideIndex)},1e3);else{var audioID=$(slideContent).find("audio:first");$("html").hasClass("android")?audioPlayers[slideIndex]=new MediaElementPlayer($(audioID),{success:function(e){e.play()}}):(audioPlayers[slideIndex]=new MediaElementPlayer($(audioID)),setTimeout(function(){audioPlayers[slideIndex].play(),$(".storyPanelControls .volControl a").attr("id","").attr("id",slideIndex)},1e3))}else storyPanel.audioPanel.stopAllAudio()},stopAllAudio:function(){$(".storyPanelControls .volControl").hide();var audioContent=audioPlayers;for(var key in audioContent)audioContent.hasOwnProperty(key)&&void 0!==audioContent[key]&&audioContent[key].pause()},playing:function(id){var audioContent=audioPlayers;for(var key in audioContent)if(audioContent.hasOwnProperty(key)&&void 0!==audioContent[key]&&key==id)return void audioContent[key].play()}},carousel:function(selector,moreOptions,totalFrames){storyPanel.updateCategoryTitle(frameIndex,!0);var defaultOptions={controlNavigation:"none",loop:!0,sliderDrag:!1,sliderTouch:!1,navigateByClick:!1,transitionSpeed:"850",autoPlay:{enabled:!1,pauseOnHover:!1,delay:4e3},arrowsNav:!1,block:{fadeEffect:!1,moveEffect:"left"},numImagesToPreload:15,usePreloader:!0,addActiveClass:!0},slider=$(selector).data("royalSlider");slider&&slider.destroy(),$(selector).css({width:$(window).width(),height:$(window).height()}),void 0!==moreOptions&&typeof moreOptions===object?$(selector).royalSlider($.extend(defaultOptions,moreOptions)):$(selector).royalSlider(defaultOptions);var slider1=$(selector).data("royalSlider"),sActive=".storyPagnation .activeFrame",stotalFrames=".storyPagnation .totalFrames",frameIndex=0;0==slider1.currSlideId&&($(slider1.currSlide.content).find(".videoStoryContent").length>0&&$("a.videoPlayBtn").trigger("click"),storyPanel.audioPanel.check(slider1.currSlide.content,"slider"+slider1.currSlideId)),$(sActive).html("1"),$(stotalFrames).html(totalFrames),$(".directionControl li.prevArrow").on("click",function(e){var currentFrame=parseInt($(sActive).html());parseInt($(stotalFrames).html());1===currentFrame?e.preventDefault():(slider1.prev(),currentFrame-=1,storyPanel.updateCategoryTitle(currentFrame-1,!1),$(sActive).html(currentFrame)),$(slider1.currSlide.content).find(".videoStoryContent").length>0?$("a.videoPlayBtn").trigger("click"):$("a.vidCloseBtn")&&$("a.vidCloseBtn").trigger("click"),storyPanel.audioPanel.check(slider1.currSlide.content,"slider"+slider1.currSlideId)}),$(".directionControl li.nextArrow").on("click",function(e){var currentFrame=parseInt($(sActive).html());currentFrame===parseInt($(stotalFrames).html())?e.preventDefault():(slider1.next(),storyPanel.updateCategoryTitle(currentFrame,!1),currentFrame+=1,$(sActive).html(currentFrame)),$(slider1.currSlide.content).find(".videoStoryContent").length>0?$("a.videoPlayBtn").trigger("click"):$("a.vidCloseBtn")&&$("a.vidCloseBtn").trigger("click"),storyPanel.audioPanel.check(slider1.currSlide.content,"slider"+slider1.currSlideId)})},stories:{init:function(takeOvertype,storyPath){function destroyMovingBoxes(){var mb=$(".takeOverModeContent .gallery-carousel").data("movingBoxes");mb&&(mb.$wrap.find(".mb-scrollButtons, .mb-left-shadow, .mb-right-shadow, .mb-controls").remove(),mb.$el.removeClass("mb-slider").removeAttr("style").children().removeClass("mb-panel current").removeAttr("style"),mb.$panels.find(".mb-inside").each(function(){$(this).replaceWith($(this).contents())}),mb.$el.unwrap().unwrap())}$("a.exitBtn, .directionControl").hide();var rSlider=$(".storyPanelOVerlay .storyPanelOVerlayCont .royalSlider.story-carousel").data("royalSlider");if($(".storyPanelOVerlay").append('<div class="takeOverMode"></div>'),$(".backToStory").show(),$(".backToStory a").attr("id","slider"+rSlider.currSlideId),$(storyPath).find(".overlayStoryCont:first").addClass("active"),$(".takeOverMode").html("").html('<div class="takeOverModeContent">'+$(storyPath).html()+"</div>"),storyPanel.audioPanel.check($(storyPath),$(storyPath).attr("id")),"carousel"===takeOvertype){$("html").hasClass("android")&&$(".takeOverModeContent .gallery-carousel").movingBoxes({startPanel:1,wrap:!1}),$(".takeOverModeContent .gallery-carousel").movingBoxes({startPanel:1,reducedSize:1,buildNav:!1,fixedHeight:!0,initAnimation:!1,hashTags:!1});var target=$(".takeOverModeContent .gallery-carousel"),api=target.data("movingBoxes"),startX=0,startTime=0,touch="ontouchend"in document,startEvent=touch?"touchstart":"mousedown",moveEvent=touch?"touchmove":"mousemove",endEvent=touch?"touchend":"mouseup";target.on(startEvent,function(e){e.preventDefault(),startTime=e.timeStamp,startX=e.originalEvent.touches?e.originalEvent.touches[0].pageX:e.pageX}).on(endEvent,function(e){startTime=0,startX=0}).on(moveEvent,function(e){e.preventDefault();var currentX=e.originalEvent.touches?e.originalEvent.touches[0].pageX:e.pageX,currentDistance=0===startX?0:Math.abs(currentX-startX),currentTime=e.timeStamp;0!==startTime&&currentTime-startTime<1e3&&currentDistance>50&&(currentX<startX&&api.goForward(),currentX>startX&&api.goBack(),startTime=0,startX=0)})}"story"===takeOvertype&&$(window).width()>640&&($("html").hasClass("ie8")?($.each($(".takeOverModeContent").find(".storyDetailImg"),function(i,j){xLinkHTML='<div style="width:100%;height:100%; background: #2a2b33 ; filter: progid:DXImageTransform.Microsoft.Chroma(color=\'#abcabc\'); " class="iemaskContainer"><img src="/etc/designs/abbott/images/vertical-notch-ie.png" class="iemaskImage">',xLinkHTML+='<img class="maskImage" alt="" src="http://stage2.dam.abbott.com/global/stories/story-detail-image.jpg/jcr:content/renditions/cq5dam.resized.HIGH.1.0.jpg"/>',$(this).append(xLinkHTML),$(this).find("span").hide()}),$(".takeOverModeContent").find(".storyDetails").attr("style","height:"+($(window).height()-75)+"px; overflow-y: scroll")):($.each($(".takeOverModeContent").find(".storyDetailImg"),function(i,j){var imageSRC=$(this).find("img:first").attr("src"),xLinkHTML="",cW=$(".takeOverModeContent .storyDetailImg").width(),cH=$(".takeOverModeContent .storyDetailImg").height();xLinkHTML=$("html").hasClass("ie11")?'<div class="svgMask"><svg style="height:'+cH+'px;" width="'+cW+'" height="'+cH+'" baseProfile="full" version="1.2"><defs><mask id="svgmask_storyimg_'+i+'" maskUnits="userSpaceOnUse" maskContentUnits="userSpaceOnUse" transform="scale(1)"><image width="100%" height="100%" xlink:href="/etc/designs/abbott/images/xlink-notch-right-i-h768.png"/></mask></defs><image mask="url(#svgmask_storyimg_'+i+')" width="100%" height="100%" y="0" x="0" xlink:href="'+imageSRC+'"/></svg></div>':'<div class="svgMask"><svg width="'+cW+'" height="'+cH+'" baseProfile="full" version="1.2"><defs><mask id="svgmask_storyimg_'+i+'" maskUnits="userSpaceOnUse" maskContentUnits="userSpaceOnUse" transform="scale(1)"><image width="100%" height="100%" xlink:href="/etc/designs/abbott/images/xlink-notch-right-i-h768.png"/></mask></defs><image mask="url(#svgmask_storyimg_'+i+')" width="100%" height="100%" y="0" x="0" xlink:href="'+imageSRC+'"/></svg></div>',$(this).find("img:first").hide(),$(this).append(xLinkHTML)}),$(".takeOverModeContent").find(".storyDetails").attr("style","height:"+($(window).height()-75)+"px; overflow-y: scroll"))),$(".backToStory a").on("click",function(e){e.preventDefault();var currentFrame=parseInt($(".storyPagnation .activeFrame").html());"carousel"===takeOvertype&&destroyMovingBoxes(),$(".backToStory").hide(),storyPanel.updateCategoryTitle(currentFrame-1,!1),$(".takeOverMode").find(".overlayStoryCont").removeClass("active"),$(".takeOverMode").html("").fadeOut().remove(),$("a.exitBtn, .directionControl").show(),storyPanel.audioPanel.stopAllAudio(),storyPanel.audioPanel.check(rSlider.currSlide.content,"slider"+rSlider.currSlideId)})}},videoStory:{init:function(videoId){storyPanel.audioPanel.stopAllAudio(),$(".videoContent").length>0&&$(".videoContent").remove();var contextVideo=$(".storyPanelOVerlay "+videoId),wW=(contextVideo.data("height"),contextVideo.data("width"),$(window).width()),wH=$(window).height(),isiPad=($(".storyPanelOVerlay "+videoId).find("object").attr("id"),contextVideo.data("fullscreen"),null!=navigator.userAgent.match(/iPad/i));if($("body").append('<div class="videoContent"><a href="#" class="vidCloseBtn">close</a></div>'),$(".videoContent").css({width:wW,height:wH-50,top:0,left:0}).find("a.vidCloseBtn").addClass("onFullScreen"),$("a.vidCloseBtn").on("click",function(e){e.preventDefault(),$(".videoContent").html("").remove(),$(".storyPanelOVerlayCont a.videoPlayBtn").show()}),$("html").hasClass("ie8")){$("body .videoContent").append('<div id="ie8VidElement"></div>');var p1,p2,p3,p4,p5,mediaID,obj=document.createElement("object");mediaID=$(".storyPanelOVerlay "+videoId).data("media"),obj.setAttribute("type","application/x-shockwave-flash"),obj.setAttribute("class","LimelightEmbeddedPlayerFlash"),obj.setAttribute("width",$(".videoContent").width()),obj.setAttribute("height",$(".videoContent").height()),obj.setAttribute("data","http://assets.delvenetworks.com/player/loader.swf"),obj.setAttribute("id","limelight_ie8_v1"),p1=document.createElement("param"),p1.setAttribute("name","movie"),p1.setAttribute("value","http://assets.delvenetworks.com/player/loader.swf"),p2=document.createElement("param"),p2.setAttribute("name","wmode"),p2.setAttribute("value","transparent"),p3=document.createElement("param"),p3.setAttribute("name","allowScriptAccess"),p3.setAttribute("value","always"),p4=document.createElement("param"),p4.setAttribute("name","allowFullScreen"),p4.setAttribute("value","true"),p5=document.createElement("param"),p5.setAttribute("name","flashVars"),p5.setAttribute("value","mediaId="+mediaID+"&autoplay=true&playerForm=c2cc02bfe5df418a9819ff1c13985ab1"),obj.appendChild(p1),obj.appendChild(p2),obj.appendChild(p3),obj.appendChild(p4),obj.appendChild(p5),document.getElementById("ie8VidElement").appendChild(obj),setTimeout(function(){LimelightPlayerUtil.initEmbed("limelight_ie8_v1")},1e3)}else $("body .videoContent").append($(".storyPanelOVerlay "+videoId).find("span.LimelightEmbeddedPlayer").clone()),$(".limelight-player-playlist").hide(),isiPad&&setTimeout(function(){$("body .videoContent").find(".LimelightEmbeddedPlayer").find(".limelight-player-viewport div").css("display","none"),$("body .videoContent").find(".LimelightEmbeddedPlayer").find(".limelight-player-viewport video").css("display","block"),$("body .videoContent").find(".LimelightEmbeddedPlayer").find(".limelight-player-viewport video")[0].play()},1)}},events:function(){$("body").on("click",'a[rel="storyPanel"]',function(e){e.preventDefault();var rgr='<div class="mask" data-type-mask="'+$(".mobilemasktext").attr("data-type-mask")+'"></div>';$("body").append(rgr),$(".mask").css({position:"fixed",width:"100%",height:"100%",top:0,left:0,display:"block"}),$(window).width()<480?$("body").find("div.mask").show():$("body").find("div.mask").hide();var storyPath=$(this).attr("href"),storyIdExtract=storyPath.split(".html")[0].split("/"),storyId="#"+storyIdExtract[storyIdExtract.length-1];storyPanel.getStories(storyId)}),$("body").on("click","a.videoPlayBtn",function(e){e.preventDefault();var videoId=$(this).attr("href");storyPanel.videoStory.init(videoId)}),$("body").on("click",'a[rel="hotSpot"]',function(e){e.preventDefault();var takeOver=$(this).data("takeover"),storyPath=$(this).attr("href"),categoryTitle=$(storyPath).find("i").data("categorytitle");$(".storyPanelOVerlay").find("p.storyCategory").html("").hide().html(categoryTitle).fadeIn("fast"),storyPanel.stories.init(takeOver,storyPath)})},init:function(){storyPanel.events()}};storyPanel.init();
function addressValidation(isMandCheck){var special2Reg=/^([a-zA-Z0-9 ,.-])+$/,address1Error=!1,cityError=!1,stateError=!1,zipcodeError=!1;$(".address1").each(function(){0==$(this).val().length&&isMandCheck?($(this).addClass("errorstate"),address1Error=!0):""!==$(this).val()&&0==special2Reg.test($(this).val())?($(this).addClass("errorstate"),$("#addressError").addClass("dispBlock"),$(this).focus(),address1Error=!0):($(this).removeClass("errorstate"),$("#addressError").removeClass("dispBlock"))}),$(".city").each(function(){""==$(this).val()&&isMandCheck?($(this).addClass("errorstate"),cityError=!0):""!==$(this).val()&&0==special2Reg.test($(this).val())?($(this).addClass("errorstate"),$("#cityError").addClass("dispBlock"),$(this).focus(),cityError=!0):($(this).removeClass("errorstate"),$("#cityError").removeClass("dispBlock")),cityError&&(address1Error=!0)});var country=document.autoform.country.value,b=country.toLowerCase().replace("/^s+|s+$/g","");return"united states"!=b&&"us"!=b&&"usa"!=b&&""!=b||$(".state").each(function(){""==$(this).val()&&isMandCheck?($(this).addClass("errorstate"),stateError=!0):$(this).removeClass("errorstate"),stateError&&(address1Error=!0)}),$(".zipcode").each(function(){if(0==$(".zipcode").val().length&&isMandCheck&&($(".zipcode").addClass("errorstate"),zipcodeError=!0),0!==$(".zipcode").val().length){var countryCode=$("#country").val(),postalCode=$("#zip").val(),postalCodeRegex="";switch(countryCode){case"US":postalCodeRegex=/(^\d{5}$)|(^\d{5}-\d{4}$)/;break;case"BR":postalCodeRegex=/^([a-zA-Z0-9]){9}$/;break;case"CA":postalCodeRegex=/^([A-Za-z]\d[A-Za-z])\ {0,1}(\d[A-Za-z]\d)$/;break;case"CL":case"KP":postalCodeRegex=/^([a-zA-Z0-9]){1,7}$/;break;case"CZ":case"SK":case"SE":postalCodeRegex=/^(s-|S-){0,1}[0-9]{3}\s?[0-9]{2}$/;break;case"GB":postalCodeRegex=/^([a-zA-Z0-9]){3,9}$/;break;case"NL":postalCodeRegex=/^[0-9]{4}\s?([a-zA-Z]{2})+$/;break;case"PL":postalCodeRegex=/^([0-9]{2}-[0-9]{3})$/;break;case"PT":postalCodeRegex=/^([0-9]{4}$)|([0-9]{4}-[0-9]{3})$/;break;case"KR":postalCodeRegex=/^([0-9]{3}-[0-9]{3})$/;break;default:postalCodeRegex=/^([a-zA-Z0-9\-]){1,10}$/}postalCodeRegex.test(postalCode)?($(".zipcode").removeClass("errorstate"),$("#zipError").removeClass("dispBlock")):($(".zipcode").addClass("errorstate"),$(".zipcode").focus(),$("#zipError").addClass("dispBlock"),zipcodeError=!0)}zipcodeError&&(address1Error=!0)}),address1Error}function emailValidation(){var emailError=!1;return $(".e_mail").each(function(){var email=document.autoform.custemail.value;/^([a-zA-Z0-9])+([a-zA-Z0-9\-\+\_\.])+@([a-zA-Z0-9.-][^\.]{2,6})+\.[a-zA-Z]{2,6}$/i.test(email)?email.indexOf("+-")>-1||email.indexOf("+_")>-1||email.indexOf("+.")>-1||email.indexOf("-+")>-1||email.indexOf("-_")>-1||email.indexOf("-.")>-1||email.indexOf("_+")>-1||email.indexOf("_-")>-1||email.indexOf("_.")>-1||email.indexOf(".+")>-1||email.indexOf(".-")>-1||email.indexOf("._")>-1?($(this).addClass("errorstate"),$("#emailError").addClass("dispBlock"),emailError=!0):($(this).removeClass("errorstate"),$("#emailError").removeClass("dispBlock")):($(this).addClass("errorstate"),$("#emailError").addClass("dispBlock"),emailError=!0),emailError?$("#emptyError").addClass("dispBlock"):$("#emptyError").removeClass("dispBlock")}),emailError}function optDate(){var d=new Date,month=d.getMonth()+1,day=d.getDate(),output=((""+month).length<2?"0":"")+month+((""+day).length<2?"0":"")+day+d.getFullYear();$("#oodate").val(output)}function setState(){var country=document.autoform.country.value,a=document.getElementById("statediv"),b=country.toLowerCase().replace("/^s+|s+$/g","");return"united states"==b||"us"==b||"usa"==b||""==b?(a.style.display="block",a=document.getElementById("provincediv"),a.style.display="none",document.autoform.province.value="",document.autoform.prefix.focus(),""!=b&&document.autoform.prefix.focus()):(document.autoform.state.value="",document.autoform.zip.value="",document.autoform.zip.focus(),a.style.display="none",a=document.getElementById("provincediv"),a.style.display="block",document.autoform.province.value="",document.autoform.province.focus(),document.autoform.prefix.focus()),!0}function setCountry(){return document.autoform.state.value&&(document.autoform.country.value||(document.autoform.country.value="US",document.autoform.country.focus())),document.autoform.zip.value="",document.autoform.zip.focus(),document.autoform.zip.click(),!0}function setCCC(){var a=document.autoform.phone.value,b=document.autoform.fax.value,d=document.autoform.country.value;return(a||b)&&d?(d=document.getElementById("country").selectedIndex*rLen-1,document.autoform.ccc.value=countries[d]>0?countries[d]:"",document.autoform.ccc.focus(),document.autoform.phone.focus()):(document.autoform.ccc.value="",document.autoform.ccc.focus()),!0}function disableValidation(){return $(".zipcode").removeClass("errorstate"),$("#zipError").removeClass("dispBlock"),$(".address1").removeClass("errorstate"),$("#addressError").removeClass("dispBlock"),$(".city").removeClass("errorstate"),$("#cityError").removeClass("dispBlock"),$(".state").removeClass("errorstate"),$(".zipcode").removeClass("errorstate"),$("#zipError").removeClass("dispBlock"),!0}function emailDisableValidation(){$(".e_mail").removeClass("errorstate"),$("#emailError").removeClass("dispBlock")}function errorCheck(){return addressValidation(!1)}function focusAllMandatoryFields(){var inputText=$(".e_mail, .address1, .city, .zipcode, .state");$(inputText).each(function(){0==$(this).val().length?$(this).addClass("errorstate"):$(this).removeClass("errorstate")})}function mandcheck(){if(document.autoform.custemail.value){document.autoform.custemail.value=document.autoform.custemail.value.toLowerCase(),$(".required2").hide(),$(".required1").show();var emailError=emailValidation();return disableValidation(),emailError}if(document.autoform.address1.value||document.autoform.city.value||document.autoform.state.value||document.autoform.zip.value){$(".required1").hide(),$(".required2").show();var address1Error=addressValidation(!0);return document.autoform.address1.value&&document.autoform.city.value&&document.autoform.state.value&&document.autoform.zip.value&&(address1Error=!1),emailDisableValidation(),address1Error}return $(".required1, .required2").show(),focusAllMandatoryFields(),!0}!function(MODULE,$,undefined){MODULE.requestform=function(){function SubModule(){var requestformValidation={init:function(){$("input.requestFormReset:button").click(function(){$('input[type!="button"][type!="submit"][type!="reset"][type!="hidden"], select, textarea').val("").blur().removeClass("errorstate"),$("#emptyError, #emailError, #emailValError, #prefixError, #firstnameError, #middlenameError, #lastnameError, #suffixError, #cccError, #phoneError, #faxError, #addressError, #cityError, #provinceError, #dateError, #sourceError, #createdbyError, #zipError").removeClass("dispBlock"),optDate()})},validation:function(){$(".autoform").submit(function(event){var formError=!1,showEmptyError=!1,numberReg=/^[0-9]+$/,number8digitReg=/^[0-9]{8,}$/,special1Reg=/^([a-zA-Z-'])+$/,special2Reg=/^([a-zA-Z0-9 ,.-])+$/,special3Reg=/^([a-zA-Z0-9 \\,.@\/-])+$/,special4Reg=/^([a-zA-Z0-9 \\,.\/-])+$/,dateReg=/^(0[1-9]|1[012])+(0[1-9]|[12][0-9]|3[01])+(19|20)\d\d$/g,emailFields=$('input[type="email"]'),selectText=$(".channel, .division");emailFields.eq(0),$('input[type="tel"]');$(".prefix").each(function(){""!==$(this).val()&&0==special1Reg.test($(this).val())?($(this).addClass("errorstate"),$("#prefixError").addClass("dispBlock"),$(this).focus(),formError=!0):($(this).removeClass("errorstate"),$("#prefixError").removeClass("dispBlock"))}),$(".name_f").each(function(){""==$(this).val()?($(this).addClass("errorstate"),$(this).focus(),formError=!0,showEmptyError=!0):""!==$(this).val()&&0==special1Reg.test($(this).val())?($(this).addClass("errorstate"),$("#firstnameError").addClass("dispBlock"),$(this).focus(),formError=!0):($(this).removeClass("errorstate"),$("#firstnameError").removeClass("dispBlock"))}),$(".name_m").each(function(){""!==$(this).val()&&0==special1Reg.test($(this).val())?($(this).addClass("errorstate"),$("#middlenameError").addClass("dispBlock"),$(this).focus(),formError=!0):($(this).removeClass("errorstate"),$("#middlenameError").removeClass("dispBlock"))}),$(".name_l").each(function(){""==$(this).val()?($(this).addClass("errorstate"),$(this).focus(),formError=!0,showEmptyError=!0):""!==$(this).val()&&0==special1Reg.test($(this).val())?($(this).addClass("errorstate"),$("#lastnameError").addClass("dispBlock"),$(this).focus(),formError=!0):($(this).removeClass("errorstate"),$("#lastnameError").removeClass("dispBlock"))}),$(".suffix").each(function(){""!==$(this).val()&&0==special1Reg.test($(this).val())?($(this).addClass("errorstate"),$("#suffixError").addClass("dispBlock"),$(this).focus(),formError=!0):($(this).removeClass("errorstate"),$("#suffixError").removeClass("dispBlock"))}),$(".ccc").each(function(){""===$(this).val()||0!=numberReg.test($(this).val())&&0!=$(this).val()?($(this).removeClass("errorstate"),$("#cccError").removeClass("dispBlock")):($(this).addClass("errorstate"),$("#cccError").addClass("dispBlock"),$(this).focus(),formError=!0)}),$(".telephone").each(function(){""!==$(this).val()&&0==number8digitReg.test($(this).val())?($(this).addClass("errorstate"),$("#phoneError").addClass("dispBlock"),$(this).focus(),formError=!0):($(this).removeClass("errorstate"),$("#phoneError").removeClass("dispBlock"))}),$(".fax").each(function(){""!==$(this).val()&&0==number8digitReg.test($(this).val())?($(this).addClass("errorstate"),$("#faxError").addClass("dispBlock"),$(this).focus(),formError=!0):($(this).removeClass("errorstate"),$("#faxError").removeClass("dispBlock"))}),$(".address2, .address3").each(function(){""!==$(this).val()&&0==special2Reg.test($(this).val())?($(this).addClass("errorstate"),$("#addressError").addClass("dispBlock"),$(this).focus(),formError=!0):($(this).removeClass("errorstate"),$("#addressError").removeClass("dispBlock"))}),$(".province").each(function(){""!==$(this).val()&&0==special2Reg.test($(this).val())?($(this).addClass("errorstate"),$("#provinceError").addClass("dispBlock"),$(this).focus(),formError=!0):($(this).removeClass("errorstate"),$("#provinceError").removeClass("dispBlock"))}),$(".date").each(function(){""==$(this).val()?($(this).addClass("errorstate"),$(this).focus(),formError=!0,showEmptyError=!0):""!==$(this).val()&&0==dateReg.test($(this).val())?($(this).addClass("errorstate"),$("#dateError").addClass("dispBlock"),$(this).focus(),formError=!0):($(this).removeClass("errorstate"),$("#dateError").removeClass("dispBlock"))}),$(".source").each(function(){""==$(this).val()?($(this).addClass("errorstate"),$(this).focus(),formError=!0,showEmptyError=!0):""!==$(this).val()&&0==special3Reg.test($(this).val())?($(this).addClass("errorstate"),$("#sourceError").addClass("dispBlock"),$(this).focus(),formError=!0):($(this).removeClass("errorstate"),$("#sourceError").removeClass("dispBlock"))}),$(".createdby").each(function(){""==$(this).val()?($(this).addClass("errorstate"),$(this).focus(),formError=!0,showEmptyError=!0):""!==$(this).val()&&0==special4Reg.test($(this).val())?($(this).addClass("errorstate"),$("#createdbyError").addClass("dispBlock"),$(this).focus(),formError=!0):($(this).removeClass("errorstate"),$("#createdbyError").removeClass("dispBlock"))}),$(selectText).each(function(){""==$(this).val()?($(this).addClass("errorstate"),formError=!0,showEmptyError=!0):$(this).removeClass("errorstate")});var mandError=mandcheck(),otherError=!1;!document.autoform.custemail.value&&mandError||(otherError=errorCheck()),(mandError||otherError)&&(formError=!0),mandError||showEmptyError?$("#emptyError").addClass("dispBlock"):$("#emptyError").removeClass("dispBlock"),formError&&event.preventDefault()})}};return this.init=function(){$(document).ready(function(){return requestformValidation.init(),requestformValidation.validation(),this})},this.init()}return new SubModule}()}(window.abbott=window.abbott||{},jQuery),$(document).ready(function(){optDate();var e=$("#data"),referrer=document.referrer;""===referrer&&(referrer=$("#referr"),referrer=referrer.text()),e.val(referrer),$(".tooltipn").hover(function(){var calculateWidth=$(window).width()-$(this).position().left;$(".tooltipn-content").html($(this).attr("data-title")).show().css({top:$(this).position().top+25+"px",right:calculateWidth-20+"px"})},function(){$(".tooltipn-content").html("").hide()})}),jQuery.fn.ForceNumericOnly=function(){return this.each(function(){$(this).keydown(function(e){var key=e.charCode||e.keyCode||0;return 8==key||9==key||13==key||46==key||110==key||190==key||key>=35&&key<=40||key>=48&&key<=57||key>=96&&key<=105})})},$(".telephone,.fax, .ccc, .date").ForceNumericOnly();
!function(){"undefined"==typeof Spry&&(window.Spry={}),Spry.Widget||(Spry.Widget={}),Spry.Widget.ValidationCheckbox=function(element,opts){this.init(element),Spry.Widget.Utils.setOptions(this,opts);var validateOn=["submit"].concat(this.validateOn||[]);validateOn=validateOn.join(","),this.validateOn=0|(-1!=validateOn.indexOf("submit")?Spry.Widget.ValidationCheckbox.ONSUBMIT:0),this.validateOn=this.validateOn|(-1!=validateOn.indexOf("blur")?Spry.Widget.ValidationCheckbox.ONBLUR:0),this.validateOn=this.validateOn|(-1!=validateOn.indexOf("change")?Spry.Widget.ValidationCheckbox.ONCHANGE:0),isNaN(this.minSelections)||(this.minSelections=this.minSelections>0?parseInt(this.minSelections,10):null),isNaN(this.maxSelections)||(this.maxSelections=this.maxSelections>0?parseInt(this.maxSelections,10):null),this.additionalError&&(this.additionalError=this.getElement(this.additionalError)),Spry.Widget.ValidationCheckbox.onloadDidFire?this.attachBehaviors():Spry.Widget.ValidationCheckbox.loadQueue.push(this)},Spry.Widget.ValidationCheckbox.ONCHANGE=1,Spry.Widget.ValidationCheckbox.ONBLUR=2,Spry.Widget.ValidationCheckbox.ONSUBMIT=4,Spry.Widget.ValidationCheckbox.prototype.init=function(element){this.element=this.getElement(element),this.checkboxElements=null,this.additionalError=!1,this.form=null,this.event_handlers=[],this.hasFocus=!1,this.requiredClass="checkboxRequiredState",this.minSelectionsClass="checkboxMinSelectionsState",this.maxSelectionsClass="checkboxMaxSelectionsState",this.focusClass="checkboxFocusState",this.validClass="checkboxValidState",this.isRequired=!0,this.minSelections=null,this.maxSelections=null,this.validateOn=["submit"]},Spry.Widget.ValidationCheckbox.prototype.destroy=function(){if(this.event_handlers)for(var i=0;i<this.event_handlers.length;i++)Spry.Widget.Utils.removeEventListener(this.event_handlers[i][0],this.event_handlers[i][1],this.event_handlers[i][2],!1);try{delete this.element}catch(err){}if(this.checkboxElements)for(var i=0;i<this.checkboxElements.length;i++)try{delete this.checkboxElements[i]}catch(err){}try{delete this.checkboxElements}catch(err){}try{delete this.form}catch(err){}try{delete this.event_handlers}catch(err){}for(var q=Spry.Widget.Form.onSubmitWidgetQueue,qlen=q.length,i=0;i<qlen;i++)if(q[i]==this){q.splice(i,1);break}},Spry.Widget.ValidationCheckbox.onloadDidFire=!1,Spry.Widget.ValidationCheckbox.loadQueue=[],Spry.Widget.ValidationCheckbox.prototype.getElement=function(ele){return ele&&"string"==typeof ele?document.getElementById(ele):ele},Spry.Widget.ValidationCheckbox.processLoadQueue=function(handler){Spry.Widget.ValidationCheckbox.onloadDidFire=!0;for(var q=Spry.Widget.ValidationCheckbox.loadQueue,qlen=q.length,i=0;i<qlen;i++)q[i].attachBehaviors()},Spry.Widget.ValidationCheckbox.addLoadListener=function(handler){void 0!==window.addEventListener?window.addEventListener("load",handler,!1):void 0!==document.addEventListener?document.addEventListener("load",handler,!1):void 0!==window.attachEvent&&window.attachEvent("onload",handler)},Spry.Widget.ValidationCheckbox.addLoadListener(Spry.Widget.ValidationCheckbox.processLoadQueue),Spry.Widget.ValidationCheckbox.addLoadListener(function(){Spry.Widget.Utils.addEventListener(window,"unload",Spry.Widget.Form.destroyAll,!1)}),Spry.Widget.ValidationCheckbox.prototype.attachBehaviors=function(){if(this.element&&("INPUT"==this.element.nodeName?this.checkboxElements=[this.element]:this.checkboxElements=this.getCheckboxes(),this.checkboxElements)){var self=this;this.event_handlers=[];for(var qlen=this.checkboxElements.length,i=0;i<qlen;i++)this.event_handlers.push([this.checkboxElements[i],"focus",function(e){return self.onFocus(e)}]),this.event_handlers.push([this.checkboxElements[i],"blur",function(e){return self.onBlur(e)}]),this.validateOn&Spry.Widget.ValidationCheckbox.ONCHANGE&&this.event_handlers.push([this.checkboxElements[i],"click",function(e){return self.onClick(e)}]);for(var i=0;i<this.event_handlers.length;i++)Spry.Widget.Utils.addEventListener(this.event_handlers[i][0],this.event_handlers[i][1],this.event_handlers[i][2],!1);this.form=Spry.Widget.Utils.getFirstParentWithNodeName(this.element,"FORM"),this.form&&(this.form.attachedSubmitHandler||this.form.onsubmit||(this.form.onsubmit=function(e){return e=e||event,Spry.Widget.Form.onSubmit(e,e.srcElement||e.currentTarget)},this.form.attachedSubmitHandler=!0),this.form.attachedResetHandler||(Spry.Widget.Utils.addEventListener(this.form,"reset",function(e){return e=e||event,Spry.Widget.Form.onReset(e,e.srcElement||e.currentTarget)},!1),this.form.attachedResetHandler=!0),Spry.Widget.Form.onSubmitWidgetQueue.push(this))}},Spry.Widget.ValidationCheckbox.prototype.getCheckboxes=function(){var arrCheckboxes,elements=this.element.getElementsByTagName("INPUT");if(elements.length){arrCheckboxes=[];for(var qlen=elements.length,i=0;i<qlen;i++)"checkbox"==elements[i].type&&arrCheckboxes.push(elements[i]);return arrCheckboxes}return null},Spry.Widget.ValidationCheckbox.prototype.addClassName=function(ele,className){!ele||!className||ele.className&&-1!=ele.className.search(new RegExp("\\b"+className+"\\b"))||(ele.className+=(ele.className?" ":"")+className)},Spry.Widget.ValidationCheckbox.prototype.removeClassName=function(ele,className){!ele||!className||ele.className&&-1==ele.className.search(new RegExp("\\b"+className+"\\b"))||(ele.className=ele.className.replace(new RegExp("\\s*\\b"+className+"\\b","g"),""))},Spry.Widget.ValidationCheckbox.prototype.onFocus=function(e){(null!=e.srcElement?e.srcElement:e.target).disabled||(this.hasFocus=!0,this.addClassName(this.element,this.focusClass),this.addClassName(this.additionalError,this.focusClass))},Spry.Widget.ValidationCheckbox.prototype.onBlur=function(e){if(!(null!=e.srcElement?e.srcElement:e.target).disabled){this.hasFocus=!1;var doValidation=!1;this.validateOn&Spry.Widget.ValidationCheckbox.ONBLUR&&(doValidation=!0),doValidation&&this.validate(),this.removeClassName(this.element,this.focusClass),this.removeClassName(this.additionalError,this.focusClass)}},Spry.Widget.ValidationCheckbox.prototype.onClick=function(e){(null!=e.srcElement?e.srcElement:e.target).disabled||this.validate()},Spry.Widget.ValidationCheckbox.prototype.reset=function(){this.removeClassName(this.element,this.validClass),this.removeClassName(this.element,this.requiredClass),this.removeClassName(this.element,this.minSelectionsClass),this.removeClassName(this.element,this.maxSelectionsClass),this.removeClassName(this.additionalError,this.validClass),this.removeClassName(this.additionalError,this.requiredClass),this.removeClassName(this.additionalError,this.minSelectionsClass),this.removeClassName(this.additionalError,this.maxSelectionsClass)},Spry.Widget.ValidationCheckbox.prototype.validate=function(){this.reset();var nochecked=0;if(this.checkboxElements)for(var qlen=this.checkboxElements.length,i=0;i<qlen;i++)!this.checkboxElements[i].disabled&&this.checkboxElements[i].checked&&nochecked++;return this.isRequired&&0==nochecked?(this.addClassName(this.element,this.requiredClass),this.addClassName(this.additionalError,this.requiredClass),!1):this.minSelections&&this.minSelections>nochecked?(this.addClassName(this.element,this.minSelectionsClass),this.addClassName(this.additionalError,this.minSelectionsClass),!1):this.maxSelections&&this.maxSelections<nochecked?(this.addClassName(this.element,this.maxSelectionsClass),this.addClassName(this.additionalError,this.maxSelectionsClass),!1):(this.addClassName(this.element,this.validClass),this.addClassName(this.additionalError,this.validClass),!0)},Spry.Widget.ValidationCheckbox.prototype.isDisabled=function(){var ret=!0;if(this.checkboxElements)for(var qlen=this.checkboxElements.length,i=0;i<qlen;i++)if(!this.checkboxElements[i].disabled){ret=!1;break}return ret},Spry.Widget.Form||(Spry.Widget.Form={}),Spry.Widget.Form.onSubmitWidgetQueue||(Spry.Widget.Form.onSubmitWidgetQueue=[]),Spry.Widget.Form.validate||(Spry.Widget.Form.validate=function(vform){for(var isValid=!0,isElementValid=!0,q=Spry.Widget.Form.onSubmitWidgetQueue,qlen=q.length,i=0;i<qlen;i++)q[i].isDisabled()||q[i].form!=vform||(isElementValid=q[i].validate(),isValid=isElementValid&&isValid);return isValid}),Spry.Widget.Form.onSubmit||(Spry.Widget.Form.onSubmit=function(e,form){return 0!=Spry.Widget.Form.validate(form)}),Spry.Widget.Form.onReset||(Spry.Widget.Form.onReset=function(e,vform){for(var q=Spry.Widget.Form.onSubmitWidgetQueue,qlen=q.length,i=0;i<qlen;i++)q[i].isDisabled()||q[i].form!=vform||"function"!=typeof q[i].reset||q[i].reset();return!0}),Spry.Widget.Form.destroy||(Spry.Widget.Form.destroy=function(form){for(var q=Spry.Widget.Form.onSubmitWidgetQueue,i=0;i<Spry.Widget.Form.onSubmitWidgetQueue.length;i++)q[i].form==form&&"function"==typeof q[i].destroy&&(q[i].destroy(),i--)}),Spry.Widget.Form.destroyAll||(Spry.Widget.Form.destroyAll=function(){for(var q=Spry.Widget.Form.onSubmitWidgetQueue,i=0;i<Spry.Widget.Form.onSubmitWidgetQueue.length;i++)"function"==typeof q[i].destroy&&(q[i].destroy(),i--)}),Spry.Widget.Utils||(Spry.Widget.Utils={}),Spry.Widget.Utils.setOptions=function(obj,optionsObj,ignoreUndefinedProps){if(optionsObj)for(var optionName in optionsObj)ignoreUndefinedProps&&void 0==optionsObj[optionName]||(obj[optionName]=optionsObj[optionName])},Spry.Widget.Utils.getFirstParentWithNodeName=function(node,nodeName){for(;node.parentNode&&node.parentNode.nodeName.toLowerCase()!=nodeName.toLowerCase()&&"BODY"!=node.parentNode.nodeName;)node=node.parentNode;return node.parentNode&&node.parentNode.nodeName.toLowerCase()==nodeName.toLowerCase()?node.parentNode:null},Spry.Widget.Utils.destroyWidgets=function(container){"string"==typeof container&&(container=document.getElementById(container));for(var q=Spry.Widget.Form.onSubmitWidgetQueue,i=0;i<Spry.Widget.Form.onSubmitWidgetQueue.length;i++)"function"==typeof q[i].destroy&&Spry.Widget.Utils.contains(container,q[i].element)&&(q[i].destroy(),i--)},Spry.Widget.Utils.contains=function(who,what){if("object"==typeof who.contains)return what&&who&&(who==what||who.contains(what));for(var el=what;el;){if(el==who)return!0;el=el.parentNode}return!1},Spry.Widget.Utils.addEventListener=function(element,eventType,handler,capture){try{element.addEventListener?element.addEventListener(eventType,handler,capture):element.attachEvent&&element.attachEvent("on"+eventType,handler,capture)}catch(e){}},Spry.Widget.Utils.removeEventListener=function(element,eventType,handler,capture){try{element.removeEventListener?element.removeEventListener(eventType,handler,capture):element.detachEvent&&element.detachEvent("on"+eventType,handler,capture)}catch(e){}}}();
!function(){"undefined"==typeof Spry&&(window.Spry={}),Spry.Widget||(Spry.Widget={}),Spry.Widget.BrowserSniff=function(){var ua=(navigator.appName.toString(),navigator.platform.toString(),navigator.userAgent.toString());this.mozilla=this.ie=this.opera=this.safari=!1;var r=!1;if(r=ua.match(/Opera.([0-9\.]*)/i))this.opera=!0,this.version=parseFloat(r[1]);else if(r=ua.match(/MSIE.([0-9\.]*)/i))this.ie=!0,this.version=parseFloat(r[1]);else if(r=ua.match(/(applewebkit|safari)\/([\d\.]*)/i))this.safari=!0,this.version=parseFloat(r[2]);else if(ua.match(/gecko/i)){r=ua.match(/rv:\s*([0-9\.]+)/i),this.mozilla=!0,this.version=parseFloat(r[1])}this.windows=this.mac=this.linux=!1,this.Platform=ua.match(/windows/i)?"windows":ua.match(/linux/i)?"linux":ua.match(/mac/i)?"mac":ua.match(/unix/i)?"unix":"unknown",this[this.Platform]=!0,this.v=this.version,this.safari&&this.mac&&this.mozilla&&(this.mozilla=!1)},Spry.is=new Spry.Widget.BrowserSniff,Spry.Widget.ValidationConfirm=function(element,firstInput,options){if(options=Spry.Widget.Utils.firstValid(options,{}),this.isBrowserSupported()){if(!1===this.init(element,firstInput,options))return!1;var validateOn=["submit"].concat(Spry.Widget.Utils.firstValid(this.options.validateOn,[]));validateOn=validateOn.join(","),this.validateOn=0,this.validateOn=this.validateOn|(-1!=validateOn.indexOf("submit")?Spry.Widget.ValidationConfirm.ONSUBMIT:0),this.validateOn=this.validateOn|(-1!=validateOn.indexOf("blur")?Spry.Widget.ValidationConfirm.ONBLUR:0),this.validateOn=this.validateOn|(-1!=validateOn.indexOf("change")?Spry.Widget.ValidationConfirm.ONCHANGE:0),Spry.Widget.ValidationConfirm.onloadDidFire?this.attachBehaviors():Spry.Widget.ValidationConfirm.loadQueue.push(this)}},Spry.Widget.ValidationConfirm.ONCHANGE=1,Spry.Widget.ValidationConfirm.ONBLUR=2,Spry.Widget.ValidationConfirm.ONSUBMIT=4,Spry.Widget.ValidationConfirm.prototype.init=function(element,firstInput,options){if(options=Spry.Widget.Utils.firstValid(options,[]),this.options=[],this.element=this.getElement(element),!this.element)return this.showError("The element "+(element&&""!=element?element+" doesn't exists!":"to be validated is not defined!")),!1;if("INPUT"!=this.element.nodeName.toUpperCase()||void 0!==this.element.type&&-1!=",RADIO,CHECKBOX,BUTTON,SUBMIT,IMAGE,".indexOf(","+this.element.type.toUpperCase+",")?this.input=Spry.Widget.Utils.getFirstChildWithNodeNameAtAnyLevel(this.element,"INPUT"):this.input=this.element,!this.input)return this.showError("Element "+element+" doesn't contain any form input!"),!1;var elm=this.getElement(firstInput);return this.firstInput=!1,elm?("INPUT"!=elm.nodeName.toUpperCase()?this.firstInput=Spry.Widget.Utils.getFirstChildWithNodeNameAtAnyLevel(elm,"INPUT"):void 0!==elm.type&&-1!=",RADIO,CHECKBOX,BUTTON,SUBMIT,IMAGE,".indexOf(","+elm.type.toUpperCase()+",")||(this.firstInput=elm),this.firstInput?(this.event_handlers=[],this.validClass="confirmValidState",this.focusClass="confirmFocusState",this.requiredClass="confirmRequiredState",this.invalidClass="confirmInvalidState",options.isRequired=Spry.Widget.Utils.firstValid(options.isRequired,!0),options.additionalError=Spry.Widget.Utils.firstValid(options.additionalError,!1),options.additionalError&&(options.additionalError=this.getElement(options.additionalError)),Spry.Widget.Utils.setOptions(this,options),void Spry.Widget.Utils.setOptions(this.options,options)):(this.showError("Element "+firstInput+" doesn't contain any form input!"),!1)):(this.showError("The element "+(firstInput&&""!=firstInput?firstInput+" doesn't exists!":"that contains the value to be validated is not defined!")),!1)},Spry.Widget.ValidationConfirm.loadQueue=[],Spry.Widget.ValidationConfirm.onloadDidFire=!1,Spry.Widget.ValidationConfirm.prototype.getElement=function(ele){return ele&&"string"==typeof ele&&(ele=document.getElementById(ele)),ele},Spry.Widget.ValidationConfirm.processLoadQueue=function(handler){Spry.Widget.ValidationConfirm.onloadDidFire=!0;for(var q=Spry.Widget.ValidationConfirm.loadQueue,qlen=q.length,i=0;i<qlen;i++)q[i].attachBehaviors()},Spry.Widget.ValidationConfirm.addLoadListener=function(handler){void 0!==window.addEventListener?window.addEventListener("load",handler,!1):void 0!==document.addEventListener?document.addEventListener("load",handler,!1):void 0!==window.attachEvent&&window.attachEvent("onload",handler)},Spry.Widget.ValidationConfirm.addLoadListener(Spry.Widget.ValidationConfirm.processLoadQueue),Spry.Widget.ValidationConfirm.prototype.destroy=function(){if(this.event_handlers)for(var i=0;i<this.event_handlers.length;i++)Spry.Widget.Utils.removeEventListener(this.event_handlers[i][0],this.event_handlers[i][1],this.event_handlers[i][2],!1);try{delete this.element}catch(err){}try{delete this.input}catch(err){}try{delete this.event_handlers}catch(err){}try{delete this.options}catch(err){}for(var q=Spry.Widget.Form.onSubmitWidgetQueue,qlen=q.length,i=0;i<qlen;i++)if(q[i]==this){q.splice(i,1);break}},Spry.Widget.ValidationConfirm.prototype.attachBehaviors=function(){if(!(this.event_handlers&&this.event_handlers.length>0)){var handlers=this.event_handlers;if(this.input){var self=this;if(this.input.setAttribute("AutoComplete","off"),this.validateOn&Spry.Widget.ValidationConfirm.ONCHANGE){var changeEvent=Spry.is.mozilla||Spry.is.opera||Spry.is.safari?"input":Spry.is.ie?"propertychange":"change";handlers.push([this.input,changeEvent,function(e){return!!self.isDisabled()||self.validate(e||event)}]),Spry.is.mozilla||Spry.is.safari?handlers.push([this.input,"dragdrop",function(e){return!!self.isDisabled()||self.validate(e)}]):Spry.is.ie&&handlers.push([this.input,"drop",function(e){return!!self.isDisabled()||self.validate(event)}])}handlers.push([this.input,"blur",function(e){return!!self.isDisabled()||self.onBlur(e||event)}]),handlers.push([this.input,"focus",function(e){return!!self.isDisabled()||self.onFocus(e||event)}]);for(var i=0;i<this.event_handlers.length;i++)Spry.Widget.Utils.addEventListener(this.event_handlers[i][0],this.event_handlers[i][1],this.event_handlers[i][2],!1);this.form=Spry.Widget.Utils.getFirstParentWithNodeName(this.input,"FORM"),this.form&&(this.form.attachedSubmitHandler||this.form.onsubmit||(this.form.onsubmit=function(e){return e=e||event,Spry.Widget.Form.onSubmit(e,e.srcElement||e.currentTarget)},this.form.attachedSubmitHandler=!0),this.form.attachedResetHandler||(Spry.Widget.Utils.addEventListener(this.form,"reset",function(e){var e=e||event;return Spry.Widget.Form.onReset(e,e.srcElement||e.currentTarget)},!1),this.form.attachedResetHandler=!0),Spry.Widget.Form.onSubmitWidgetQueue.push(this))}}},Spry.Widget.ValidationConfirm.prototype.reset=function(){this.switchClassName(this.element,""),this.switchClassName(this.additionalError,""),this.removeClassName(this.element,this.focusClass),this.removeClassName(this.additionalError,this.focusClass),Spry.is.ie&&(this.input.forceFireFirstOnPropertyChange=!0,this.input.removeAttribute("forceFireFirstOnPropertyChange"))},Spry.Widget.ValidationConfirm.prototype.validate=function(e){return this.isRequired&&""==this.input.value?(this.switchClassName(this.element,this.requiredClass),this.switchClassName(this.additionalError,this.requiredClass),!1):this.input.value.length>0&&this.input.value!=this.firstInput.value?(this.switchClassName(this.element,this.invalidClass),this.switchClassName(this.additionalError,this.invalidClass),!1):(this.switchClassName(this.element,this.validClass),this.switchClassName(this.additionalError,this.validClass),!0)},Spry.Widget.ValidationConfirm.prototype.onBlur=function(e){this.removeClassName(this.element,this.focusClass),this.removeClassName(this.additionalError,this.focusClass),this.validateOn&Spry.Widget.ValidationConfirm.ONBLUR&&this.validate(e)},Spry.Widget.ValidationConfirm.prototype.onFocus=function(){this.addClassName(this.element,this.focusClass),this.addClassName(this.additionalError,this.focusClass)},Spry.Widget.ValidationConfirm.prototype.switchClassName=function(ele,className){for(var classes=[this.validClass,this.requiredClass,this.invalidClass],i=0;i<classes.length;i++)this.removeClassName(ele,classes[i]);this.addClassName(ele,className)},Spry.Widget.ValidationConfirm.prototype.addClassName=function(ele,className){!ele||!className||ele.className&&-1!=ele.className.indexOf(className)&&-1!=ele.className.search(new RegExp("\\b"+className+"\\b"))||(ele.className+=(ele.className?" ":"")+className)},Spry.Widget.ValidationConfirm.prototype.removeClassName=function(ele,className){!ele||!className||ele.className&&-1!=ele.className.indexOf(className)&&-1==ele.className.search(new RegExp("\\b"+className+"\\b"))||(ele.className=ele.className.replace(new RegExp("\\s*\\b"+className+"\\b","g"),""))},Spry.Widget.ValidationConfirm.prototype.isBrowserSupported=function(){return Spry.is.ie&&Spry.is.v>=5&&Spry.is.windows||Spry.is.mozilla&&Spry.is.v>=1.4||Spry.is.safari||Spry.is.opera&&Spry.is.v>=9},Spry.Widget.ValidationConfirm.prototype.isDisabled=function(){return this.input&&(this.input.disabled||this.input.readOnly)||!this.input},Spry.Widget.ValidationConfirm.prototype.showError=function(msg){alert("Spry.ValidationConfirm ERR: "+msg)},Spry.Widget.Form||(Spry.Widget.Form={}),Spry.Widget.Form.onSubmitWidgetQueue||(Spry.Widget.Form.onSubmitWidgetQueue=[]),Spry.Widget.Form.validate||(Spry.Widget.Form.validate=function(vform){for(var isValid=!0,isElementValid=!0,q=Spry.Widget.Form.onSubmitWidgetQueue,qlen=q.length,i=0;i<qlen;i++)q[i].isDisabled()||q[i].form!=vform||(isElementValid=q[i].validate(),isValid=isElementValid&&isValid);return isValid}),Spry.Widget.Form.onSubmit||(Spry.Widget.Form.onSubmit=function(e,form){return 0!=Spry.Widget.Form.validate(form)}),Spry.Widget.Form.onReset||(Spry.Widget.Form.onReset=function(e,vform){for(var q=Spry.Widget.Form.onSubmitWidgetQueue,qlen=q.length,i=0;i<qlen;i++)q[i].isDisabled()||q[i].form!=vform||"function"!=typeof q[i].reset||q[i].reset();return!0}),Spry.Widget.Form.destroy||(Spry.Widget.Form.destroy=function(form){for(var q=Spry.Widget.Form.onSubmitWidgetQueue,i=0;i<Spry.Widget.Form.onSubmitWidgetQueue.length;i++)q[i].form==form&&"function"==typeof q[i].destroy&&(q[i].destroy(),i--)}),Spry.Widget.Form.destroyAll||(Spry.Widget.Form.destroyAll=function(){for(var q=Spry.Widget.Form.onSubmitWidgetQueue,i=0;i<Spry.Widget.Form.onSubmitWidgetQueue.length;i++)"function"==typeof q[i].destroy&&(q[i].destroy(),i--)}),Spry.Widget.Utils||(Spry.Widget.Utils={}),Spry.Widget.Utils.setOptions=function(obj,optionsObj,ignoreUndefinedProps){if(optionsObj)for(var optionName in optionsObj)ignoreUndefinedProps&&void 0==optionsObj[optionName]||(obj[optionName]=optionsObj[optionName])},Spry.Widget.Utils.firstValid=function(){for(var ret=null,i=0;i<Spry.Widget.Utils.firstValid.arguments.length;i++)if(void 0!==Spry.Widget.Utils.firstValid.arguments[i]){ret=Spry.Widget.Utils.firstValid.arguments[i];break}return ret},Spry.Widget.Utils.getFirstChildWithNodeNameAtAnyLevel=function(node,nodeName){var elements=node.getElementsByTagName(nodeName);return elements?elements[0]:null},Spry.Widget.Utils.getFirstParentWithNodeName=function(node,nodeName){for(;node.parentNode&&node.parentNode.nodeName.toLowerCase()!=nodeName.toLowerCase()&&"BODY"!=node.parentNode.nodeName;)node=node.parentNode;return node.parentNode&&node.parentNode.nodeName.toLowerCase()==nodeName.toLowerCase()?node.parentNode:null},Spry.Widget.Utils.addEventListener=function(element,eventType,handler,capture){try{element.addEventListener?element.addEventListener(eventType,handler,capture):element.attachEvent&&element.attachEvent("on"+eventType,handler,capture)}catch(e){}},Spry.Widget.Utils.removeEventListener=function(element,eventType,handler,capture){try{element.removeEventListener?element.removeEventListener(eventType,handler,capture):element.detachEvent&&element.detachEvent("on"+eventType,handler,capture)}catch(e){}}}();
!function(){"undefined"==typeof Spry&&(window.Spry={}),Spry.Widget||(Spry.Widget={}),Spry.Widget.ValidationSelect=function(element,opts){this.init(element),Spry.Widget.Utils.setOptions(this,opts);var validateOn=["submit"].concat(this.validateOn||[]);validateOn=validateOn.join(","),this.validateOn=0|(-1!=validateOn.indexOf("submit")?Spry.Widget.ValidationSelect.ONSUBMIT:0),this.validateOn=this.validateOn|(-1!=validateOn.indexOf("blur")?Spry.Widget.ValidationSelect.ONBLUR:0),this.validateOn=this.validateOn|(-1!=validateOn.indexOf("change")?Spry.Widget.ValidationSelect.ONCHANGE:0),this.additionalError&&(this.additionalError=this.getElement(this.additionalError)),Spry.Widget.ValidationSelect.onloadDidFire?this.attachBehaviors():Spry.Widget.ValidationSelect.loadQueue.push(this)},Spry.Widget.ValidationSelect.ONCHANGE=1,Spry.Widget.ValidationSelect.ONBLUR=2,Spry.Widget.ValidationSelect.ONSUBMIT=4,Spry.Widget.ValidationSelect.prototype.init=function(element){this.element=this.getElement(element),this.additionalError=!1,this.selectElement=null,this.form=null,this.event_handlers=[],this.requiredClass="selectRequiredState",this.invalidClass="selectInvalidState",this.focusClass="selectFocusState",this.validClass="selectValidState",this.emptyValue="",this.invalidValue=null,this.isRequired=!0,this.validateOn=["submit"],this.validatedByOnChangeEvent=!1},Spry.Widget.ValidationSelect.prototype.destroy=function(){if(this.event_handlers)for(var i=0;i<this.event_handlers.length;i++)Spry.Widget.Utils.removeEventListener(this.event_handlers[i][0],this.event_handlers[i][1],this.event_handlers[i][2],!1);try{delete this.element}catch(err){}try{delete this.selectElement}catch(err){}try{delete this.form}catch(err){}try{delete this.event_handlers}catch(err){}for(var q=Spry.Widget.Form.onSubmitWidgetQueue,qlen=q.length,i=0;i<qlen;i++)if(q[i]==this){q.splice(i,1);break}},Spry.Widget.ValidationSelect.onloadDidFire=!1,Spry.Widget.ValidationSelect.loadQueue=[],Spry.Widget.ValidationSelect.prototype.getElement=function(ele){return ele&&"string"==typeof ele?document.getElementById(ele):ele},Spry.Widget.ValidationSelect.processLoadQueue=function(handler){Spry.Widget.ValidationSelect.onloadDidFire=!0;for(var q=Spry.Widget.ValidationSelect.loadQueue,qlen=q.length,i=0;i<qlen;i++)q[i].attachBehaviors()},Spry.Widget.ValidationSelect.addLoadListener=function(handler){void 0!==window.addEventListener?window.addEventListener("load",handler,!1):void 0!==document.addEventListener?document.addEventListener("load",handler,!1):void 0!==window.attachEvent&&window.attachEvent("onload",handler)},Spry.Widget.ValidationSelect.addLoadListener(Spry.Widget.ValidationSelect.processLoadQueue),Spry.Widget.ValidationSelect.addLoadListener(function(){Spry.Widget.Utils.addEventListener(window,"unload",Spry.Widget.Form.destroyAll,!1)}),Spry.Widget.ValidationSelect.prototype.attachBehaviors=function(){if("SELECT"==this.element.nodeName?this.selectElement=this.element:this.selectElement=Spry.Widget.Utils.getFirstChildWithNodeNameAtAnyLevel(this.element,"SELECT"),this.selectElement){var self=this;this.event_handlers=[];var focusEventName="focus",ua=navigator.userAgent.match(/msie (\d+)\./i);ua&&(ua=parseInt(ua[1],10))>=6&&(focusEventName="beforeactivate"),this.event_handlers.push([this.selectElement,focusEventName,function(e){return!!self.isDisabled()||self.onFocus(e)}]),this.event_handlers.push([this.selectElement,"blur",function(e){return!!self.isDisabled()||self.onBlur(e)}]),this.validateOn&Spry.Widget.ValidationSelect.ONCHANGE&&(this.event_handlers.push([this.selectElement,"change",function(e){return!!self.isDisabled()||self.onChange(e)}]),this.event_handlers.push([this.selectElement,"keypress",function(e){return!!self.isDisabled()||self.onChange(e)}]));for(var i=0;i<this.event_handlers.length;i++)Spry.Widget.Utils.addEventListener(this.event_handlers[i][0],this.event_handlers[i][1],this.event_handlers[i][2],!1);this.form=Spry.Widget.Utils.getFirstParentWithNodeName(this.selectElement,"FORM"),this.form&&(this.form.attachedSubmitHandler||this.form.onsubmit||(this.form.onsubmit=function(e){return e=e||event,Spry.Widget.Form.onSubmit(e,e.srcElement||e.currentTarget)},this.form.attachedSubmitHandler=!0),this.form.attachedResetHandler||(Spry.Widget.Utils.addEventListener(this.form,"reset",function(e){return e=e||event,Spry.Widget.Form.onReset(e,e.srcElement||e.currentTarget)},!1),this.form.attachedResetHandler=!0),Spry.Widget.Form.onSubmitWidgetQueue.push(this))}},Spry.Widget.ValidationSelect.prototype.addClassName=function(ele,className){!ele||!className||ele.className&&-1!=ele.className.search(new RegExp("\\b"+className+"\\b"))||(ele.className+=(ele.className?" ":"")+className)},Spry.Widget.ValidationSelect.prototype.removeClassName=function(ele,className){!ele||!className||ele.className&&-1==ele.className.search(new RegExp("\\b"+className+"\\b"))||(ele.className=ele.className.replace(new RegExp("\\s*\\b"+className+"\\b","g"),""))},Spry.Widget.ValidationSelect.prototype.onFocus=function(e){this.hasFocus=!0,this.validatedByOnChangeEvent=!1,this.addClassName(this.element,this.focusClass),this.addClassName(this.additionalError,this.focusClass)},Spry.Widget.ValidationSelect.prototype.onBlur=function(e){this.hasFocus=!1;var doValidation=!1;this.validateOn&Spry.Widget.ValidationSelect.ONBLUR&&(doValidation=!0),doValidation&&!this.validatedByOnChangeEvent&&this.validate(),this.removeClassName(this.element,this.focusClass),this.removeClassName(this.additionalError,this.focusClass)},Spry.Widget.ValidationSelect.prototype.onChange=function(e){this.hasFocus=!1,this.validate(),this.validatedByOnChangeEvent=!0},Spry.Widget.ValidationSelect.prototype.reset=function(){this.removeClassName(this.element,this.requiredClass),this.removeClassName(this.element,this.invalidClass),this.removeClassName(this.element,this.validClass),this.removeClassName(this.additionalError,this.requiredClass),this.removeClassName(this.additionalError,this.invalidClass),this.removeClassName(this.additionalError,this.validClass)},Spry.Widget.ValidationSelect.prototype.validate=function(){if(this.reset(),this.isRequired){if(0==this.selectElement.options.length||-1==this.selectElement.selectedIndex)return this.addClassName(this.element,this.requiredClass),this.addClassName(this.additionalError,this.requiredClass),!1;if(null==this.selectElement.options[this.selectElement.selectedIndex].getAttribute("value"))return this.addClassName(this.element,this.requiredClass),this.addClassName(this.additionalError,this.requiredClass),!1;if(this.selectElement.options[this.selectElement.selectedIndex].value==this.emptyValue)return this.addClassName(this.element,this.requiredClass),this.addClassName(this.additionalError,this.requiredClass),!1;if(this.selectElement.options[this.selectElement.selectedIndex].disabled)return this.addClassName(this.element,this.requiredClass),this.addClassName(this.additionalError,this.requiredClass),!1}return this.invalidValue&&this.selectElement.options.length>0&&-1!=this.selectElement.selectedIndex&&this.selectElement.options[this.selectElement.selectedIndex].value==this.invalidValue?(this.addClassName(this.element,this.invalidClass),this.addClassName(this.additionalError,this.invalidClass),!1):(this.addClassName(this.element,this.validClass),this.addClassName(this.additionalError,this.validClass),!0)},Spry.Widget.ValidationSelect.prototype.isDisabled=function(){return this.selectElement.disabled},Spry.Widget.Form||(Spry.Widget.Form={}),Spry.Widget.Form.onSubmitWidgetQueue||(Spry.Widget.Form.onSubmitWidgetQueue=[]),Spry.Widget.Form.validate||(Spry.Widget.Form.validate=function(vform){for(var isValid=!0,isElementValid=!0,q=Spry.Widget.Form.onSubmitWidgetQueue,qlen=q.length,i=0;i<qlen;i++)q[i].isDisabled()||q[i].form!=vform||(isElementValid=q[i].validate(),isValid=isElementValid&&isValid);return isValid}),Spry.Widget.Form.onSubmit||(Spry.Widget.Form.onSubmit=function(e,form){return 0!=Spry.Widget.Form.validate(form)}),Spry.Widget.Form.onReset||(Spry.Widget.Form.onReset=function(e,vform){for(var q=Spry.Widget.Form.onSubmitWidgetQueue,qlen=q.length,i=0;i<qlen;i++)q[i].isDisabled()||q[i].form!=vform||"function"!=typeof q[i].reset||q[i].reset();return!0}),Spry.Widget.Form.destroy||(Spry.Widget.Form.destroy=function(form){for(var q=Spry.Widget.Form.onSubmitWidgetQueue,i=0;i<Spry.Widget.Form.onSubmitWidgetQueue.length;i++)q[i].form==form&&"function"==typeof q[i].destroy&&(q[i].destroy(),i--)}),Spry.Widget.Form.destroyAll||(Spry.Widget.Form.destroyAll=function(){for(var q=Spry.Widget.Form.onSubmitWidgetQueue,i=0;i<Spry.Widget.Form.onSubmitWidgetQueue.length;i++)"function"==typeof q[i].destroy&&(q[i].destroy(),i--)}),Spry.Widget.Utils||(Spry.Widget.Utils={}),Spry.Widget.Utils.setOptions=function(obj,optionsObj,ignoreUndefinedProps){if(optionsObj)for(var optionName in optionsObj)ignoreUndefinedProps&&void 0==optionsObj[optionName]||(obj[optionName]=optionsObj[optionName])},Spry.Widget.Utils.getFirstChildWithNodeNameAtAnyLevel=function(node,nodeName){var elements=node.getElementsByTagName(nodeName);return elements?elements[0]:null},Spry.Widget.Utils.getFirstParentWithNodeName=function(node,nodeName){for(;node.parentNode&&node.parentNode.nodeName.toLowerCase()!=nodeName.toLowerCase()&&"BODY"!=node.parentNode.nodeName;)node=node.parentNode;return node.parentNode&&node.parentNode.nodeName.toLowerCase()==nodeName.toLowerCase()?node.parentNode:null},Spry.Widget.Utils.destroyWidgets=function(container){"string"==typeof container&&(container=document.getElementById(container));for(var q=Spry.Widget.Form.onSubmitWidgetQueue,i=0;i<Spry.Widget.Form.onSubmitWidgetQueue.length;i++)"function"==typeof q[i].destroy&&Spry.Widget.Utils.contains(container,q[i].element)&&(q[i].destroy(),i--)},Spry.Widget.Utils.contains=function(who,what){if("object"==typeof who.contains)return what&&who&&(who==what||who.contains(what));for(var el=what;el;){if(el==who)return!0;el=el.parentNode}return!1},Spry.Widget.Utils.addEventListener=function(element,eventType,handler,capture){try{element.addEventListener?element.addEventListener(eventType,handler,capture):element.attachEvent&&element.attachEvent("on"+eventType,handler,capture)}catch(e){}},Spry.Widget.Utils.removeEventListener=function(element,eventType,handler,capture){try{element.removeEventListener?element.removeEventListener(eventType,handler,capture):element.detachEvent&&element.detachEvent("on"+eventType,handler,capture)}catch(e){}}}();
!function(){"undefined"==typeof Spry&&(window.Spry={}),Spry.Widget||(Spry.Widget={}),Spry.Widget.BrowserSniff=function(){var ua=(navigator.appName.toString(),navigator.platform.toString(),navigator.userAgent.toString());this.mozilla=this.ie=this.opera=this.safari=!1;var r=!1;if(r=ua.match(/Opera.([0-9\.]*)/i))this.opera=!0,this.version=parseFloat(r[1]);else if(r=ua.match(/MSIE.([0-9\.]*)/i))this.ie=!0,this.version=parseFloat(r[1]);else if(r=ua.match(/(applewebkit|safari)\/([\d\.]*)/i))this.safari=!0,this.version=parseFloat(r[2]);else if(ua.match(/gecko/i)){r=ua.match(/rv:\s*([0-9\.]+)/i),this.mozilla=!0,this.version=parseFloat(r[1])}this.windows=this.mac=this.linux=!1,this.Platform=ua.match(/windows/i)?"windows":ua.match(/linux/i)?"linux":ua.match(/mac/i)?"mac":ua.match(/unix/i)?"unix":"unknown",this[this.Platform]=!0,this.v=this.version,this.safari&&this.mac&&this.mozilla&&(this.mozilla=!1)},Spry.is=new Spry.Widget.BrowserSniff,Spry.Widget.ValidationTextField=function(element,type,options){if("string"!=typeof(type=Spry.Widget.Utils.firstValid(type,"none")))return void this.showError("The second parameter in the constructor should be the validation type, the options are the third parameter.");if(void 0===Spry.Widget.ValidationTextField.ValidationDescriptors[type])return void this.showError("Unknown validation type received as the second parameter.");options=Spry.Widget.Utils.firstValid(options,{}),this.type=type,this.isBrowserSupported()||(options.useCharacterMasking=!1),this.init(element,options);var validateOn=["submit"].concat(Spry.Widget.Utils.firstValid(this.options.validateOn,[]));validateOn=validateOn.join(","),this.validateOn=0,this.validateOn=this.validateOn|(-1!=validateOn.indexOf("submit")?Spry.Widget.ValidationTextField.ONSUBMIT:0),this.validateOn=this.validateOn|(-1!=validateOn.indexOf("blur")?Spry.Widget.ValidationTextField.ONBLUR:0),this.validateOn=this.validateOn|(-1!=validateOn.indexOf("change")?Spry.Widget.ValidationTextField.ONCHANGE:0),Spry.Widget.ValidationTextField.onloadDidFire?this.attachBehaviors():Spry.Widget.ValidationTextField.loadQueue.push(this)},Spry.Widget.ValidationTextField.ONCHANGE=1,Spry.Widget.ValidationTextField.ONBLUR=2,Spry.Widget.ValidationTextField.ONSUBMIT=4,Spry.Widget.ValidationTextField.ERROR_REQUIRED=1,Spry.Widget.ValidationTextField.ERROR_FORMAT=2,Spry.Widget.ValidationTextField.ERROR_RANGE_MIN=4,Spry.Widget.ValidationTextField.ERROR_RANGE_MAX=8,Spry.Widget.ValidationTextField.ERROR_CHARS_MIN=16,Spry.Widget.ValidationTextField.ERROR_CHARS_MAX=32,Spry.Widget.ValidationTextField.ValidationDescriptors={none:{},custom:{},integer:{characterMasking:/[\-\+\d]/,regExpFilter:/^[\-\+]?\d*$/,validation:function(value,options){if(""==value||"-"==value||"+"==value)return!1;if(!/^[\-\+]?\d*$/.test(value))return!1;options=options||{allowNegative:!1};var ret=parseInt(value,10);if(isNaN(ret))ret=!1;else{var allowNegative=!0;void 0!==options.allowNegative&&0==options.allowNegative&&(allowNegative=!1),!allowNegative&&value<0&&(ret=!1)}return ret}},real:{characterMasking:/[\d\.,\-\+e]/i,regExpFilter:/^[\-\+]?\d(?:|\.,\d{0,2})|(?:|e{0,1}[\-\+]?\d{0,})$/i,validation:function(value,options){if(!/^[\+\-]?[0-9]+([\.,][0-9]+)?([eE]{0,1}[\-\+]?[0-9]+)?$/.test(value))return!1;var ret=parseFloat(value);return isNaN(ret)&&(ret=!1),ret}},currency:{formats:{dot_comma:{characterMasking:/[\d\.\,\-\+\$]/,regExpFilter:/^[\-\+]?(?:[\d\.]*)+(|\,\d{0,2})$/,validation:function(value,options){var ret=!1;return(/^(\-|\+)?\d{1,3}(?:\.\d{3})*(?:\,\d{2}|)$/.test(value)||/^(\-|\+)?\d+(?:\,\d{2}|)$/.test(value))&&(value=value.toString().replace(/\./gi,"").replace(/\,/,"."),ret=parseFloat(value)),ret}},comma_dot:{characterMasking:/[\d\.\,\-\+\$]/,regExpFilter:/^[\-\+]?(?:[\d\,]*)+(|\.\d{0,2})$/,validation:function(value,options){var ret=!1;return(/^(\-|\+)?\d{1,3}(?:\,\d{3})*(?:\.\d{2}|)$/.test(value)||/^(\-|\+)?\d+(?:\.\d{2}|)$/.test(value))&&(value=value.toString().replace(/\,/gi,""),ret=parseFloat(value)),ret}}}},email:{characterMasking:/[^\s]/,validation:function(value,options){return/^[\w\.-]+@[\w\.-]+\.\w+$/i.test(value)}},date:{validation:function(value,options){var valueRegExp=this.dateValidationPattern,formatGroups=options.format.match(/^([mdy]+)[\.\-\/\\\s]+([mdy]+)[\.\-\/\\\s]+([mdy]+)$/i),valueGroups=value.match(valueRegExp);if(null===formatGroups||null===valueGroups)return!1;for(var dayIndex=-1,monthIndex=-1,yearIndex=-1,i=1;i<formatGroups.length;i++)switch(formatGroups[i].toLowerCase()){case"dd":dayIndex=i;break;case"mm":monthIndex=i;break;case"yy":case"yyyy":yearIndex=i}if(-1!=dayIndex&&-1!=monthIndex&&-1!=yearIndex){var maxDay=-1,theDay=parseInt(valueGroups[dayIndex],10),theMonth=parseInt(valueGroups[monthIndex],10),theYear=parseInt(valueGroups[yearIndex],10);if(theMonth<1||theMonth>12)return!1;switch(theMonth){case 1:case 3:case 5:case 7:case 8:case 10:case 12:maxDay=31;break;case 4:case 6:case 9:case 11:maxDay=30;break;case 2:maxDay=4*parseInt(theYear/4,10)!=theYear||theYear%100==0&&theYear%400!=0?28:29}return!(theDay<1||theDay>maxDay)&&new Date(theYear,theMonth-1,theDay)}}},time:{validation:function(value,options){var formatGroups=options.format.match(/([hmst]+)/gi),valueGroups=value.match(/(\d+|AM?|PM?)/gi);if(null!==formatGroups&&null!==valueGroups){if(formatGroups.length!=valueGroups.length)return!1;for(var hourIndex=-1,minuteIndex=-1,secondIndex=-1,tIndex=-1,theHour=0,theMinute=0,theSecond=0,theT="AM",i=0;i<formatGroups.length;i++)switch(formatGroups[i].toLowerCase()){case"hh":hourIndex=i;break;case"mm":minuteIndex=i;break;case"ss":secondIndex=i;break;case"t":case"tt":tIndex=i}if(-1!=hourIndex){var theHour=parseInt(valueGroups[hourIndex],10);if(isNaN(theHour)||theHour>("HH"==formatGroups[hourIndex]?23:12))return!1}if(-1!=minuteIndex){var theMinute=parseInt(valueGroups[minuteIndex],10);if(isNaN(theMinute)||theMinute>59)return!1}if(-1!=secondIndex){var theSecond=parseInt(valueGroups[secondIndex],10);if(isNaN(theSecond)||theSecond>59)return!1}if(-1!=tIndex){var theT=valueGroups[tIndex].toUpperCase();if("TT"==formatGroups[tIndex].toUpperCase()&&!/^a|pm$/i.test(theT)||"T"==formatGroups[tIndex].toUpperCase()&&!/^a|p$/i.test(theT))return!1}return new Date(2e3,0,1,theHour+("P"==theT.charAt(0)?12:0),theMinute,theSecond)}return!1}},credit_card:{characterMasking:/\d/,validation:function(value,options){var regExp=null;switch(options.format=options.format||"ALL",options.format.toUpperCase()){case"ALL":regExp=/^[3-6]{1}[0-9]{12,18}$/;break;case"VISA":regExp=/^4(?:[0-9]{12}|[0-9]{15})$/;break;case"MASTERCARD":regExp=/^5[1-5]{1}[0-9]{14}$/;break;case"AMEX":regExp=/^3(4|7){1}[0-9]{13}$/;break;case"DISCOVER":regExp=/^6011[0-9]{12}$/;break;case"DINERSCLUB":regExp=/^3(?:(0[0-5]{1}[0-9]{11})|(6[0-9]{12})|(8[0-9]{12}))$/}if(!regExp.test(value))return!1;for(var digits=[],j=1,digit="",i=value.length-1;i>=0;i--)j%2==0?(digit=2*parseInt(value.charAt(i),10),digits[digits.length]=digit.toString().charAt(0),2==digit.toString().length&&(digits[digits.length]=digit.toString().charAt(1))):(digit=value.charAt(i),digits[digits.length]=digit),j++;var sum=0;for(i=0;i<digits.length;i++)sum+=parseInt(digits[i],10);return sum%10==0}},zip_code:{formats:{zip_us9:{pattern:"00000-0000"},zip_us5:{pattern:"00000"},zip_uk:{characterMasking:/[\dA-Z\s]/,validation:function(value,options){return/^[A-Z]{1,2}\d[\dA-Z]?\s?\d[A-Z]{2}$/.test(value)}},zip_canada:{characterMasking:/[\dA-Z\s]/,pattern:"A0A 0A0"},zip_custom:{}}},phone_number:{formats:{phone_us:{pattern:"(000) 000-0000"},phone_custom:{}}},social_security_number:{pattern:"000-00-0000"},ip:{characterMaskingFormats:{ipv4:/[\d\.]/i,ipv6_ipv4:/[\d\.\:A-F\/]/i,ipv6:/[\d\.\:A-F\/]/i},validation:function(value,options){return Spry.Widget.ValidationTextField.validateIP(value,options.format)}},url:{characterMasking:/[^\s]/,validation:function(value,options){var URI_spliter=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,parts=value.match(URI_spliter);if(parts&&parts[4]){for(var host=parts[4].split("."),punyencoded="",i=0;i<host.length;i++){if(!(punyencoded=Spry.Widget.Utils.punycode_encode(host[i],64)))return!1;punyencoded!=host[i]+"-"&&(host[i]="xn--"+punyencoded)}host=host.join("."),value=value.replace(URI_spliter,"$1//"+host+"$5$6$8")}var valid=value.match(/^(?:https?|ftp)\:\/\/(?:(?:[a-z0-9\-\._~\!\$\&\'\(\)\*\+\,\;\=:]|%[0-9a-f]{2,2})*\@)?(?:((?:(?:[a-z0-9][a-z0-9\-]*[a-z0-9]|[a-z0-9])\.)*(?:[a-z][a-z0-9\-]*[a-z0-9]|[a-z])|(?:\[[^\]]*\]))(?:\:[0-9]*)?)(?:\/(?:[a-z0-9\-\._~\!\$\&\'\(\)\*\+\,\;\=\:\@]|%[0-9a-f]{2,2})*)*(?:\?(?:[a-z0-9\-\._~\!\$\&\'\(\)\*\+\,\;\=\:\@\/\?]|%[0-9a-f]{2,2})*)?(?:\#(?:[a-z0-9\-\._~\!\$\&\'\(\)\*\+\,\;\=\:\@\/\?]|%[0-9a-f]{2,2})*)?$/i);if(valid){var address=valid[1];return!address||"[]"!=address&&("["==address.charAt(0)?(address=address.replace(/^\[|\]$/gi,""),Spry.Widget.ValidationTextField.validateIP(address,"ipv6_ipv4")):!!/[^0-9\.]/.test(address)||Spry.Widget.ValidationTextField.validateIP(address,"ipv4"))}return!1}}},Spry.Widget.ValidationTextField.validateIP=function(value,format){var validIPv6Addresses=[/^(?:[a-f0-9]{1,4}:){7}[a-f0-9]{1,4}(?:\/\d{1,3})?$/i,/^[a-f0-9]{0,4}::(?:\/\d{1,3})?$/i,/^:(?::[a-f0-9]{1,4}){1,6}(?:\/\d{1,3})?$/i,/^(?:[a-f0-9]{1,4}:){1,6}:(?:\/\d{1,3})?$/i,/^(?:[a-f0-9]{1,4}:)(?::[a-f0-9]{1,4}){1,6}(?:\/\d{1,3})?$/i,/^(?:[a-f0-9]{1,4}:){2}(?::[a-f0-9]{1,4}){1,5}(?:\/\d{1,3})?$/i,/^(?:[a-f0-9]{1,4}:){3}(?::[a-f0-9]{1,4}){1,4}(?:\/\d{1,3})?$/i,/^(?:[a-f0-9]{1,4}:){4}(?::[a-f0-9]{1,4}){1,3}(?:\/\d{1,3})?$/i,/^(?:[a-f0-9]{1,4}:){5}(?::[a-f0-9]{1,4}){1,2}(?:\/\d{1,3})?$/i,/^(?:[a-f0-9]{1,4}:){6}(?::[a-f0-9]{1,4})(?:\/\d{1,3})?$/i,/^(?:[a-f0-9]{1,4}:){6}(?:\d{1,3}\.){3}\d{1,3}(?:\/\d{1,3})?$/i,/^:(?::[a-f0-9]{1,4}){0,4}:(?:\d{1,3}\.){3}\d{1,3}(?:\/\d{1,3})?$/i,/^(?:[a-f0-9]{1,4}:){1,5}:(?:\d{1,3}\.){3}\d{1,3}(?:\/\d{1,3})?$/i,/^(?:[a-f0-9]{1,4}:)(?::[a-f0-9]{1,4}){1,4}:(?:\d{1,3}\.){3}\d{1,3}(?:\/\d{1,3})?$/i,/^(?:[a-f0-9]{1,4}:){2}(?::[a-f0-9]{1,4}){1,3}:(?:\d{1,3}\.){3}\d{1,3}(?:\/\d{1,3})?$/i,/^(?:[a-f0-9]{1,4}:){3}(?::[a-f0-9]{1,4}){1,2}:(?:\d{1,3}\.){3}\d{1,3}(?:\/\d{1,3})?$/i,/^(?:[a-f0-9]{1,4}:){4}(?::[a-f0-9]{1,4}):(?:\d{1,3}\.){3}\d{1,3}(?:\/\d{1,3})?$/i],validIPv4Addresses=[/^(\d{1,3}\.){3}\d{1,3}$/i],validAddresses=[];"ipv6"!=format&&"ipv6_ipv4"!=format||(validAddresses=validAddresses.concat(validIPv6Addresses)),"ipv4"!=format&&"ipv6_ipv4"!=format||(validAddresses=validAddresses.concat(validIPv4Addresses));for(var ret=!1,i=0;i<validAddresses.length;i++)if(validAddresses[i].test(value)){ret=!0;break}if(ret&&-1!=value.indexOf(".")){var ipv4=value.match(/:?(?:\d{1,3}\.){3}\d{1,3}/i);if(!ipv4)return!1;ipv4=ipv4[0].replace(/^:/,"");var pieces=ipv4.split(".");if(4!=pieces.length)return!1;for(var regExp=/^[\-\+]?\d*$/,i=0;i<pieces.length;i++){if(""==pieces[i])return!1;var piece=parseInt(pieces[i],10);if(isNaN(piece)||piece>255||!regExp.test(pieces[i])||pieces[i].length>3||/^0{2,3}$/.test(pieces[i]))return!1}}if(ret&&-1!=value.indexOf("/")){var prefLen=value.match(/\/\d{1,3}$/);if(!prefLen)return!1;var prefLenVal=parseInt(prefLen[0].replace(/^\//,""),10);if(isNaN(prefLenVal)||prefLenVal>128||prefLenVal<1)return!1}return ret},Spry.Widget.ValidationTextField.onloadDidFire=!1,Spry.Widget.ValidationTextField.loadQueue=[],Spry.Widget.ValidationTextField.prototype.isBrowserSupported=function(){return Spry.is.ie&&Spry.is.v>=5&&Spry.is.windows||Spry.is.mozilla&&Spry.is.v>=1.4||Spry.is.safari||Spry.is.opera&&Spry.is.v>=9},Spry.Widget.ValidationTextField.prototype.init=function(element,options){switch(this.element=this.getElement(element),this.errors=0,this.flags={locked:!1,restoreSelection:!0},this.options={},this.event_handlers=[],this.validClass="textfieldValidState",this.focusClass="textfieldFocusState",this.requiredClass="textfieldRequiredState",this.hintClass="textfieldHintState",this.invalidFormatClass="textfieldInvalidFormatState",this.invalidRangeMinClass="textfieldMinValueState",this.invalidRangeMaxClass="textfieldMaxValueState",this.invalidCharsMinClass="textfieldMinCharsState",this.invalidCharsMaxClass="textfieldMaxCharsState",this.textfieldFlashTextClass="textfieldFlashText",Spry.is.safari&&(this.flags.lastKeyPressedTimeStamp=0),this.type){case"phone_number":options.format=Spry.Widget.Utils.firstValid(options.format,"phone_us");break;case"currency":options.format=Spry.Widget.Utils.firstValid(options.format,"comma_dot");break;case"zip_code":options.format=Spry.Widget.Utils.firstValid(options.format,"zip_us5");break;case"date":options.format=Spry.Widget.Utils.firstValid(options.format,"mm/dd/yy");break;case"time":options.format=Spry.Widget.Utils.firstValid(options.format,"HH:mm"),options.pattern=options.format.replace(/[hms]/gi,"0").replace(/TT/gi,"AM").replace(/T/gi,"A");break;case"ip":options.format=Spry.Widget.Utils.firstValid(options.format,"ipv4"),options.characterMasking=Spry.Widget.ValidationTextField.ValidationDescriptors[this.type].characterMaskingFormats[options.format]}var validationDescriptor={};options.format&&Spry.Widget.ValidationTextField.ValidationDescriptors[this.type].formats?Spry.Widget.ValidationTextField.ValidationDescriptors[this.type].formats[options.format]&&Spry.Widget.Utils.setOptions(validationDescriptor,Spry.Widget.ValidationTextField.ValidationDescriptors[this.type].formats[options.format]):Spry.Widget.Utils.setOptions(validationDescriptor,Spry.Widget.ValidationTextField.ValidationDescriptors[this.type]),options.useCharacterMasking=Spry.Widget.Utils.firstValid(options.useCharacterMasking,!1),options.hint=Spry.Widget.Utils.firstValid(options.hint,""),options.isRequired=Spry.Widget.Utils.firstValid(options.isRequired,!0),options.additionalError=Spry.Widget.Utils.firstValid(options.additionalError,!1),options.additionalError&&(options.additionalError=this.getElement(options.additionalError)),options.characterMasking=Spry.Widget.Utils.firstValid(options.characterMasking,validationDescriptor.characterMasking),options.regExpFilter=Spry.Widget.Utils.firstValid(options.regExpFilter,validationDescriptor.regExpFilter),options.pattern=Spry.Widget.Utils.firstValid(options.pattern,validationDescriptor.pattern),options.validation=Spry.Widget.Utils.firstValid(options.validation,validationDescriptor.validation),"string"==typeof options.validation&&(options.validation=eval(options.validation)),options.minValue=Spry.Widget.Utils.firstValid(options.minValue,validationDescriptor.minValue),options.maxValue=Spry.Widget.Utils.firstValid(options.maxValue,validationDescriptor.maxValue),options.minChars=Spry.Widget.Utils.firstValid(options.minChars,validationDescriptor.minChars),options.maxChars=Spry.Widget.Utils.firstValid(options.maxChars,validationDescriptor.maxChars),Spry.Widget.Utils.setOptions(this,options),Spry.Widget.Utils.setOptions(this.options,options)},Spry.Widget.ValidationTextField.prototype.destroy=function(){if(this.event_handlers)for(var i=0;i<this.event_handlers.length;i++)Spry.Widget.Utils.removeEventListener(this.event_handlers[i][0],this.event_handlers[i][1],this.event_handlers[i][2],!1);try{delete this.element}catch(err){}try{delete this.input}catch(err){}try{delete this.form}catch(err){}try{delete this.event_handlers}catch(err){}try{this.selection.destroy()}catch(err){}try{delete this.selection}catch(err){}for(var q=Spry.Widget.Form.onSubmitWidgetQueue,qlen=q.length,i=0;i<qlen;i++)if(q[i]==this){q.splice(i,1);break}},Spry.Widget.ValidationTextField.prototype.attachBehaviors=function(){if(this.element&&("INPUT"==this.element.nodeName?this.input=this.element:this.input=Spry.Widget.Utils.getFirstChildWithNodeNameAtAnyLevel(this.element,"INPUT")),this.input){this.maxChars&&this.input.removeAttribute("maxLength"),this.putHint(),this.compilePattern(),"date"==this.type&&this.compileDatePattern(),this.input.setAttribute("AutoComplete","off"),this.selection=new Spry.Widget.SelectionDescriptor(this.input),this.oldValue=this.input.value;var self=this;this.event_handlers=[],this.event_handlers.push([this.input,"keydown",function(e){return!!self.isDisabled()||self.onKeyDown(e||event)}]),this.event_handlers.push([this.input,"keypress",function(e){return!!self.isDisabled()||self.onKeyPress(e||event)}]),Spry.is.opera&&this.event_handlers.push([this.input,"keyup",function(e){return!!self.isDisabled()||self.onKeyUp(e||event)}]),this.event_handlers.push([this.input,"focus",function(e){return!!self.isDisabled()||self.onFocus(e||event)}]),this.event_handlers.push([this.input,"blur",function(e){return!!self.isDisabled()||self.onBlur(e||event)}]),this.event_handlers.push([this.input,"mousedown",function(e){return!!self.isDisabled()||self.onMouseDown(e||event)}]);var changeEvent=Spry.is.mozilla||Spry.is.opera||Spry.is.safari?"input":Spry.is.ie?"propertychange":"change";this.event_handlers.push([this.input,changeEvent,function(e){return!!self.isDisabled()||self.onChange(e||event)}]),Spry.is.mozilla||Spry.is.safari?this.event_handlers.push([this.input,"dragdrop",function(e){return!!self.isDisabled()||(self.removeHint(),self.onChange(e||event))}]):Spry.is.ie&&this.event_handlers.push([this.input,"drop",function(e){return!!self.isDisabled()||self.onDrop(e||event)}]);for(var i=0;i<this.event_handlers.length;i++)Spry.Widget.Utils.addEventListener(this.event_handlers[i][0],this.event_handlers[i][1],this.event_handlers[i][2],!1);this.form=Spry.Widget.Utils.getFirstParentWithNodeName(this.input,"FORM"),this.form&&(this.form.attachedSubmitHandler||this.form.onsubmit||(this.form.onsubmit=function(e){return e=e||event,Spry.Widget.Form.onSubmit(e,e.srcElement||e.currentTarget)},this.form.attachedSubmitHandler=!0),this.form.attachedResetHandler||(Spry.Widget.Utils.addEventListener(this.form,"reset",function(e){return e=e||event,Spry.Widget.Form.onReset(e,e.srcElement||e.currentTarget)},!1),this.form.attachedResetHandler=!0),Spry.Widget.Form.onSubmitWidgetQueue.push(this))}},Spry.Widget.ValidationTextField.prototype.isDisabled=function(){return this.input&&(this.input.disabled||this.input.readOnly)||!this.input},Spry.Widget.ValidationTextField.prototype.getElement=function(ele){return ele&&"string"==typeof ele?document.getElementById(ele):ele},Spry.Widget.ValidationTextField.addLoadListener=function(handler){void 0!==window.addEventListener?window.addEventListener("load",handler,!1):void 0!==document.addEventListener?document.addEventListener("load",handler,!1):void 0!==window.attachEvent&&window.attachEvent("onload",handler)},Spry.Widget.ValidationTextField.processLoadQueue=function(handler){Spry.Widget.ValidationTextField.onloadDidFire=!0;for(var q=Spry.Widget.ValidationTextField.loadQueue,qlen=q.length,i=0;i<qlen;i++)q[i].attachBehaviors()},Spry.Widget.ValidationTextField.addLoadListener(Spry.Widget.ValidationTextField.processLoadQueue),Spry.Widget.ValidationTextField.addLoadListener(function(){Spry.Widget.Utils.addEventListener(window,"unload",Spry.Widget.Form.destroyAll,!1)}),Spry.Widget.ValidationTextField.prototype.setValue=function(newValue){this.flags.locked=!0,this.input.value=newValue,this.flags.locked=!1,this.oldValue=newValue,Spry.is.ie||this.onChange()},Spry.Widget.ValidationTextField.prototype.saveState=function(){this.oldValue=this.input.value,this.selection.update()},Spry.Widget.ValidationTextField.prototype.revertState=function(revertValue){revertValue!=this.input.value&&(this.input.readOnly=!0,this.input.value=revertValue,this.input.readOnly=!1,Spry.is.safari&&this.flags.active&&this.input.focus()),this.flags.restoreSelection&&this.selection.moveTo(this.selection.start,this.selection.end),this.redTextFlash()},Spry.Widget.ValidationTextField.prototype.removeHint=function(){this.flags.hintOn&&(this.input.value="",this.flags.hintOn=!1,this.removeClassName(this.element,this.hintClass),this.removeClassName(this.additionalError,this.hintClass))},Spry.Widget.ValidationTextField.prototype.putHint=function(){this.hint&&this.input&&"text"==this.input.type&&""==this.input.value&&(this.flags.hintOn=!0,this.input.value=this.hint,this.addClassName(this.element,this.hintClass),this.addClassName(this.additionalError,this.hintClass))},Spry.Widget.ValidationTextField.prototype.redTextFlash=function(){var self=this;this.addClassName(this.element,this.textfieldFlashTextClass),setTimeout(function(){self.removeClassName(self.element,self.textfieldFlashTextClass)},100)},Spry.Widget.ValidationTextField.prototype.doValidations=function(testValue,revertValue){if(this.isDisabled())return!1;if(this.flags.locked)return!1;if(0==testValue.length&&!this.isRequired)return this.errors=0,!1;this.flags.locked=!0;var mustRevert=!1,continueValidations=!0;this.options.isRequired||0!=testValue.length||(continueValidations=!1);var errors=0,fixedValue=testValue;if(this.useCharacterMasking&&this.characterMasking)for(var i=0;i<testValue.length;i++)if(!this.characterMasking.test(testValue.charAt(i))){errors|=Spry.Widget.ValidationTextField.ERROR_FORMAT,fixedValue=revertValue,mustRevert=!0;break}if(!mustRevert&&this.useCharacterMasking&&this.regExpFilter&&(this.regExpFilter.test(fixedValue)||(errors|=Spry.Widget.ValidationTextField.ERROR_FORMAT,mustRevert=!0)),!mustRevert&&this.pattern){this.patternToRegExp(testValue.length).test(testValue)?this.patternLength!=testValue.length&&(errors|=Spry.Widget.ValidationTextField.ERROR_FORMAT):(errors|=Spry.Widget.ValidationTextField.ERROR_FORMAT,mustRevert=!0)}if(""==fixedValue&&(errors|=Spry.Widget.ValidationTextField.ERROR_REQUIRED),!mustRevert&&this.pattern&&this.useCharacterMasking){var n=this.getAutoComplete(testValue.length);n&&(fixedValue+=n)}if(!mustRevert&&null!==this.minChars&&continueValidations&&testValue.length<this.minChars&&(errors|=Spry.Widget.ValidationTextField.ERROR_CHARS_MIN,continueValidations=!1),!mustRevert&&null!==this.maxChars&&continueValidations&&testValue.length>this.maxChars&&(errors|=Spry.Widget.ValidationTextField.ERROR_CHARS_MAX,continueValidations=!1),!mustRevert&&this.validation&&continueValidations){var value=this.validation(fixedValue,this.options);!1===value?(errors|=Spry.Widget.ValidationTextField.ERROR_FORMAT,continueValidations=!1):this.typedValue=value}if(!mustRevert&&this.validation&&null!==this.minValue&&continueValidations){var minValue=this.validation(this.minValue.toString(),this.options);!1!==minValue&&this.typedValue<minValue&&(errors|=Spry.Widget.ValidationTextField.ERROR_RANGE_MIN,continueValidations=!1)}if(!mustRevert&&this.validation&&null!==this.maxValue&&continueValidations){var maxValue=this.validation(this.maxValue.toString(),this.options);!1!==maxValue&&this.typedValue>maxValue&&(errors|=Spry.Widget.ValidationTextField.ERROR_RANGE_MAX,continueValidations=!1)}return this.useCharacterMasking&&mustRevert&&this.revertState(revertValue),this.errors=errors,this.fixedValue=fixedValue,this.flags.locked=!1,mustRevert},Spry.Widget.ValidationTextField.prototype.onChange=function(e){if(Spry.is.opera&&this.flags.operaRevertOnKeyUp)return!0;if(Spry.is.ie&&e&&"value"!=e.propertyName)return!0;if(this.flags.drop){var self=this;return void setTimeout(function(){self.flags.drop=!1,self.onChange(null)},0)}if(this.flags.hintOn)return!0;if(8==this.keyCode||46==this.keyCode){var mustRevert=this.doValidations(this.input.value,this.input.value);if(this.oldValue=this.input.value,(mustRevert||this.errors)&&this.validateOn&Spry.Widget.ValidationTextField.ONCHANGE){var self=this;return setTimeout(function(){self.validate()},0),!0}}var mustRevert=this.doValidations(this.input.value,this.oldValue);if((!mustRevert||this.errors)&&this.validateOn&Spry.Widget.ValidationTextField.ONCHANGE){var self=this;setTimeout(function(){self.validate()},0)}return!0},Spry.Widget.ValidationTextField.prototype.onKeyUp=function(e){if(this.flags.operaRevertOnKeyUp)return this.setValue(this.oldValue),Spry.Widget.Utils.stopEvent(e),this.selection.moveTo(this.selection.start,this.selection.start),this.flags.operaRevertOnKeyUp=!1,!1;this.flags.operaPasteOperation&&(window.clearInterval(this.flags.operaPasteOperation),this.flags.operaPasteOperation=null)},Spry.Widget.ValidationTextField.prototype.operaPasteMonitor=function(){if(this.input.value!=this.oldValue){this.doValidations(this.input.value,this.input.value)?(this.setValue(this.oldValue),this.selection.moveTo(this.selection.start,this.selection.start)):this.onChange()}},Spry.Widget.ValidationTextField.prototype.compileDatePattern=function(){var dateValidationPatternString="",groupPatterns=[],fullGroupPatterns=[],autocompleteCharacters=[],formatGroups=this.options.format.match(/^([mdy]+)([\.\-\/\\\s]+)([mdy]+)([\.\-\/\\\s]+)([mdy]+)$/i);if(null!==formatGroups)for(var i=1;i<formatGroups.length;i++)switch(formatGroups[i].toLowerCase()){case"dd":case"mm":groupPatterns[i-1]="\\d{1,2}",fullGroupPatterns[i-1]="\\d\\d",dateValidationPatternString+="("+groupPatterns[i-1]+")",autocompleteCharacters[i-1]=null;break;case"yy":groupPatterns[i-1]="\\d{1,2}",fullGroupPatterns[i-1]="\\d\\d",dateValidationPatternString+="(\\d\\d)",autocompleteCharacters[i-1]=null;break;case"yyyy":groupPatterns[i-1]="\\d{1,4}",fullGroupPatterns[i-1]="\\d\\d\\d\\d",dateValidationPatternString+="(\\d\\d\\d\\d)",autocompleteCharacters[i-1]=null;break;default:groupPatterns[i-1]=fullGroupPatterns[i-1]=Spry.Widget.ValidationTextField.regExpFromChars(formatGroups[i]),dateValidationPatternString+="["+groupPatterns[i-1]+"]",autocompleteCharacters[i-1]=formatGroups[i]}this.dateValidationPattern=new RegExp("^"+dateValidationPatternString+"$",""),this.dateAutocompleteCharacters=autocompleteCharacters,this.dateGroupPatterns=groupPatterns,this.dateFullGroupPatterns=fullGroupPatterns,this.lastDateGroup=formatGroups.length-2},Spry.Widget.ValidationTextField.prototype.getRegExpForGroup=function(group){for(var ret="^",j=0;j<=group;j++)ret+=this.dateGroupPatterns[j];return ret+="$",new RegExp(ret,"")},Spry.Widget.ValidationTextField.prototype.getRegExpForFullGroup=function(group){for(var ret="^",j=0;j<group;j++)ret+=this.dateGroupPatterns[j];return ret+=this.dateFullGroupPatterns[group],new RegExp(ret,"")},Spry.Widget.ValidationTextField.prototype.getDateGroup=function(value,pos){if(0==pos)return 0;for(var test_value=value.substring(0,pos),i=0;i<=this.lastDateGroup;i++)if(this.getRegExpForGroup(i).test(test_value))return i;return-1},Spry.Widget.ValidationTextField.prototype.isDateGroupFull=function(value,group){return this.getRegExpForFullGroup(group).test(value)},Spry.Widget.ValidationTextField.prototype.isValueValid=function(value,pos,group){var test_value=value.substring(0,pos);return this.getRegExpForGroup(group).test(test_value)},Spry.Widget.ValidationTextField.prototype.isPositionAtEndOfGroup=function(value,pos,group){var test_value=value.substring(0,pos);return this.getRegExpForFullGroup(group).test(test_value)},Spry.Widget.ValidationTextField.prototype.nextDateDelimiterExists=function(value,pos,group){var autocomplete=this.dateAutocompleteCharacters[group+1];return!(value.length<pos+autocomplete.length)&&value.substring(pos,pos+autocomplete.length)==autocomplete},Spry.Widget.ValidationTextField.prototype.onKeyPress=function(e){if(this.flags.skp)return this.flags.skp=!1,Spry.Widget.Utils.stopEvent(e),!1;if(e.ctrlKey||e.metaKey||!this.useCharacterMasking)return!0;if(Spry.is.opera&&this.flags.operaRevertOnKeyUp)return Spry.Widget.Utils.stopEvent(e),!1;if(8==this.keyCode||46==this.keyCode){if(this.doValidations(this.input.value,this.input.value))return!0}var pressed=Spry.Widget.Utils.getCharacterFromEvent(e);if(pressed&&this.characterMasking&&!this.characterMasking.test(pressed))return Spry.Widget.Utils.stopEvent(e),this.redTextFlash(),!1;if(pressed&&this.pattern){var currentPatternChar=this.patternCharacters[this.selection.start];/[ax]/i.test(currentPatternChar)&&(pressed=currentPatternChar.toLowerCase()==currentPatternChar?pressed.toLowerCase():pressed.toUpperCase());var autocomplete=this.getAutoComplete(this.selection.start);if(this.selection.start==this.oldValue.length){if(!(this.oldValue.length<this.patternLength))return Spry.Widget.Utils.stopEvent(e),this.setValue(this.input.value),!1;if(autocomplete){Spry.Widget.Utils.stopEvent(e);var futureValue=this.oldValue.substring(0,this.selection.start)+autocomplete+pressed,mustRevert=this.doValidations(futureValue,this.oldValue);return mustRevert?(this.setValue(this.oldValue.substring(0,this.selection.start)+autocomplete),this.selection.moveTo(this.selection.start+autocomplete.length,this.selection.start+autocomplete.length)):(this.setValue(this.fixedValue),this.selection.moveTo(this.fixedValue.length,this.fixedValue.length)),!1}}else if(autocomplete)return Spry.Widget.Utils.stopEvent(e),this.selection.moveTo(this.selection.start+autocomplete.length,this.selection.start+autocomplete.length),!1;Spry.Widget.Utils.stopEvent(e);var futureValue=this.oldValue.substring(0,this.selection.start)+pressed+this.oldValue.substring(this.selection.start+1),mustRevert=this.doValidations(futureValue,this.oldValue);return mustRevert?this.selection.moveTo(this.selection.start,this.selection.start):(autocomplete=this.getAutoComplete(this.selection.start+1),this.setValue(this.fixedValue),this.selection.moveTo(this.selection.start+1+autocomplete.length,this.selection.start+1+autocomplete.length)),!1}if(pressed&&"date"==this.type&&this.useCharacterMasking){var group=this.getDateGroup(this.oldValue,this.selection.start);if(-1!=group){if(Spry.Widget.Utils.stopEvent(e),group%2!=0&&group++,this.isDateGroupFull(this.oldValue,group)){if(this.isPositionAtEndOfGroup(this.oldValue,this.selection.start,group)){if(group==this.lastDateGroup)return this.redTextFlash(),!1;var autocomplete=this.dateAutocompleteCharacters[group+1];if(this.nextDateDelimiterExists(this.oldValue,this.selection.start,group)){var autocomplete=this.dateAutocompleteCharacters[group+1];return this.selection.moveTo(this.selection.start+autocomplete.length,this.selection.start+autocomplete.length),pressed==autocomplete?!1:(futureValue=this.isDateGroupFull(this.oldValue,group+2)?this.oldValue.substring(0,this.selection.start)+pressed+this.oldValue.substring(this.selection.start+1):this.oldValue.substring(0,this.selection.start)+pressed+this.oldValue.substring(this.selection.start),this.isValueValid(futureValue,this.selection.start+1,group+2)?(this.setValue(futureValue),this.selection.moveTo(this.selection.start+1,this.selection.start+1),!1):(this.redTextFlash(),!1))}var autocomplete=this.dateAutocompleteCharacters[group+1],insertedValue=autocomplete+pressed;return futureValue=this.oldValue.substring(0,this.selection.start)+insertedValue+this.oldValue.substring(this.selection.start),this.isValueValid(futureValue,this.selection.start+insertedValue.length,group+2)?(this.setValue(futureValue),this.selection.moveTo(this.selection.start+insertedValue.length,this.selection.start+insertedValue.length),!1):(insertedValue=autocomplete,futureValue=this.oldValue.substring(0,this.selection.start)+insertedValue+this.oldValue.substring(this.selection.start),this.setValue(futureValue),this.selection.moveTo(this.selection.start+insertedValue.length,this.selection.start+insertedValue.length),this.redTextFlash(),!1)}var movePosition=1;if(futureValue=this.oldValue.substring(0,this.selection.start)+pressed+this.oldValue.substring(this.selection.start+1),this.isValueValid(futureValue,this.selection.start+1,group)){if(this.isPositionAtEndOfGroup(futureValue,this.selection.start+1,group)&&group!=this.lastDateGroup)if(this.nextDateDelimiterExists(futureValue,this.selection.start+1,group)){var autocomplete=this.dateAutocompleteCharacters[group+1];movePosition=1+autocomplete.length}else{var autocomplete=this.dateAutocompleteCharacters[group+1];futureValue=this.oldValue.substring(0,this.selection.start)+pressed+autocomplete+this.oldValue.substring(this.selection.start+1),movePosition=1+autocomplete.length}return this.setValue(futureValue),this.selection.moveTo(this.selection.start+movePosition,this.selection.start+movePosition),!1}return this.redTextFlash(),!1}futureValue=this.oldValue.substring(0,this.selection.start)+pressed+this.oldValue.substring(this.selection.start);var movePosition=1
;if(this.isValueValid(futureValue,this.selection.start+1,group)||this.isValueValid(futureValue,this.selection.start+1,group+1)){var autocomplete=this.dateAutocompleteCharacters[group+1];if(pressed==autocomplete)this.nextDateDelimiterExists(this.oldValue,this.selection.start,group)&&(futureValue=this.oldValue,movePosition=1);else if(this.isPositionAtEndOfGroup(futureValue,this.selection.start+1,group)&&group!=this.lastDateGroup)if(this.nextDateDelimiterExists(futureValue,this.selection.start+1,group)){var autocomplete=this.dateAutocompleteCharacters[group+1];movePosition=1+autocomplete.length}else{var autocomplete=this.dateAutocompleteCharacters[group+1];futureValue=this.oldValue.substring(0,this.selection.start)+pressed+autocomplete+this.oldValue.substring(this.selection.start+1),movePosition=1+autocomplete.length}return this.setValue(futureValue),this.selection.moveTo(this.selection.start+movePosition,this.selection.start+movePosition),!1}return this.redTextFlash(),!1}return!1}},Spry.Widget.ValidationTextField.prototype.onKeyDown=function(e){if(this.saveState(),this.keyCode=e.keyCode,Spry.is.opera&&(this.flags.operaPasteOperation&&(window.clearInterval(this.flags.operaPasteOperation),this.flags.operaPasteOperation=null),e.ctrlKey)){var pressed=Spry.Widget.Utils.getCharacterFromEvent(e);if(pressed&&-1!="vx".indexOf(pressed.toLowerCase())){var self=this;return this.flags.operaPasteOperation=window.setInterval(function(){self.operaPasteMonitor()},1),!0}}if(8!=this.keyCode&&46!=this.keyCode&&Spry.Widget.Utils.isSpecialKey(e))return!0;if(8==this.keyCode||46==this.keyCode){if(this.doValidations(this.input.value,this.input.value))return!0}if(this.useCharacterMasking&&this.pattern&&46==this.keyCode){if(e.ctrlKey)this.setValue(this.input.value.substring(0,this.selection.start));else{if(this.selection.end==this.input.value.length||this.selection.start==this.input.value.length-1)return!0;this.flags.operaRevertOnKeyUp=!0}return Spry.is.mozilla&&Spry.is.mac&&(this.flags.skp=!0),Spry.Widget.Utils.stopEvent(e),!1}if(this.useCharacterMasking&&this.pattern&&!e.ctrlKey&&8==this.keyCode){if(this.selection.start==this.input.value.length){var n=this.getAutoComplete(this.selection.start,-1);this.setValue(this.input.value.substring(0,this.input.value.length-(Spry.is.opera?0:1)-n.length)),Spry.is.opera&&(this.selection.start=this.selection.start-1-n.length,this.selection.end=this.selection.end-1-n.length)}else{if(this.selection.end==this.input.value.length)return!0;this.flags.operaRevertOnKeyUp=!0}return Spry.is.mozilla&&Spry.is.mac&&(this.flags.skp=!0),Spry.Widget.Utils.stopEvent(e),!1}return!0},Spry.Widget.ValidationTextField.prototype.onMouseDown=function(e){this.flags.active&&this.saveState()},Spry.Widget.ValidationTextField.prototype.onDrop=function(e){this.flags.drop=!0,this.removeHint(),this.saveState(),this.flags.active=!0,this.addClassName(this.element,this.focusClass),this.addClassName(this.additionalError,this.focusClass)},Spry.Widget.ValidationTextField.prototype.onFocus=function(e){if(!this.flags.drop){if(this.removeHint(),this.pattern&&this.useCharacterMasking){var autocomplete=this.getAutoComplete(this.selection.start);this.setValue(this.input.value+autocomplete),this.selection.moveTo(this.input.value.length,this.input.value.length)}this.saveState(),this.flags.active=!0,this.addClassName(this.element,this.focusClass),this.addClassName(this.additionalError,this.focusClass)}},Spry.Widget.ValidationTextField.prototype.onBlur=function(e){this.flags.active=!1,this.removeClassName(this.element,this.focusClass),this.removeClassName(this.additionalError,this.focusClass),this.flags.restoreSelection=!1;this.doValidations(this.input.value,this.input.value);this.flags.restoreSelection=!0,this.validateOn&Spry.Widget.ValidationTextField.ONBLUR&&this.validate();var self=this;return setTimeout(function(){self.putHint()},10),!0},Spry.Widget.ValidationTextField.prototype.compilePattern=function(){if(this.pattern){for(var compiled=[],regexps=[],patternCharacters=[],idx=0,c="",p="",i=0;i<this.pattern.length;i++)c=this.pattern.charAt(i),"\\"!=p?(regexps[idx]=Spry.Widget.ValidationTextField.regExpFromChars(c),/[0ABXY\?]/i.test(c)?(compiled[idx]=null,patternCharacters[idx]=c):"\\"==c?(compiled[idx]=c,patternCharacters[idx]="\\"):(compiled[idx]=c,patternCharacters[idx]=null),idx++,p=c):(/[0ABXY\?]/i.test(c)?regexps[idx-1]=c:regexps[idx-1]=Spry.Widget.ValidationTextField.regExpFromChars(c),compiled[idx-1]=c,patternCharacters[idx-1]=null,p="");this.autoCompleteCharacters=compiled,this.compiledPattern=regexps,this.patternCharacters=patternCharacters,this.patternLength=compiled.length}},Spry.Widget.ValidationTextField.prototype.getAutoComplete=function(from,direction){if(-1==direction){for(var n="",m="";from&&(n=this.getAutoComplete(--from));)m=n;return m}for(var ret="",c="",i=from;i<this.autoCompleteCharacters.length&&(c=this.autoCompleteCharacters[i]);i++)ret+=c;return ret},Spry.Widget.ValidationTextField.regExpFromChars=function(string){for(var ret="",character="",i=0;i<string.length;i++)switch(character=string.charAt(i)){case"0":ret+="\\d";break;case"A":ret+="[A-Z]";break;case"a":ret+="[a-z]";break;case"B":case"b":ret+="[a-zA-Z]";break;case"x":ret+="[0-9a-z]";break;case"X":ret+="[0-9A-Z]";break;case"Y":case"y":ret+="[0-9a-zA-Z]";break;case"?":ret+=".";break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":ret+=character;break;case"c":case"C":case"e":case"E":case"f":case"F":case"r":case"d":case"D":case"n":case"s":case"S":case"w":case"W":case"t":case"v":ret+=character;break;default:ret+="\\"+character}return ret},Spry.Widget.ValidationTextField.prototype.patternToRegExp=function(len){for(var ret="^",end=Math.min(this.compiledPattern.length,len),i=0;i<end;i++)ret+=this.compiledPattern[i];return ret+="$",ret=new RegExp(ret,"")},Spry.Widget.ValidationTextField.prototype.resetClasses=function(){for(var classes=[this.requiredClass,this.invalidFormatClass,this.invalidRangeMinClass,this.invalidRangeMaxClass,this.invalidCharsMinClass,this.invalidCharsMaxClass,this.validClass],i=0;i<classes.length;i++)this.removeClassName(this.element,classes[i]),this.removeClassName(this.additionalError,classes[i])},Spry.Widget.ValidationTextField.prototype.reset=function(){this.removeHint(),this.oldValue=this.input.defaultValue,this.resetClasses(),Spry.is.ie&&(this.input.forceFireFirstOnPropertyChange=!0,this.input.removeAttribute("forceFireFirstOnPropertyChange"));var self=this;setTimeout(function(){self.putHint()},10)},Spry.Widget.ValidationTextField.prototype.validate=function(){if(this.resetClasses(),this.validateOn&Spry.Widget.ValidationTextField.ONSUBMIT&&(this.removeHint(),this.doValidations(this.input.value,this.input.value),!this.flags.active)){var self=this;setTimeout(function(){self.putHint()},10)}return this.isRequired&&this.errors&Spry.Widget.ValidationTextField.ERROR_REQUIRED?(this.addClassName(this.element,this.requiredClass),this.addClassName(this.additionalError,this.requiredClass),!1):this.errors&Spry.Widget.ValidationTextField.ERROR_FORMAT?(this.addClassName(this.element,this.invalidFormatClass),this.addClassName(this.additionalError,this.invalidFormatClass),!1):this.errors&Spry.Widget.ValidationTextField.ERROR_RANGE_MIN?(this.addClassName(this.element,this.invalidRangeMinClass),this.addClassName(this.additionalError,this.invalidRangeMinClass),!1):this.errors&Spry.Widget.ValidationTextField.ERROR_RANGE_MAX?(this.addClassName(this.element,this.invalidRangeMaxClass),this.addClassName(this.additionalError,this.invalidRangeMaxClass),!1):this.errors&Spry.Widget.ValidationTextField.ERROR_CHARS_MIN?(this.addClassName(this.element,this.invalidCharsMinClass),this.addClassName(this.additionalError,this.invalidCharsMinClass),!1):this.errors&Spry.Widget.ValidationTextField.ERROR_CHARS_MAX?(this.addClassName(this.element,this.invalidCharsMaxClass),this.addClassName(this.additionalError,this.invalidCharsMaxClass),!1):(this.addClassName(this.element,this.validClass),this.addClassName(this.additionalError,this.validClass),!0)},Spry.Widget.ValidationTextField.prototype.addClassName=function(ele,className){!ele||!className||ele.className&&-1!=ele.className.search(new RegExp("\\b"+className+"\\b"))||(ele.className+=(ele.className?" ":"")+className)},Spry.Widget.ValidationTextField.prototype.removeClassName=function(ele,className){!ele||!className||ele.className&&-1==ele.className.search(new RegExp("\\b"+className+"\\b"))||(ele.className=ele.className.replace(new RegExp("\\s*\\b"+className+"\\b","g"),""))},Spry.Widget.ValidationTextField.prototype.showError=function(msg){alert("Spry.Widget.TextField ERR: "+msg)},Spry.Widget.SelectionDescriptor=function(element){this.element=element,this.update()},Spry.Widget.SelectionDescriptor.prototype.update=function(){if(Spry.is.ie&&Spry.is.windows){var sel=this.element.ownerDocument.selection;if("TEXTAREA"==this.element.nodeName){if("None"!=sel.type){try{var range=sel.createRange()}catch(err){return}if(range.parentElement()==this.element){var range_all=this.element.ownerDocument.body.createTextRange();range_all.moveToElementText(this.element);for(var sel_start=0;range_all.compareEndPoints("StartToStart",range)<0;sel_start++)range_all.moveStart("character",1);this.start=sel_start,range_all=this.element.ownerDocument.body.createTextRange(),range_all.moveToElementText(this.element);for(var sel_end=0;range_all.compareEndPoints("StartToEnd",range)<0;sel_end++)range_all.moveStart("character",1);this.end=sel_end,this.length=this.end-this.start,this.text=range.text}}}else if("INPUT"==this.element.nodeName){try{this.range=sel.createRange()}catch(err){return}this.length=this.range.text.length;var clone=this.range.duplicate();this.start=-clone.moveStart("character",-1e4),clone=this.range.duplicate(),clone.collapse(!1),this.end=-clone.moveStart("character",-1e4),this.text=this.range.text}}else{var tmp=this.element,selectionStart=0,selectionEnd=0;try{selectionStart=tmp.selectionStart}catch(err){}try{selectionEnd=tmp.selectionEnd}catch(err){}Spry.is.safari&&(2147483647==selectionStart&&(selectionStart=0),2147483647==selectionEnd&&(selectionEnd=0)),this.start=selectionStart,this.end=selectionEnd,this.length=selectionEnd-selectionStart,this.text=this.element.value.substring(selectionStart,selectionEnd)}},Spry.Widget.SelectionDescriptor.prototype.destroy=function(){try{delete this.range}catch(err){}try{delete this.element}catch(err){}},Spry.Widget.SelectionDescriptor.prototype.move=function(amount){if(Spry.is.ie&&Spry.is.windows)this.range.move("character",amount),this.range.select();else try{this.element.selectionStart++}catch(err){}this.update()},Spry.Widget.SelectionDescriptor.prototype.moveTo=function(start,end){if(Spry.is.ie&&Spry.is.windows){if("TEXTAREA"==this.element.nodeName){var ta_range=this.element.createTextRange();this.range=this.element.createTextRange(),this.range.move("character",start),this.range.moveEnd("character",end-start);this.range.compareEndPoints("StartToStart",ta_range)<0&&this.range.setEndPoint("StartToStart",ta_range);this.range.compareEndPoints("EndToEnd",ta_range)>0&&this.range.setEndPoint("EndToEnd",ta_range)}else"INPUT"==this.element.nodeName&&(this.range=this.element.ownerDocument.selection.createRange(),this.range.move("character",-1e4),this.start=this.range.moveStart("character",start),this.end=this.start+this.range.moveEnd("character",end-start));this.range.select()}else{this.start=start;try{this.element.selectionStart=start}catch(err){}this.end=end;try{this.element.selectionEnd=end}catch(err){}}this.ignore=!0,this.update()},Spry.Widget.SelectionDescriptor.prototype.moveEnd=function(amount){if(Spry.is.ie&&Spry.is.windows)this.range.moveEnd("character",amount),this.range.select();else try{this.element.selectionEnd++}catch(err){}this.update()},Spry.Widget.SelectionDescriptor.prototype.collapse=function(begin){if(Spry.is.ie&&Spry.is.windows)this.range=this.element.ownerDocument.selection.createRange(),this.range.collapse(begin),this.range.select();else if(begin)try{this.element.selectionEnd=this.element.selectionStart}catch(err){}else try{this.element.selectionStart=this.element.selectionEnd}catch(err){}this.update()},Spry.Widget.Form||(Spry.Widget.Form={}),Spry.Widget.Form.onSubmitWidgetQueue||(Spry.Widget.Form.onSubmitWidgetQueue=[]),Spry.Widget.Form.validate||(Spry.Widget.Form.validate=function(vform){for(var isValid=!0,isElementValid=!0,q=Spry.Widget.Form.onSubmitWidgetQueue,qlen=q.length,i=0;i<qlen;i++)q[i].isDisabled()||q[i].form!=vform||(isElementValid=q[i].validate(),isValid=isElementValid&&isValid);return isValid}),Spry.Widget.Form.onSubmit||(Spry.Widget.Form.onSubmit=function(e,form){return 0!=Spry.Widget.Form.validate(form)}),Spry.Widget.Form.onReset||(Spry.Widget.Form.onReset=function(e,vform){for(var q=Spry.Widget.Form.onSubmitWidgetQueue,qlen=q.length,i=0;i<qlen;i++)q[i].isDisabled()||q[i].form!=vform||"function"!=typeof q[i].reset||q[i].reset();return!0}),Spry.Widget.Form.destroy||(Spry.Widget.Form.destroy=function(form){for(var q=Spry.Widget.Form.onSubmitWidgetQueue,i=0;i<Spry.Widget.Form.onSubmitWidgetQueue.length;i++)q[i].form==form&&"function"==typeof q[i].destroy&&(q[i].destroy(),i--)}),Spry.Widget.Form.destroyAll||(Spry.Widget.Form.destroyAll=function(){for(var q=Spry.Widget.Form.onSubmitWidgetQueue,i=0;i<Spry.Widget.Form.onSubmitWidgetQueue.length;i++)"function"==typeof q[i].destroy&&(q[i].destroy(),i--)}),Spry.Widget.Utils||(Spry.Widget.Utils={}),Spry.Widget.Utils.punycode_constants={base:36,tmin:1,tmax:26,skew:38,damp:700,initial_bias:72,initial_n:128,delimiter:45,maxint:2<<25},Spry.Widget.Utils.punycode_encode_digit=function(d){return String.fromCharCode(d+22+75*(d<26))},Spry.Widget.Utils.punycode_adapt=function(delta,numpoints,firsttime){delta=firsttime?delta/this.punycode_constants.damp:delta>>1,delta+=delta/numpoints;for(var k=0;delta>(this.punycode_constants.base-this.punycode_constants.tmin)*this.punycode_constants.tmax/2;k+=this.punycode_constants.base)delta/=this.punycode_constants.base-this.punycode_constants.tmin;return k+(this.punycode_constants.base-this.punycode_constants.tmin+1)*delta/(delta+this.punycode_constants.skew)},Spry.Widget.Utils.punycode_encode=function(input,max_out){var inputc=input.split("");input=[];for(var i=0;i<inputc.length;i++)input.push(inputc[i].charCodeAt(0));var h,b,j,m,q,k,t,output="",input_len=input.length,n=this.punycode_constants.initial_n,delta=0,bias=this.punycode_constants.initial_bias,out=0;for(j=0;j<input_len;j++)if(input[j]<128){if(max_out-out<2)return!1;output+=String.fromCharCode(input[j]),out++}for(h=b=out,b>0&&(output+=String.fromCharCode(this.punycode_constants.delimiter),out++);h<input_len;){for(m=this.punycode_constants.maxint,j=0;j<input_len;j++)input[j]>=n&&input[j]<m&&(m=input[j]);if(m-n>(this.punycode_constants.maxint-delta)/(h+1))return!1;for(delta+=(m-n)*(h+1),n=m,j=0;j<input_len;j++){if(input[j]<n&&0==++delta)return!1;if(input[j]==n){for(q=delta,k=this.punycode_constants.base;!0;k+=this.punycode_constants.base){if(out>=max_out)return!1;if(t=k<=bias?this.punycode_constants.tmin:k>=bias+this.punycode_constants.tmax?this.punycode_constants.tmax:k-bias,q<t)break;output+=this.punycode_encode_digit(t+(q-t)%(this.punycode_constants.base-t)),out++,q=(q-t)/(this.punycode_constants.base-t)}output+=this.punycode_encode_digit(q),out++,bias=this.punycode_adapt(delta,h+1,h==b),delta=0,h++}}delta++,n++}return output},Spry.Widget.Utils.setOptions=function(obj,optionsObj,ignoreUndefinedProps){if(optionsObj)for(var optionName in optionsObj)ignoreUndefinedProps&&void 0==optionsObj[optionName]||(obj[optionName]=optionsObj[optionName])},Spry.Widget.Utils.firstValid=function(){for(var ret=null,i=0;i<Spry.Widget.Utils.firstValid.arguments.length;i++)if(void 0!==Spry.Widget.Utils.firstValid.arguments[i]){ret=Spry.Widget.Utils.firstValid.arguments[i];break}return ret},Spry.Widget.Utils.specialCharacters=",8,9,16,17,18,20,27,33,34,35,36,37,38,40,45,144,192,63232,",Spry.Widget.Utils.specialSafariNavKeys="63232,63233,63234,63235,63272,63273,63275,63276,63277,63289,",Spry.Widget.Utils.specialNotSafariCharacters="39,46,91,92,93,",Spry.Widget.Utils.specialCharacters+=Spry.Widget.Utils.specialSafariNavKeys,Spry.is.safari||(Spry.Widget.Utils.specialCharacters+=Spry.Widget.Utils.specialNotSafariCharacters),Spry.Widget.Utils.isSpecialKey=function(ev){return-1!=Spry.Widget.Utils.specialCharacters.indexOf(","+ev.keyCode+",")},Spry.Widget.Utils.getCharacterFromEvent=function(e){var keyDown="keydown"==e.type,code=null,character=null;return Spry.is.mozilla&&!keyDown?e.charCode?character=String.fromCharCode(e.charCode):code=e.keyCode:13!=(code=e.keyCode||e.which)&&(character=String.fromCharCode(code)),Spry.is.safari&&(keyDown?(code=e.keyCode||e.which,character=String.fromCharCode(code)):(code=e.keyCode||e.which,character=-1!=Spry.Widget.Utils.specialCharacters.indexOf(","+code+",")?null:String.fromCharCode(code))),Spry.is.opera&&(character=-1!=Spry.Widget.Utils.specialCharacters.indexOf(","+code+",")?null:String.fromCharCode(code)),character},Spry.Widget.Utils.getFirstChildWithNodeNameAtAnyLevel=function(node,nodeName){var elements=node.getElementsByTagName(nodeName);return elements?elements[0]:null},Spry.Widget.Utils.getFirstParentWithNodeName=function(node,nodeName){for(;node.parentNode&&node.parentNode.nodeName.toLowerCase()!=nodeName.toLowerCase()&&"BODY"!=node.parentNode.nodeName;)node=node.parentNode;return node.parentNode&&node.parentNode.nodeName.toLowerCase()==nodeName.toLowerCase()?node.parentNode:null},Spry.Widget.Utils.destroyWidgets=function(container){"string"==typeof container&&(container=document.getElementById(container));for(var q=Spry.Widget.Form.onSubmitWidgetQueue,i=0;i<Spry.Widget.Form.onSubmitWidgetQueue.length;i++)"function"==typeof q[i].destroy&&Spry.Widget.Utils.contains(container,q[i].element)&&(q[i].destroy(),i--)},Spry.Widget.Utils.contains=function(who,what){if("object"==typeof who.contains)return what&&who&&(who==what||who.contains(what));for(var el=what;el;){if(el==who)return!0;el=el.parentNode}return!1},Spry.Widget.Utils.addEventListener=function(element,eventType,handler,capture){try{element.addEventListener?element.addEventListener(eventType,handler,capture):element.attachEvent&&element.attachEvent("on"+eventType,handler,capture)}catch(e){}},Spry.Widget.Utils.removeEventListener=function(element,eventType,handler,capture){try{element.removeEventListener?element.removeEventListener(eventType,handler,capture):element.detachEvent&&element.detachEvent("on"+eventType,handler,capture)}catch(e){}},Spry.Widget.Utils.stopEvent=function(ev){try{this.stopPropagation(ev),this.preventDefault(ev)}catch(e){}},Spry.Widget.Utils.stopPropagation=function(ev){ev.stopPropagation?ev.stopPropagation():ev.cancelBubble=!0},Spry.Widget.Utils.preventDefault=function(ev){ev.preventDefault?ev.preventDefault():ev.returnValue=!1}}();
!function(){"undefined"==typeof Spry&&(window.Spry={}),Spry.Widget||(Spry.Widget={}),Spry.Widget.BrowserSniff=function(){var ua=(navigator.appName.toString(),navigator.platform.toString(),navigator.userAgent.toString());this.mozilla=this.ie=this.opera=this.safari=!1;var r=!1;if(r=ua.match(/Opera.([0-9\.]*)/i))this.opera=!0,this.version=parseFloat(r[1]);else if(r=ua.match(/MSIE.([0-9\.]*)/i))this.ie=!0,this.version=parseFloat(r[1]);else if(r=ua.match(/(applewebkit|safari)\/([\d\.]*)/i))this.safari=!0,this.version=parseFloat(r[2]);else if(ua.match(/gecko/i)){r=ua.match(/rv:\s*([0-9\.]+)/i),this.mozilla=!0,this.version=parseFloat(r[1])}this.windows=this.mac=this.linux=!1,this.Platform=ua.match(/windows/i)?"windows":ua.match(/linux/i)?"linux":ua.match(/mac/i)?"mac":ua.match(/unix/i)?"unix":"unknown",this[this.Platform]=!0,this.v=this.version,this.safari&&this.mac&&this.mozilla&&(this.mozilla=!1)},Spry.is=new Spry.Widget.BrowserSniff,Spry.Widget.ValidationTextarea=function(element,options){if(options=Spry.Widget.Utils.firstValid(options,{}),this.flags={locked:!1},this.options={},this.element=element,this.init(element),this.isBrowserSupported()){options.useCharacterMasking=Spry.Widget.Utils.firstValid(options.useCharacterMasking,!0),options.hint=Spry.Widget.Utils.firstValid(options.hint,""),options.isRequired=Spry.Widget.Utils.firstValid(options.isRequired,!0),options.additionalError=Spry.Widget.Utils.firstValid(options.additionalError,!1),Spry.Widget.Utils.setOptions(this,options),Spry.Widget.Utils.setOptions(this.options,options),options.additionalError&&(this.additionalError=this.getElement(options.additionalError));var validateOn=["submit"].concat(Spry.Widget.Utils.firstValid(this.options.validateOn,[]));validateOn=validateOn.join(","),this.validateOn=0,this.validateOn=this.validateOn|(-1!=validateOn.indexOf("submit")?Spry.Widget.ValidationTextarea.ONSUBMIT:0),this.validateOn=this.validateOn|(-1!=validateOn.indexOf("blur")?Spry.Widget.ValidationTextarea.ONBLUR:0),this.validateOn=this.validateOn|(-1!=validateOn.indexOf("change")?Spry.Widget.ValidationTextarea.ONCHANGE:0),Spry.Widget.ValidationTextarea.onloadDidFire?this.attachBehaviors():Spry.Widget.ValidationTextarea.loadQueue.push(this)}},Spry.Widget.ValidationTextarea.ONCHANGE=1,Spry.Widget.ValidationTextarea.ONBLUR=2,Spry.Widget.ValidationTextarea.ONSUBMIT=4,Spry.Widget.ValidationTextarea.INITIAL="Initial",Spry.Widget.ValidationTextarea.REQUIRED="Required",Spry.Widget.ValidationTextarea.INVALID="Invalid Format",Spry.Widget.ValidationTextarea.MINIMUM="Minimum Number of Chars Not Met",Spry.Widget.ValidationTextarea.MAXIMUM="Maximum Number of Chars Exceeded",Spry.Widget.ValidationTextarea.VALID="Valid",Spry.Widget.ValidationTextarea.prototype.init=function(element){this.element=this.getElement(element),this.event_handlers=[],this.requiredClass="textareaRequiredState",this.invalidCharsMaxClass="textareaMaxCharsState",this.invalidCharsMinClass="textareaMinCharsState",this.validClass="textareaValidState",this.focusClass="textareaFocusState",this.hintClass="textareaHintState",this.textareaFlashClass="textareaFlashState",this.isMaxInvalid=!1,this.isMinInvalid=!1,this.isRequireInvalid=!1,this.safariClicked=!1,this.state=Spry.Widget.ValidationTextarea.INITIAL},Spry.Widget.ValidationTextarea.prototype.destroy=function(){if(this.event_handlers)for(var i=0;i<this.event_handlers.length;i++)Spry.Widget.Utils.removeEventListener(this.event_handlers[i][0],this.event_handlers[i][1],this.event_handlers[i][2],!1);try{delete this.element}catch(err){}try{delete this.input}catch(err){}try{delete this.counterEl}catch(err){}try{delete this.form}catch(err){}try{delete this.event_handlers}catch(err){}try{this.cursorPosition.destroy()}catch(err){}try{delete this.cursorPosition}catch(err){}try{this.initialCursor.destroy()}catch(err){}try{delete this.initialCursor}catch(err){}for(var q=Spry.Widget.Form.onSubmitWidgetQueue,qlen=q.length,i=0;i<qlen;i++)if(q[i]==this){q.splice(i,1);break}},Spry.Widget.ValidationTextarea.prototype.isDisabled=function(){return this.input&&(this.input.disabled||this.input.readOnly)||!this.input},Spry.Widget.ValidationTextarea.prototype.getElement=function(ele){return ele&&"string"==typeof ele?document.getElementById(ele):ele},Spry.Widget.ValidationTextarea.addLoadListener=function(handler){void 0!==window.addEventListener?window.addEventListener("load",handler,!1):void 0!==document.addEventListener?document.addEventListener("load",handler,!1):void 0!==window.attachEvent&&window.attachEvent("onload",handler)},Spry.Widget.ValidationTextarea.processLoadQueue=function(handler){Spry.Widget.ValidationTextarea.onloadDidFire=!0;for(var q=Spry.Widget.ValidationTextarea.loadQueue,qlen=q.length,i=0;i<qlen;i++)q[i].attachBehaviors()},Spry.Widget.ValidationTextarea.onloadDidFire=!1,Spry.Widget.ValidationTextarea.loadQueue=[],Spry.Widget.ValidationTextarea.addLoadListener(Spry.Widget.ValidationTextarea.processLoadQueue),Spry.Widget.ValidationTextarea.addLoadListener(function(){Spry.Widget.Utils.addEventListener(window,"unload",Spry.Widget.Form.destroyAll,!1)}),Spry.Widget.ValidationTextarea.prototype.isBrowserSupported=function(){return Spry.is.ie&&Spry.is.v>=5&&Spry.is.windows||Spry.is.mozilla&&Spry.is.v>=1.4||Spry.is.safari||Spry.is.opera&&Spry.is.v>=9},Spry.Widget.ValidationTextarea.prototype.attachBehaviors=function(){if(this.element&&("TEXTAREA"==this.element.nodeName?this.input=this.element:this.input=Spry.Widget.Utils.getFirstChildWithNodeNameAtAnyLevel(this.element,"TEXTAREA")),this.options&&this.options.counterType&&("chars_count"==this.options.counterType||"chars_remaining"==this.options.counterType)&&(this.counterEl=document.getElementById(this.options.counterId),this.counterChar()),this.input){this.input.setAttribute("AutoComplete","off"),this.putHint(),this.cursorPosition=new Spry.Widget.SelectionDescriptor(this.input);var self=this;this.event_handlers=[],this.useCharacterMasking&&(Spry.is.ie?(this.event_handlers.push([this.input,"propertychange",function(e){return self.onKeyEvent(e||event)}]),this.event_handlers.push([this.input,"drop",function(e){return self.onDrop(e||event)}]),this.event_handlers.push([this.input,"keypress",function(e){return self.onKeyPress(e||event)}])):(this.event_handlers.push([this.input,"keydown",function(e){return self.onKeyDown(e)}]),this.event_handlers.push([this.input,"keypress",function(e){return self.safariKeyPress(e)}]),this.event_handlers.push([this.input,"keyup",function(e){return self.safariValidate(e)}]),Spry.is.safari?(this.event_handlers.push([this.input,"mouseup",function(e){return self.safariMouseUp(e)}]),this.event_handlers.push([this.input,"mousedown",function(e){return self.safariMouseDown(e)}])):(this.event_handlers.push([this.input,"dragdrop",function(e){return self.onKeyEvent(e)}]),this.event_handlers.push([this.input,"dragenter",function(e){return self.removeHint(),self.onKeyDown(e)}]),this.event_handlers.push([this.input,"dragexit",function(e){return self.putHint()}]))),this.event_handlers.push([this.input,"keydown",function(e){return self.onKeyDown(e||event)}])),this.event_handlers.push([this.input,"focus",function(e){return self.onFocus(e||event)}]),this.event_handlers.push([this.input,"mousedown",function(e){return self.onMouseDown(e||event)}]),this.event_handlers.push([this.input,"blur",function(e){return self.onBlur(e||event)}]),this.validateOn&Spry.Widget.ValidationTextarea.ONCHANGE&&(Spry.is.ie?(this.event_handlers.push([this.input,"propertychange",function(e){return self.onChange(e||event)}]),this.event_handlers.push([this.input,"drop",function(e){return self.onChange(e||event)}])):(this.event_handlers.push([this.input,"keydown",function(e){return self.onKeyDown(e)}]),this.event_handlers.push([this.input,"keypress",function(e){return self.safariChangeKeyPress(e)}]),this.event_handlers.push([this.input,"keyup",function(e){return self.safariChangeValidate(e)}]),Spry.is.safari?(this.event_handlers.push([this.input,"mouseup",function(e){return self.safariChangeMouseUp(e)}]),this.event_handlers.push([this.input,"mousedown",function(e){return self.safariMouseDown(e)}])):(this.event_handlers.push([this.input,"dragdrop",function(e){return self.onChange(e)}]),this.event_handlers.push([this.input,"dragenter",function(e){return self.removeHint(),self.onKeyDown(e)}]),this.event_handlers.push([this.input,"dragexit",function(e){return self.putHint()}])))),this.validateOn&Spry.Widget.ValidationTextarea.ONCHANGE||this.useCharacterMasking||(Spry.is.ie?(this.event_handlers.push([this.input,"propertychange",function(e){return self.counterChar()}]),this.event_handlers.push([this.input,"drop",function(e){return self.counterChar()}])):(this.event_handlers.push([this.input,"keypress",function(e){return self.counterChar()}]),this.event_handlers.push([this.input,"keyup",function(e){return self.counterChar()}]),Spry.is.safari?this.event_handlers.push([this.input,"mouseup",function(e){return self.counterChar()}]):this.event_handlers.push([this.input,"dragdrop",function(e){return self.counterChar()}])));for(var i=0;i<this.event_handlers.length;i++)Spry.Widget.Utils.addEventListener(this.event_handlers[i][0],this.event_handlers[i][1],this.event_handlers[i][2],!1);this.form=Spry.Widget.Utils.getFirstParentWithNodeName(this.input,"FORM"),this.form&&(this.form.attachedSubmitHandler||this.form.onsubmit||(this.form.onsubmit=function(e){return e=e||event,Spry.Widget.Form.onSubmit(e,e.srcElement||e.currentTarget)},this.form.attachedSubmitHandler=!0),this.form.attachedResetHandler||(Spry.Widget.Utils.addEventListener(this.form,"reset",function(e){return e=e||event,Spry.Widget.Form.onReset(e,e.srcElement||e.currentTarget)},!1),this.form.attachedResetHandler=!0),Spry.Widget.Form.onSubmitWidgetQueue.push(this))}this.saveState()},Spry.Widget.ValidationTextarea.prototype.onTyping=function(e){if(1!=this.input.disabled&&1!=this.input.readOnly){if(this.initialCursor||(this.initialCursor=this.cursorPosition),this.flags.locked)return!0;var val=this.input.value,ret=!0;if(this.flags.hintOn)return!0;if(e&&this.input&&this.options&&this.options.maxChars>0&&ret)if(val.length>this.options.maxChars&&(!Spry.Widget.Utils.isSpecialKey(e)&&this.cursorPosition.start==this.cursorPosition.end||Spry.Widget.Utils.isSpecialKey(e)&&val!=this.initialValue||this.cursorPosition.start!=this.cursorPosition.end)){this.flags.locked=!0;var initial=this.initialValue,start=this.initialCursor.start,end=this.initialCursor.end;if(initial.length&&this.initialCursor.end<initial.length){var tmp=end-start+this.options.maxChars-initial.length,newValue=initial.substring(0,start)+val.substring(start,start+tmp)+initial.substring(end,initial.length<this.options.maxChars?initial.length:this.options.maxChars);end=start+tmp}else{var newValue=val.substring(0,this.options.maxChars);end=start=this.options.maxChars}Spry.is.ie?this.input.innerText=newValue:this.input.value=newValue,this.redTextFlash(),this.cursorPosition.moveTo(end,end),this.flags.locked=!1,ret=!1}else this.setState(Spry.Widget.ValidationTextarea.VALID),this.isMaxInvalid=!1;return this.counterChar(),ret}},Spry.Widget.ValidationTextarea.prototype.validateMinRequired=function(val){var oldInvalid=!1;void 0===this.notFireMinYet?this.notFireMinYet=!1:(oldInvalid=!0,this.notFireMinYet=!0),this.onBlurOn?this.notFireMinYet=!0:this.onKeyEventOn||(this.notFireMinYet=!0),this.input&&this.options&&this.options.isRequired&&(val.length>0&&this.isRequireInvalid&&(!this.hint||this.hint&&!this.flags.hintOn||this.hint&&val!=this.hint)?(this.switchClassName(this.validClass),this.setState(Spry.Widget.ValidationTextarea.VALID),this.isRequireInvalid=!1):0!=val.length&&(!this.hint||this.hint&&!this.flags.hintOn||this.hint&&val!=this.hint)||this.isRequireInvalid&&!oldInvalid||((this.notFireMinYet||Spry.is.ie)&&(this.switchClassName(this.requiredClass),this.setState(Spry.Widget.ValidationTextarea.REQUIRED)),this.isRequireInvalid=!0,this.isMinInvalid=!1)),this.input&&this.options&&this.options.minChars>0&&!this.isRequireInvalid&&(val.length>=this.options.minChars&&(!this.hint||this.hint&&!this.flags.hintOn||this.hint&&val!=this.hint)&&this.isMinInvalid?(this.switchClassName(this.validClass),this.setState(Spry.Widget.ValidationTextarea.VALID),this.isMinInvalid=!1):(val.length<this.options.minChars||this.hint&&val==this.hint&&this.flags.hintOn)&&!this.isMinInvalid&&(this.switchClassName(this.invalidCharsMinClass),this.setState(Spry.Widget.ValidationTextarea.MINIMUM),this.isMinInvalid=!0))},Spry.Widget.ValidationTextarea.prototype.counterChar=function(){this.counterEl&&this.options&&this.options.counterType&&("chars_remaining"==this.options.counterType||"chars_count"==this.options.counterType)&&("chars_remaining"==this.options.counterType?this.options.maxChars>0&&(this.flags.hintOn?this.setCounterElementValue(this.options.maxChars):this.options.maxChars>this.input.value.length?this.setCounterElementValue(this.options.maxChars-this.input.value.length):this.setCounterElementValue(0)):this.flags.hintOn?this.setCounterElementValue(0):this.useCharacterMasking&&void 0!==this.options.maxChars&&this.options.maxChars<this.input.value.length?this.setCounterElementValue(this.options.maxChars):this.setCounterElementValue(this.input.value.length))},Spry.Widget.ValidationTextarea.prototype.setCounterElementValue=function(val){"input"!=this.counterEl.nodeName.toLowerCase()&&"textarea"!=this.counterEl.nodeName.toLowerCase()&&"select"!=this.counterEl.nodeName.toLowerCase()&&"img"!=this.counterEl.nodeName.toLowerCase()&&(this.counterEl.innerHTML=val)},Spry.Widget.ValidationTextarea.prototype.reset=function(){this.removeHint(),this.removeClassName(this.requiredClass),this.removeClassName(this.invalidCharsMinClass),this.removeClassName(this.invalidCharsMaxClass),this.removeClassName(this.validClass),this.setState(Spry.Widget.ValidationTextarea.INITIAL);var self=this;setTimeout(function(){self.putHint(),self.counterChar()},10)},Spry.Widget.ValidationTextarea.prototype.validate=function(){if(1==this.input.disabled||1==this.input.readOnly)return!0;this.validateOn&Spry.Widget.ValidationTextarea.ONSUBMIT&&this.removeHint();var val=this.input.value;this.validateMinRequired(val);var ret=!this.isMinInvalid&&!this.isRequireInvalid;return ret&&this.options.maxChars>0&&!this.useCharacterMasking&&(val.length<=this.options.maxChars||this.hint&&this.hint==val&&this.flags.hintOn?(this.switchClassName(this.validClass),this.setState(Spry.Widget.ValidationTextarea.VALID),this.isMaxInvalid=!1):(this.switchClassName(this.invalidCharsMaxClass),this.setState(Spry.Widget.ValidationTextarea.MAXIMUM),this.isMaxInvalid=!0)),ret=ret&&!this.isMaxInvalid,ret&&this.switchClassName(this.validClass),this.counterChar(),ret},Spry.Widget.ValidationTextarea.prototype.setState=function(newstate){this.state=newstate},Spry.Widget.ValidationTextarea.prototype.getState=function(){return this.state},Spry.Widget.ValidationTextarea.prototype.removeHint=function(){this.flags.hintOn&&(this.flags.locked=!0,this.input.value="",this.flags.locked=!1,this.flags.hintOn=!1,this.removeClassName(this.hintClass))},Spry.Widget.ValidationTextarea.prototype.putHint=function(){this.hint&&""==this.input.value&&(this.flags.hintOn=!0,this.input.value=this.hint,this.addClassName(this.hintClass))},Spry.Widget.ValidationTextarea.prototype.redTextFlash=function(){var self=this;this.addClassName(this.textareaFlashClass),setTimeout(function(){self.removeClassName(self.textareaFlashClass)},200)},Spry.Widget.ValidationTextarea.prototype.onKeyPress=function(e){if(Spry.is.ie&&Spry.is.windows&&13==e.keyCode&&this.initialCursor.length+this.options.maxChars-this.input.value.length<2)return Spry.Widget.Utils.stopEvent(e),!1},Spry.Widget.ValidationTextarea.prototype.onKeyDown=function(e){return this.saveState(),this.keyCode=e.keyCode,!0},Spry.Widget.ValidationTextarea.prototype.onKeyEvent=function(e){if("propertychange"==e.type&&"value"!=e.propertyName)return!0;this.onTyping(e)||Spry.Widget.Utils.stopEvent(e)},Spry.Widget.ValidationTextarea.prototype.onChange=function(e){if(Spry.is.ie&&e&&"propertychange"==e.type&&"value"!=e.propertyName)return!0;if(this.flags.drop){var self=this;return setTimeout(function(){self.flags.drop=!1,self.onChange(null)},0),!0}if(this.flags.hintOn)return!0;this.onKeyEventOn=!0;var answer=this.validate();return this.onKeyEventOn=!1,answer},Spry.Widget.ValidationTextarea.prototype.onMouseDown=function(e){this.flags.active&&this.saveState()},Spry.Widget.ValidationTextarea.prototype.onDrop=function(e){if(this.flags.drop=!0,this.removeHint(),Spry.is.ie){var rng=document.body.createTextRange();rng.moveToPoint(e.x,e.y),rng.select()}this.saveState(),this.flags.active=!0,this.addClassName(this.focusClass)},Spry.Widget.ValidationTextarea.prototype.onFocus=function(e){this.flags.drop||(this.removeHint(),this.saveState(),this.flags.active=!0,this.addClassName(this.focusClass))},Spry.Widget.ValidationTextarea.prototype.onBlur=function(e){this.removeClassName(this.focusClass),this.validateOn&Spry.Widget.ValidationTextarea.ONBLUR&&(this.onBlurOn=!0,this.validate(),this.onBlurOn=!1),this.flags.active=!1;var self=this;setTimeout(function(){self.putHint()},10)},Spry.Widget.ValidationTextarea.prototype.safariMouseDown=function(e){this.safariClicked=!0},Spry.Widget.ValidationTextarea.prototype.safariChangeMouseUp=function(e){return this.safariClicked?(this.safariClicked=!1,!0):(this.onKeyDown(e),this.safariChangeValidate(e,!1))},Spry.Widget.ValidationTextarea.prototype.safariMouseUp=function(e){return this.safariClicked?(this.safariClicked=!1,!0):(this.onKeyDown(e),this.safariValidate(e,!1))},Spry.Widget.ValidationTextarea.prototype.safariKeyPress=function(e){return this.safariFlag=new Date,this.safariValidate(e,!0)},Spry.Widget.ValidationTextarea.prototype.safariValidate=function(e,recall){if(e.keyCode&&Spry.Widget.Utils.isSpecialKey(e)&&8!=e.keyCode&&46!=e.keyCode)return!0;var answer=this.onTyping(e);if(new Date-this.safariFlag<1e3&&recall){var self=this;setTimeout(function(){self.safariValidate(e,!1)},1e3)}return answer},Spry.Widget.ValidationTextarea.prototype.safariChangeKeyPress=function(e){return this.safariChangeFlag=new Date,this.safariChangeValidate(e,!0)},Spry.Widget.ValidationTextarea.prototype.safariChangeValidate=function(e,recall){if(e.keyCode&&Spry.Widget.Utils.isSpecialKey(e)&&8!=e.keyCode&&46!=e.keyCode)return!0;var answer=this.onChange(e);if(new Date-this.safariChangeFlag<1e3&&recall){var self=this;setTimeout(function(){self.safariChangeValidate(e,!1)},1e3-new Date+this.safariChangeFlag)}return answer},Spry.Widget.ValidationTextarea.prototype.saveState=function(e){if(!(this.options.maxChars>0&&this.input.value.length>this.options.maxChars))return this.cursorPosition.update(),this.flags.hintOn?this.initialValue="":this.initialValue=this.input.value,this.initialCursor=this.cursorPosition,!0},Spry.Widget.ValidationTextarea.prototype.checkClassName=function(ele,className){return!(!ele||!className)&&(!("string"==typeof ele&&!(ele=document.getElementById(ele)))&&(ele.className||(ele.className=" "),ele))},Spry.Widget.ValidationTextarea.prototype.switchClassName=function(className){for(var classes=[this.invalidCharsMaxClass,this.validClass,this.requiredClass,this.invalidCharsMinClass],k=0;k<classes.length;k++)classes[k]!=className&&this.removeClassName(classes[k]);this.addClassName(className)},Spry.Widget.ValidationTextarea.prototype.addClassName=function(clssName){var ele=this.checkClassName(this.element,clssName),add=this.checkClassName(this.additionalError,clssName);ele&&-1==ele.className.search(new RegExp("\\b"+clssName+"\\b"))&&(this.element.className+=" "+clssName,add&&(add.className+=" "+clssName))},Spry.Widget.ValidationTextarea.prototype.removeClassName=function(className){var ele=this.checkClassName(this.element,className),add=this.checkClassName(this.additionalError,className);ele&&(ele.className=ele.className.replace(new RegExp("\\s*\\b"+className+"\\b","g"),""),add&&(add.className=add.className.replace(new RegExp("\\s*\\b"+className+"\\b","g"),"")))},Spry.Widget.SelectionDescriptor=function(element){this.element=element,this.update()},Spry.Widget.SelectionDescriptor.prototype.update=function(){if(Spry.is.ie&&Spry.is.windows){var sel=this.element.ownerDocument.selection;if("TEXTAREA"==this.element.nodeName){if("None"!=sel.type){try{var range=sel.createRange()}catch(err){return}if(range.parentElement()==this.element){var range_all=this.element.ownerDocument.body.createTextRange();range_all.moveToElementText(this.element);for(var sel_start=0;range_all.compareEndPoints("StartToStart",range)<0;sel_start++)range_all.moveStart("character",1);this.start=sel_start,range_all=this.element.ownerDocument.body.createTextRange(),range_all.moveToElementText(this.element);for(var sel_end=0;range_all.compareEndPoints("StartToEnd",range)<0;sel_end++)range_all.moveStart("character",1);this.end=sel_end,this.length=this.end-this.start,this.text=range.text}}}else if("INPUT"==this.element.nodeName){try{this.range=sel.createRange()}catch(err){return}this.length=this.range.text.length;var clone=this.range.duplicate();this.start=-clone.moveStart("character",-1e4),clone=this.range.duplicate(),clone.collapse(!1),this.end=-clone.moveStart("character",-1e4),this.text=this.range.text}}else{var tmp=this.element,selectionStart=0,selectionEnd=0;try{selectionStart=tmp.selectionStart}catch(err){}try{selectionEnd=tmp.selectionEnd}catch(err){}Spry.is.safari&&(2147483647==selectionStart&&(selectionStart=0),2147483647==selectionEnd&&(selectionEnd=0)),this.start=selectionStart,this.end=selectionEnd,this.length=selectionEnd-selectionStart,this.text=this.element.value.substring(selectionStart,selectionEnd)}},Spry.Widget.SelectionDescriptor.prototype.destroy=function(){try{delete this.range}catch(err){}try{delete this.element}catch(err){}},Spry.Widget.SelectionDescriptor.prototype.moveTo=function(start,end){if(Spry.is.ie&&Spry.is.windows){if("TEXTAREA"==this.element.nodeName){var ta_range=this.element.createTextRange();this.range=this.element.createTextRange(),this.range.move("character",start),this.range.moveEnd("character",end-start);this.range.compareEndPoints("StartToStart",ta_range)<0&&this.range.setEndPoint("StartToStart",ta_range);this.range.compareEndPoints("EndToEnd",ta_range)>0&&this.range.setEndPoint("EndToEnd",ta_range)}else"INPUT"==this.element.nodeName&&(this.range=this.element.ownerDocument.selection.createRange(),this.range.move("character",-1e4),this.start=this.range.moveStart("character",start),this.end=this.start+this.range.moveEnd("character",end-start));this.range.select()}else{this.start=start;try{this.element.selectionStart=start}catch(err){}this.end=end;try{this.element.selectionEnd=end}catch(err){}}this.ignore=!0,this.update()},Spry.Widget.Form||(Spry.Widget.Form={}),Spry.Widget.Form.onSubmitWidgetQueue||(Spry.Widget.Form.onSubmitWidgetQueue=[]),Spry.Widget.Form.validate||(Spry.Widget.Form.validate=function(vform){for(var isValid=!0,isElementValid=!0,q=Spry.Widget.Form.onSubmitWidgetQueue,qlen=q.length,i=0;i<qlen;i++)q[i].isDisabled()||q[i].form!=vform||(isElementValid=q[i].validate(),isValid=isElementValid&&isValid);return isValid}),Spry.Widget.Form.onSubmit||(Spry.Widget.Form.onSubmit=function(e,form){return 0!=Spry.Widget.Form.validate(form)}),Spry.Widget.Form.onReset||(Spry.Widget.Form.onReset=function(e,vform){for(var q=Spry.Widget.Form.onSubmitWidgetQueue,qlen=q.length,i=0;i<qlen;i++)q[i].isDisabled()||q[i].form!=vform||"function"!=typeof q[i].reset||q[i].reset();return!0}),Spry.Widget.Form.destroy||(Spry.Widget.Form.destroy=function(form){for(var q=Spry.Widget.Form.onSubmitWidgetQueue,i=0;i<Spry.Widget.Form.onSubmitWidgetQueue.length;i++)q[i].form==form&&"function"==typeof q[i].destroy&&(q[i].destroy(),i--)}),Spry.Widget.Form.destroyAll||(Spry.Widget.Form.destroyAll=function(){for(var q=Spry.Widget.Form.onSubmitWidgetQueue,i=0;i<Spry.Widget.Form.onSubmitWidgetQueue.length;i++)"function"==typeof q[i].destroy&&(q[i].destroy(),i--)}),Spry.Widget.Utils||(Spry.Widget.Utils={}),Spry.Widget.Utils.setOptions=function(obj,optionsObj,ignoreUndefinedProps){if(optionsObj)for(var optionName in optionsObj)ignoreUndefinedProps&&void 0==optionsObj[optionName]||(obj[optionName]=optionsObj[optionName])},Spry.Widget.Utils.firstValid=function(){for(var ret=null,i=0;i<Spry.Widget.Utils.firstValid.arguments.length;i++)if(void 0!==Spry.Widget.Utils.firstValid.arguments[i]){ret=Spry.Widget.Utils.firstValid.arguments[i];break}return ret},Spry.Widget.Utils.specialSafariNavKeys=",63232,63233,63234,63235,63272,63273,63275,63276,63277,63289,",Spry.Widget.Utils.specialCharacters=",8,9,16,17,18,20,27,33,34,35,36,37,38,39,40,45,46,91,92,93,144,192,63232,",Spry.Widget.Utils.specialCharacters+=Spry.Widget.Utils.specialSafariNavKeys,Spry.Widget.Utils.isSpecialKey=function(ev){return-1!=Spry.Widget.Utils.specialCharacters.indexOf(","+ev.keyCode+",")},Spry.Widget.Utils.getFirstChildWithNodeNameAtAnyLevel=function(node,nodeName){var elements=node.getElementsByTagName(nodeName);return elements?elements[0]:null},Spry.Widget.Utils.getFirstParentWithNodeName=function(node,nodeName){for(;node.parentNode&&node.parentNode.nodeName.toLowerCase()!=nodeName.toLowerCase()&&"BODY"!=node.parentNode.nodeName;)node=node.parentNode;return node.parentNode&&node.parentNode.nodeName.toLowerCase()==nodeName.toLowerCase()?node.parentNode:null},Spry.Widget.Utils.destroyWidgets=function(container){"string"==typeof container&&(container=document.getElementById(container));for(var q=Spry.Widget.Form.onSubmitWidgetQueue,i=0;i<Spry.Widget.Form.onSubmitWidgetQueue.length;i++)"function"==typeof q[i].destroy&&Spry.Widget.Utils.contains(container,q[i].element)&&(q[i].destroy(),i--)},Spry.Widget.Utils.contains=function(who,what){if("object"==typeof who.contains)return what&&who&&(who==what||who.contains(what));for(var el=what;el;){if(el==who)return!0;el=el.parentNode}return!1},Spry.Widget.Utils.addEventListener=function(element,eventType,handler,capture){try{element.addEventListener?element.addEventListener(eventType,handler,capture):element.attachEvent&&element.attachEvent("on"+eventType,handler,capture)}catch(e){}},Spry.Widget.Utils.removeEventListener=function(element,eventType,handler,capture){try{element.removeEventListener?element.removeEventListener(eventType,handler,capture):element.detachEvent&&element.detachEvent("on"+eventType,handler,capture)}catch(e){}},Spry.Widget.Utils.stopEvent=function(ev){try{this.stopPropagation(ev),this.preventDefault(ev)}catch(e){}},Spry.Widget.Utils.stopPropagation=function(ev){ev.stopPropagation?ev.stopPropagation():ev.cancelBubble=!0},Spry.Widget.Utils.preventDefault=function(ev){ev.preventDefault?ev.preventDefault():ev.returnValue=!1}}();
function onreturncallBack(){return 0==grecaptcha.getResponse().length?($(".captchaRequiredMsg").show(),!1):($(".captchaRequiredMsg").hide(),!0)}var emailmandatoryval=$("#emailmandatory").val();if(emailmandatoryval)var sprytextfield3=new Spry.Widget.ValidationTextField("emailVal","email",{validateOn:["blur","change"],minChars:1,maxChars:50});var verifyemailmandatoryval=$("#verifyemailmandatory").val();if(verifyemailmandatoryval)var verifyemail9=new Spry.Widget.ValidationConfirm("verifyemailVal","emailVal",{validateOn:["blur","change"]});var firstnamemandatoryval=$("#firstnamemandatory").val();if(firstnamemandatoryval)var sprytextfield1=new Spry.Widget.ValidationTextField("sprytextfield1","none",{validateOn:["blur","change"]});var lastnamemandatoryval=$("#lastnamemandatory").val();if(lastnamemandatoryval)var sprytextfield2=new Spry.Widget.ValidationTextField("sprytextfield2","none",{validateOn:["blur","change"]});var phonemandatoryval=$("#phonemandatory").val();if(phonemandatoryval)var sprytextfield4=new Spry.Widget.ValidationTextField("sprytextfield4","integer",{validateOn:["blur","change"],maxChars:10});var subjecttextfieldmandatoryval=$("#subjecttextfieldmandatory").val();if(subjecttextfieldmandatoryval)var sprytextfield5=new Spry.Widget.ValidationTextField("subjectTextField","none",{validateOn:["blur","change"],minChars:1,maxChars:50});var messagemandatoryval=$("#messagemandatory").val();if(messagemandatoryval)var sprytextarea1=new Spry.Widget.ValidationTextarea("message",{validateOn:["blur","change"],minChars:1,maxChars:50});var addressmandatoryval=$("#addressmandatory").val();if(addressmandatoryval)var sprytextfield7=new Spry.Widget.ValidationTextField("address","none",{validateOn:["blur","change"]});var forrequestonmandatoryval=$("#forrequestonmandatory").val();if(forrequestonmandatoryval)var spryselect2=new Spry.Widget.ValidationSelect("requeston",{validateOn:["blur","change"],invalidValue:"-1"});var requesttomandatoryval=$("#requesttomandatory").val();if(requesttomandatoryval)var spryselect3=new Spry.Widget.ValidationSelect("germanyrequestto",{validateOn:["blur","change"],invalidValue:"-1"});var provincemandatoryval=$("#provincemandatory").val();if(provincemandatoryval)var spryselect4=new Spry.Widget.ValidationSelect("province",{validateOn:["blur","change"],invalidValue:"-1"});var zipmandatoryval=$("#zipmandatory").val();if(zipmandatoryval)var sprytextfield8=new Spry.Widget.ValidationTextField("valZip","none",{validateOn:["blur","change"]});var privacymandatoryval=$("#privacymandatory").val();if(privacymandatoryval)var sprycheckbox1=new Spry.Widget.ValidationCheckbox("sprycheckbox1",{validateOn:["blur","change"]});$("form#contactUsGlobalForm").submit(function(){onreturncallBack()});
function imgSwap(){$(".imgSwap").each(function(){var deskImg=$(this).attr("desk-img"),mobImg=$(this).attr("mob-img");$(window).width()>767?$(this).attr("src",deskImg):$(this).attr("src",mobImg)})}$(document).ready(function(){imgSwap()}),$(window).resize(function(){imgSwap()});
