(function(e){showDefaultMenu=function(t,n,r,i){e("ul:first",r).children("ul").show();if(e(r).find("ul").is(".submenu")){var s=e(r).children("ul.submenu");if(n.Orientation.toLowerCase()=="vertical"||e(r).parent().is(".submenu")){s.css("left",s.parent().outerWidth(true));e(r).css("position","relative");var o=e(r).children("a,span").offset().top-e(r).offset().top;o=o+e(r).children("a,span").outerHeight(true);s.css("margin-top","-"+o+"px");s.css("margin-left","0px");var u=e(r).offset().left+e(r).outerWidth(true);if(u+s.outerWidth()>e(window).width()){s.css("left","0px").css("left","-"+s.outerWidth()+"px")}}else{var a=e(r).children("a,span").offset().left-e(r).offset().left;if(a>0){s.css("margin-left","-"+a+"px")}}}e("ul:first",r).slideDown(i)};hideDefaultMenu=function(t,n,r,i){e("ul:first",r).hide()};showAccordionMenu=function(t,n,r,i){if(e(r).children("ul").is(".submenu")){e("ul",r).show().css("position","relative");e(r).children("ul").slideDown(i)}};hideAccordionMenu=function(t,n,r,i){if(e(r).children("ul").is(".submenu")){e(r).children("ul").slideUp(i)}};showMegaMenu=function(t,n,r,i){e("ul.submenu",t).hide();var s=e(r).parent().offset().left+e(r).parent().outerWidth(true);if(e(r).children("ul").is(".submenu")){var o=e(r).children("ul.submenu");o.css("position","absolute");o.css("top","39px");if(n.Orientation.toLowerCase()=="vertical"){o.css("left",o.parent().outerWidth(true));e(r).css("position","relative");var u=e(r).children("a,span").offset().top-e(r).offset().top;u=u+e(r).children("a,span").outerHeight(true);o.css("margin-top","-"+u+"px");o.css("margin-left","0px");var a=e(r).offset().left+e(r).outerWidth(true);if(a+o.outerWidth()>e(window).width()){o.css("left","0px").css("left","-"+o.outerWidth()+"px")}}else{var f=e(r).find("a,span").offset().left-e(r).offset().left;if(f>0){o.css("margin-left","-"+f+"px")}var l=e(r).find("a,span").offset().top-e(r).offset().top;if(l>0){o.css("margin-top",l+"px")}o.css("opacity","0").show();if(n.Orientation.toLowerCase()=="horizontal"){var c=e(r).offset().left;if(s<c){var u=c-s;o.css("margin-left",f-u+"px")}}o.hide().css("opacity","1")}}e("ul.submenu",r).slideDown(i)};hideMegaMenu=function(t,n,r,i){e("ul.submenu",t).hide()};e.fn.BindMENU=function(t){var n="fast";var r="hover";if(t.Speed!=null){n=t.Speed.toLowerCase()}if(t.Event!=null){if(t.Event.toLowerCase()=="hover"||t.Event.toLowerCase()=="mouseover"){r="hover"}else{if(t.Event.toLowerCase()=="click"||t.Event.toLowerCase()=="mouseclick"){r="click"}}}e("ul",this).addClass("submenu");e(".submenu",this).css("display","none");if(navigator.userAgent.indexOf("MSIE 7")!=-1){e("ul.submenu",this).before('<div style="height: 0px; line-height: 0px; clear: both; overflow: hidden; font-size:0px; position:fixed" />')}var i=e(this);if(t.Orientation.toLowerCase()=="horizontal"&&t.MenuStyle.toLowerCase()=="accordion"||t.MenuStyle.toLowerCase()=="defaultmenu"){e("ul.submenu",this).hide().css("position","absolute");if(r=="hover"){e("li",this).hover(function(){showDefaultMenu(i,t,this,n)},function(){hideDefaultMenu(i,t,this,n)})}else{e("li > a, li > span",this).click(function(r){var s=e(this).parent("li");if(e(s).children("ul").is(".submenu")){r.preventDefault();if(e(s).children("ul").css("display")!="none"){hideDefaultMenu(i,t,s,n)}else{e(this).closest("ul").children("li").children("a, span").not(this).parent().find("ul").hide();showDefaultMenu(i,t,s,n)}}else{e(i).find("ul.submenu").hide()}})}}if(t.Orientation.toLowerCase()=="vertical"&&t.MenuStyle.toLowerCase()=="accordion"){e(this).closest("#MenuV").addClass("accordion");e(this).children("li").children("ul").hide();if(r=="hover"){e(this).children("li").hover(function(e){e.stopPropagation();showAccordionMenu(i,t,this,n)},function(e){e.stopPropagation();hideAccordionMenu(i,t,this,n)})}else{e("li > a, li > span",this).click(function(r){var s=e(this).parent("li");if(e(s).children("ul").is(".submenu")){r.preventDefault();r.stopPropagation();if(e(s).children("ul").css("display")!="none"){hideAccordionMenu(i,t,s,n)}else{showAccordionMenu(i,t,s,n)}}})}}if(t.MenuStyle.toLowerCase()=="megamenu"){e(this).parent().addClass("megamenu");e(".submenu",this).css("display","block");e(this).children("li").children("ul").each(function(){if(e(this).children("li").children("ul").is(".submenu")){e(this).parent().addClass("mega");var t=e(this).outerWidth()-e(this).width();var n="0";e(this).css("position","absolute");e(".submenu",this).css("display","block").css("position","relative");e(this).children("li").css("display","block").css("float","left");e(this).children("li").each(function(){t+=e(this).outerWidth(true)+7;if(e(this).outerHeight(true)>n){n=e(this).outerHeight(true)}});e(this).children("li").css("min-height",n+"px");e(this).css("min-width",t)}});e(this).children("li").children("ul").hide();if(r=="hover"){e(this).children("li").hover(function(){showMegaMenu(i,t,this,n)},function(){hideMegaMenu(i,t,this,n)})}else{e("li > a, li > span",this).click(function(r){var s=e(this).parent("li");if(e(s).children("ul").is(".submenu")){r.preventDefault();if(e(s).children("ul").css("display")!="none"){hideMegaMenu(i,t,s,n)}else{showMegaMenu(i,t,s,n)}}else{e(i).find("ul.submenu").hide()}})}}}})(jQuery)